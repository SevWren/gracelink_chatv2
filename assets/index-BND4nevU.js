(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function em(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mf={exports:{}},wr={},hf={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=Symbol.for("react.element"),tm=Symbol.for("react.portal"),nm=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),rm=Symbol.for("react.provider"),sm=Symbol.for("react.context"),lm=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),um=Symbol.for("react.memo"),cm=Symbol.for("react.lazy"),Na=Symbol.iterator;function fm(n){return n===null||typeof n!="object"?null:(n=Na&&n[Na]||n["@@iterator"],typeof n=="function"?n:null)}var gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yf=Object.assign,vf={};function so(n,e,t){this.props=n,this.context=e,this.refs=vf,this.updater=t||gf}so.prototype.isReactComponent={};so.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};so.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Cf(){}Cf.prototype=so.prototype;function Nl(n,e,t){this.props=n,this.context=e,this.refs=vf,this.updater=t||gf}var Pl=Nl.prototype=new Cf;Pl.constructor=Nl;yf(Pl,so.prototype);Pl.isPureReactComponent=!0;var Pa=Array.isArray,Tf=Object.prototype.hasOwnProperty,Rl={current:null},_f={key:!0,ref:!0,__self:!0,__source:!0};function Sf(n,e,t){var o,i={},r=null,a=null;if(e!=null)for(o in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)Tf.call(e,o)&&!_f.hasOwnProperty(o)&&(i[o]=e[o]);var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(n&&n.defaultProps)for(o in u=n.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:ni,type:n,key:r,ref:a,props:i,_owner:Rl.current}}function dm(n,e){return{$$typeof:ni,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Dl(n){return typeof n=="object"&&n!==null&&n.$$typeof===ni}function pm(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ra=/\/+/g;function Wr(n,e){return typeof n=="object"&&n!==null&&n.key!=null?pm(""+n.key):e.toString(36)}function Pi(n,e,t,o,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case ni:case tm:a=!0}}if(a)return a=n,i=i(a),n=o===""?"."+Wr(a,0):o,Pa(i)?(t="",n!=null&&(t=n.replace(Ra,"$&/")+"/"),Pi(i,e,t,"",function(f){return f})):i!=null&&(Dl(i)&&(i=dm(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ra,"$&/")+"/")+n)),e.push(i)),1;if(a=0,o=o===""?".":o+":",Pa(n))for(var u=0;u<n.length;u++){r=n[u];var c=o+Wr(r,u);a+=Pi(r,e,t,c,i)}else if(c=fm(n),typeof c=="function")for(n=c.call(n),u=0;!(r=n.next()).done;)r=r.value,c=o+Wr(r,u++),a+=Pi(r,e,t,c,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fi(n,e,t){if(n==null)return n;var o=[],i=0;return Pi(n,o,"","",function(r){return e.call(t,r,i++)}),o}function mm(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var De={current:null},Ri={transition:null},hm={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Ri,ReactCurrentOwner:Rl};function Ef(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:fi,forEach:function(n,e,t){fi(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return fi(n,function(){e++}),e},toArray:function(n){return fi(n,function(e){return e})||[]},only:function(n){if(!Dl(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};J.Component=so;J.Fragment=nm;J.Profiler=im;J.PureComponent=Nl;J.StrictMode=om;J.Suspense=am;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hm;J.act=Ef;J.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=yf({},n.props),i=n.key,r=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=Rl.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)Tf.call(e,c)&&!_f.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:ni,type:n.type,key:i,ref:r,props:o,_owner:a}};J.createContext=function(n){return n={$$typeof:sm,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:rm,_context:n},n.Consumer=n};J.createElement=Sf;J.createFactory=function(n){var e=Sf.bind(null,n);return e.type=n,e};J.createRef=function(){return{current:null}};J.forwardRef=function(n){return{$$typeof:lm,render:n}};J.isValidElement=Dl;J.lazy=function(n){return{$$typeof:cm,_payload:{_status:-1,_result:n},_init:mm}};J.memo=function(n,e){return{$$typeof:um,type:n,compare:e===void 0?null:e}};J.startTransition=function(n){var e=Ri.transition;Ri.transition={};try{n()}finally{Ri.transition=e}};J.unstable_act=Ef;J.useCallback=function(n,e){return De.current.useCallback(n,e)};J.useContext=function(n){return De.current.useContext(n)};J.useDebugValue=function(){};J.useDeferredValue=function(n){return De.current.useDeferredValue(n)};J.useEffect=function(n,e){return De.current.useEffect(n,e)};J.useId=function(){return De.current.useId()};J.useImperativeHandle=function(n,e,t){return De.current.useImperativeHandle(n,e,t)};J.useInsertionEffect=function(n,e){return De.current.useInsertionEffect(n,e)};J.useLayoutEffect=function(n,e){return De.current.useLayoutEffect(n,e)};J.useMemo=function(n,e){return De.current.useMemo(n,e)};J.useReducer=function(n,e,t){return De.current.useReducer(n,e,t)};J.useRef=function(n){return De.current.useRef(n)};J.useState=function(n){return De.current.useState(n)};J.useSyncExternalStore=function(n,e,t){return De.current.useSyncExternalStore(n,e,t)};J.useTransition=function(){return De.current.useTransition()};J.version="18.3.1";hf.exports=J;var re=hf.exports;const gm=em(re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=re,vm=Symbol.for("react.element"),Cm=Symbol.for("react.fragment"),Tm=Object.prototype.hasOwnProperty,_m=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sm={key:!0,ref:!0,__self:!0,__source:!0};function xf(n,e,t){var o,i={},r=null,a=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(o in e)Tm.call(e,o)&&!Sm.hasOwnProperty(o)&&(i[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)i[o]===void 0&&(i[o]=e[o]);return{$$typeof:vm,type:n,key:r,ref:a,props:i,_owner:_m.current}}wr.Fragment=Cm;wr.jsx=xf;wr.jsxs=xf;mf.exports=wr;var k=mf.exports,Ts={},wf={exports:{}},We={},If={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(R,G){var K=R.length;R.push(G);e:for(;0<K;){var fe=K-1>>>1,ve=R[fe];if(0<i(ve,G))R[fe]=G,R[K]=ve,K=fe;else break e}}function t(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var G=R[0],K=R.pop();if(K!==G){R[0]=K;e:for(var fe=0,ve=R.length,ui=ve>>>1;fe<ui;){var tn=2*(fe+1)-1,qr=R[tn],nn=tn+1,ci=R[nn];if(0>i(qr,K))nn<ve&&0>i(ci,qr)?(R[fe]=ci,R[nn]=K,fe=nn):(R[fe]=qr,R[tn]=K,fe=tn);else if(nn<ve&&0>i(ci,K))R[fe]=ci,R[nn]=K,fe=nn;else break e}}return G}function i(R,G){var K=R.sortIndex-G.sortIndex;return K!==0?K:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],f=[],d=1,p=null,m=3,g=!1,C=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var G=t(f);G!==null;){if(G.callback===null)o(f);else if(G.startTime<=R)o(f),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(f)}}function _(R){if(T=!1,v(R),!C)if(t(c)!==null)C=!0,he(S);else{var G=t(f);G!==null&&vt(_,G.startTime-R)}}function S(R,G){C=!1,T&&(T=!1,y(M),M=-1),g=!0;var K=m;try{for(v(G),p=t(c);p!==null&&(!(p.expirationTime>G)||R&&!Y());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,m=p.priorityLevel;var ve=fe(p.expirationTime<=G);G=n.unstable_now(),typeof ve=="function"?p.callback=ve:p===t(c)&&o(c),v(G)}else o(c);p=t(c)}if(p!==null)var ui=!0;else{var tn=t(f);tn!==null&&vt(_,tn.startTime-G),ui=!1}return ui}finally{p=null,m=K,g=!1}}var E=!1,I=null,M=-1,L=5,N=-1;function Y(){return!(n.unstable_now()-N<L)}function U(){if(I!==null){var R=n.unstable_now();N=R;var G=!0;try{G=I(!0,R)}finally{G?q():(E=!1,I=null)}}else E=!1}var q;if(typeof h=="function")q=function(){h(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,j=W.port2;W.port1.onmessage=U,q=function(){j.postMessage(null)}}else q=function(){x(U,0)};function he(R){I=R,E||(E=!0,q())}function vt(R,G){M=x(function(){R(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){C||g||(C=!0,he(S))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(R){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var K=m;m=G;try{return R()}finally{m=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=m;m=R;try{return G()}finally{m=K}},n.unstable_scheduleCallback=function(R,G,K){var fe=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?fe+K:fe):K=fe,R){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=K+ve,R={id:d++,callback:G,priorityLevel:R,startTime:K,expirationTime:ve,sortIndex:-1},K>fe?(R.sortIndex=K,e(f,R),t(c)===null&&R===t(f)&&(T?(y(M),M=-1):T=!0,vt(_,K-fe))):(R.sortIndex=ve,e(c,R),C||g||(C=!0,he(S))),R},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(R){var G=m;return function(){var K=m;m=G;try{return R.apply(this,arguments)}finally{m=K}}}})(Af);If.exports=Af;var Em=If.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=re,qe=Em;function w(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kf=new Set,$o={};function Tn(n,e){Jn(n,e),Jn(n+"Capture",e)}function Jn(n,e){for($o[n]=e,n=0;n<e.length;n++)kf.add(e[n])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=Object.prototype.hasOwnProperty,wm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Da={},La={};function Im(n){return _s.call(La,n)?!0:_s.call(Da,n)?!1:wm.test(n)?La[n]=!0:(Da[n]=!0,!1)}function Am(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function km(n,e,t,o){if(e===null||typeof e>"u"||Am(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(n,e,t,o,i,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xe[n]=new Le(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xe[e]=new Le(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xe[n]=new Le(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xe[n]=new Le(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xe[n]=new Le(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xe[n]=new Le(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xe[n]=new Le(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xe[n]=new Le(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xe[n]=new Le(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function Fl(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Ll,Fl);xe[e]=new Le(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Ll,Fl);xe[e]=new Le(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Ll,Fl);xe[e]=new Le(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xe[n]=new Le(n,1,!1,n.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xe[n]=new Le(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ul(n,e,t,o){var i=xe.hasOwnProperty(e)?xe[e]:null;(i!==null?i.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(km(e,t,i,o)&&(t=null),o||i===null?Im(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,o=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var Mt=xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,di=Symbol.for("react.element"),wn=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),Ss=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),Nf=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),xs=Symbol.for("react.suspense_list"),Bl=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Pf=Symbol.for("react.offscreen"),Fa=Symbol.iterator;function fo(n){return n===null||typeof n!="object"?null:(n=Fa&&n[Fa]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,Kr;function So(n){if(Kr===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Kr=e&&e[1]||""}return`
`+Kr+n}var Jr=!1;function Yr(n,e){if(!n||Jr)return"";Jr=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var o=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){o=f}n.call(e.prototype)}else{try{throw Error()}catch(f){o=f}n()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),r=o.stack.split(`
`),a=i.length-1,u=r.length-1;1<=a&&0<=u&&i[a]!==r[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==r[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==r[u]){var c=`
`+i[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=u);break}}}finally{Jr=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?So(n):""}function Mm(n){switch(n.tag){case 5:return So(n.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 2:case 15:return n=Yr(n.type,!1),n;case 11:return n=Yr(n.type.render,!1),n;case 1:return n=Yr(n.type,!0),n;default:return""}}function ws(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case In:return"Fragment";case wn:return"Portal";case Ss:return"Profiler";case Vl:return"StrictMode";case Es:return"Suspense";case xs:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Nf:return(n.displayName||"Context")+".Consumer";case Mf:return(n._context.displayName||"Context")+".Provider";case $l:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Bl:return e=n.displayName||null,e!==null?e:ws(n.type)||"Memo";case Pt:e=n._payload,n=n._init;try{return ws(n(e))}catch{}}return null}function Nm(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ws(e);case 8:return e===Vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jt(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rf(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pm(n){var e=Rf(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){o=""+a,r.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function pi(n){n._valueTracker||(n._valueTracker=Pm(n))}function Df(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=Rf(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function Ki(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Is(n,e){var t=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Ua(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=Jt(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lf(n,e){e=e.checked,e!=null&&Ul(n,"checked",e,!1)}function As(n,e){Lf(n,e);var t=Jt(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ks(n,e.type,t):e.hasOwnProperty("defaultValue")&&ks(n,e.type,Jt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Va(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ks(n,e,t){(e!=="number"||Ki(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Eo=Array.isArray;function Bn(n,e,t,o){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&o&&(n[t].defaultSelected=!0)}else{for(t=""+Jt(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,o&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Ms(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function $a(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(w(92));if(Eo(t)){if(1<t.length)throw Error(w(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Jt(t)}}function Ff(n,e){var t=Jt(e.value),o=Jt(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function Ba(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Uf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ns(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Uf(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var mi,Vf=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mi.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Bo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rm=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(n){Rm.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ko[e]=ko[n]})});function $f(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ko.hasOwnProperty(n)&&ko[n]?(""+e).trim():e+"px"}function Bf(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,i=$f(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,i):n[t]=i}}var Dm=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ps(n,e){if(e){if(Dm[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function Rs(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ds=null;function zl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ls=null,zn=null,Gn=null;function za(n){if(n=ri(n)){if(typeof Ls!="function")throw Error(w(280));var e=n.stateNode;e&&(e=Nr(e),Ls(n.stateNode,n.type,e))}}function zf(n){zn?Gn?Gn.push(n):Gn=[n]:zn=n}function Gf(){if(zn){var n=zn,e=Gn;if(Gn=zn=null,za(n),e)for(n=0;n<e.length;n++)za(e[n])}}function Of(n,e){return n(e)}function Hf(){}var Zr=!1;function qf(n,e,t){if(Zr)return n(e,t);Zr=!0;try{return Of(n,e,t)}finally{Zr=!1,(zn!==null||Gn!==null)&&(Hf(),Gf())}}function zo(n,e){var t=n.stateNode;if(t===null)return null;var o=Nr(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(w(231,e,typeof t));return t}var Fs=!1;if(xt)try{var po={};Object.defineProperty(po,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Fs=!1}function Lm(n,e,t,o,i,r,a,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(d){this.onError(d)}}var Mo=!1,Ji=null,Yi=!1,Us=null,Fm={onError:function(n){Mo=!0,Ji=n}};function Um(n,e,t,o,i,r,a,u,c){Mo=!1,Ji=null,Lm.apply(Fm,arguments)}function Vm(n,e,t,o,i,r,a,u,c){if(Um.apply(this,arguments),Mo){if(Mo){var f=Ji;Mo=!1,Ji=null}else throw Error(w(198));Yi||(Yi=!0,Us=f)}}function _n(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Wf(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Ga(n){if(_n(n)!==n)throw Error(w(188))}function $m(n){var e=n.alternate;if(!e){if(e=_n(n),e===null)throw Error(w(188));return e!==n?null:n}for(var t=n,o=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){t=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return Ga(i),n;if(r===o)return Ga(i),e;r=r.sibling}throw Error(w(188))}if(t.return!==o.return)t=i,o=r;else{for(var a=!1,u=i.child;u;){if(u===t){a=!0,t=i,o=r;break}if(u===o){a=!0,o=i,t=r;break}u=u.sibling}if(!a){for(u=r.child;u;){if(u===t){a=!0,t=r,o=i;break}if(u===o){a=!0,o=r,t=i;break}u=u.sibling}if(!a)throw Error(w(189))}}if(t.alternate!==o)throw Error(w(190))}if(t.tag!==3)throw Error(w(188));return t.stateNode.current===t?n:e}function Kf(n){return n=$m(n),n!==null?Jf(n):null}function Jf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Jf(n);if(e!==null)return e;n=n.sibling}return null}var Yf=qe.unstable_scheduleCallback,Oa=qe.unstable_cancelCallback,Bm=qe.unstable_shouldYield,zm=qe.unstable_requestPaint,de=qe.unstable_now,Gm=qe.unstable_getCurrentPriorityLevel,Gl=qe.unstable_ImmediatePriority,Zf=qe.unstable_UserBlockingPriority,Zi=qe.unstable_NormalPriority,Om=qe.unstable_LowPriority,Qf=qe.unstable_IdlePriority,Ir=null,mt=null;function Hm(n){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Ir,n,void 0,(n.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Km,qm=Math.log,Wm=Math.LN2;function Km(n){return n>>>=0,n===0?32:31-(qm(n)/Wm|0)|0}var hi=64,gi=4194304;function xo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qi(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,i=n.suspendedLanes,r=n.pingedLanes,a=t&268435455;if(a!==0){var u=a&~i;u!==0?o=xo(u):(r&=a,r!==0&&(o=xo(r)))}else a=t&~i,a!==0?o=xo(a):r!==0&&(o=xo(r));if(o===0)return 0;if(e!==0&&e!==o&&!(e&i)&&(i=o&-o,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-rt(e),i=1<<t,o|=n[t],e&=~i;return o}function Jm(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ym(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-rt(r),u=1<<a,c=i[a];c===-1?(!(u&t)||u&o)&&(i[a]=Jm(u,e)):c<=e&&(n.expiredLanes|=u),r&=~u}}function Vs(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Xf(){var n=hi;return hi<<=1,!(hi&4194240)&&(hi=64),n}function Qr(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function oi(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-rt(e),n[e]=t}function Zm(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-rt(t),r=1<<i;e[i]=0,o[i]=-1,n[i]=-1,t&=~r}}function Ol(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-rt(t),i=1<<o;i&e|n[o]&e&&(n[o]|=e),t&=~i}}var b=0;function bf(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var jf,Hl,ed,td,nd,$s=!1,yi=[],$t=null,Bt=null,zt=null,Go=new Map,Oo=new Map,Lt=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(n,e){switch(n){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(e.pointerId)}}function mo(n,e,t,o,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},e!==null&&(e=ri(e),e!==null&&Hl(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Xm(n,e,t,o,i){switch(e){case"focusin":return $t=mo($t,n,e,t,o,i),!0;case"dragenter":return Bt=mo(Bt,n,e,t,o,i),!0;case"mouseover":return zt=mo(zt,n,e,t,o,i),!0;case"pointerover":var r=i.pointerId;return Go.set(r,mo(Go.get(r)||null,n,e,t,o,i)),!0;case"gotpointercapture":return r=i.pointerId,Oo.set(r,mo(Oo.get(r)||null,n,e,t,o,i)),!0}return!1}function od(n){var e=ln(n.target);if(e!==null){var t=_n(e);if(t!==null){if(e=t.tag,e===13){if(e=Wf(t),e!==null){n.blockedOn=e,nd(n.priority,function(){ed(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Di(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Bs(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);Ds=o,t.target.dispatchEvent(o),Ds=null}else return e=ri(t),e!==null&&Hl(e),n.blockedOn=t,!1;e.shift()}return!0}function qa(n,e,t){Di(n)&&t.delete(e)}function bm(){$s=!1,$t!==null&&Di($t)&&($t=null),Bt!==null&&Di(Bt)&&(Bt=null),zt!==null&&Di(zt)&&(zt=null),Go.forEach(qa),Oo.forEach(qa)}function ho(n,e){n.blockedOn===e&&(n.blockedOn=null,$s||($s=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,bm)))}function Ho(n){function e(i){return ho(i,n)}if(0<yi.length){ho(yi[0],n);for(var t=1;t<yi.length;t++){var o=yi[t];o.blockedOn===n&&(o.blockedOn=null)}}for($t!==null&&ho($t,n),Bt!==null&&ho(Bt,n),zt!==null&&ho(zt,n),Go.forEach(e),Oo.forEach(e),t=0;t<Lt.length;t++)o=Lt[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<Lt.length&&(t=Lt[0],t.blockedOn===null);)od(t),t.blockedOn===null&&Lt.shift()}var On=Mt.ReactCurrentBatchConfig,Xi=!0;function jm(n,e,t,o){var i=b,r=On.transition;On.transition=null;try{b=1,ql(n,e,t,o)}finally{b=i,On.transition=r}}function eh(n,e,t,o){var i=b,r=On.transition;On.transition=null;try{b=4,ql(n,e,t,o)}finally{b=i,On.transition=r}}function ql(n,e,t,o){if(Xi){var i=Bs(n,e,t,o);if(i===null)ss(n,e,o,bi,t),Ha(n,o);else if(Xm(i,n,e,t,o))o.stopPropagation();else if(Ha(n,o),e&4&&-1<Qm.indexOf(n)){for(;i!==null;){var r=ri(i);if(r!==null&&jf(r),r=Bs(n,e,t,o),r===null&&ss(n,e,o,bi,t),r===i)break;i=r}i!==null&&o.stopPropagation()}else ss(n,e,o,null,t)}}var bi=null;function Bs(n,e,t,o){if(bi=null,n=zl(o),n=ln(n),n!==null)if(e=_n(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Wf(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return bi=n,null}function id(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gm()){case Gl:return 1;case Zf:return 4;case Zi:case Om:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var Ut=null,Wl=null,Li=null;function rd(){if(Li)return Li;var n,e=Wl,t=e.length,o,i="value"in Ut?Ut.value:Ut.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(o=1;o<=a&&e[t-o]===i[r-o];o++);return Li=i.slice(n,1<o?1-o:void 0)}function Fi(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function vi(){return!0}function Wa(){return!1}function Ke(n){function e(t,o,i,r,a){this._reactName=t,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?vi:Wa,this.isPropagationStopped=Wa,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Ke(lo),ii=ue({},lo,{view:0,detail:0}),th=Ke(ii),Xr,br,go,Ar=ue({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==go&&(go&&n.type==="mousemove"?(Xr=n.screenX-go.screenX,br=n.screenY-go.screenY):br=Xr=0,go=n),Xr)},movementY:function(n){return"movementY"in n?n.movementY:br}}),Ka=Ke(Ar),nh=ue({},Ar,{dataTransfer:0}),oh=Ke(nh),ih=ue({},ii,{relatedTarget:0}),jr=Ke(ih),rh=ue({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=Ke(rh),lh=ue({},lo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ah=Ke(lh),uh=ue({},lo,{data:0}),Ja=Ke(uh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=dh[n])?!!e[n]:!1}function Jl(){return ph}var mh=ue({},ii,{key:function(n){if(n.key){var e=ch[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(n){return n.type==="keypress"?Fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hh=Ke(mh),gh=ue({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ya=Ke(gh),yh=ue({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),vh=Ke(yh),Ch=ue({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Th=Ke(Ch),_h=ue({},Ar,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Sh=Ke(_h),Eh=[9,13,27,32],Yl=xt&&"CompositionEvent"in window,No=null;xt&&"documentMode"in document&&(No=document.documentMode);var xh=xt&&"TextEvent"in window&&!No,sd=xt&&(!Yl||No&&8<No&&11>=No),Za=" ",Qa=!1;function ld(n,e){switch(n){case"keyup":return Eh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var An=!1;function wh(n,e){switch(n){case"compositionend":return ad(e);case"keypress":return e.which!==32?null:(Qa=!0,Za);case"textInput":return n=e.data,n===Za&&Qa?null:n;default:return null}}function Ih(n,e){if(An)return n==="compositionend"||!Yl&&ld(n,e)?(n=rd(),Li=Wl=Ut=null,An=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sd&&e.locale!=="ko"?null:e.data;default:return null}}var Ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xa(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Ah[n.type]:e==="textarea"}function ud(n,e,t,o){zf(o),e=ji(e,"onChange"),0<e.length&&(t=new Kl("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var Po=null,qo=null;function kh(n){Td(n,0)}function kr(n){var e=Nn(n);if(Df(e))return n}function Mh(n,e){if(n==="change")return e}var cd=!1;if(xt){var es;if(xt){var ts="oninput"in document;if(!ts){var ba=document.createElement("div");ba.setAttribute("oninput","return;"),ts=typeof ba.oninput=="function"}es=ts}else es=!1;cd=es&&(!document.documentMode||9<document.documentMode)}function ja(){Po&&(Po.detachEvent("onpropertychange",fd),qo=Po=null)}function fd(n){if(n.propertyName==="value"&&kr(qo)){var e=[];ud(e,qo,n,zl(n)),qf(kh,e)}}function Nh(n,e,t){n==="focusin"?(ja(),Po=e,qo=t,Po.attachEvent("onpropertychange",fd)):n==="focusout"&&ja()}function Ph(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kr(qo)}function Rh(n,e){if(n==="click")return kr(e)}function Dh(n,e){if(n==="input"||n==="change")return kr(e)}function Lh(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var at=typeof Object.is=="function"?Object.is:Lh;function Wo(n,e){if(at(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var i=t[o];if(!_s.call(e,i)||!at(n[i],e[i]))return!1}return!0}function eu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tu(n,e){var t=eu(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=eu(t)}}function dd(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?dd(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function pd(){for(var n=window,e=Ki();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ki(n.document)}return e}function Zl(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Fh(n){var e=pd(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&dd(t.ownerDocument.documentElement,t)){if(o!==null&&Zl(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!n.extend&&r>o&&(i=o,o=r,r=i),i=tu(t,r);var a=tu(t,o);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>o?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Uh=xt&&"documentMode"in document&&11>=document.documentMode,kn=null,zs=null,Ro=null,Gs=!1;function nu(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Gs||kn==null||kn!==Ki(o)||(o=kn,"selectionStart"in o&&Zl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&Wo(Ro,o)||(Ro=o,o=ji(zs,"onSelect"),0<o.length&&(e=new Kl("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=kn)))}function Ci(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Mn={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},ns={},md={};xt&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function Mr(n){if(ns[n])return ns[n];if(!Mn[n])return n;var e=Mn[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in md)return ns[n]=e[t];return n}var hd=Mr("animationend"),gd=Mr("animationiteration"),yd=Mr("animationstart"),vd=Mr("transitionend"),Cd=new Map,ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(n,e){Cd.set(n,e),Tn(e,[n])}for(var os=0;os<ou.length;os++){var is=ou[os],Vh=is.toLowerCase(),$h=is[0].toUpperCase()+is.slice(1);Qt(Vh,"on"+$h)}Qt(hd,"onAnimationEnd");Qt(gd,"onAnimationIteration");Qt(yd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(vd,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bh=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function iu(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,Vm(o,e,void 0,n),n.currentTarget=null}function Td(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],i=o.event;o=o.listeners;e:{var r=void 0;if(e)for(var a=o.length-1;0<=a;a--){var u=o[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==r&&i.isPropagationStopped())break e;iu(i,u,f),r=c}else for(a=0;a<o.length;a++){if(u=o[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==r&&i.isPropagationStopped())break e;iu(i,u,f),r=c}}}if(Yi)throw n=Us,Yi=!1,Us=null,n}function ne(n,e){var t=e[Ks];t===void 0&&(t=e[Ks]=new Set);var o=n+"__bubble";t.has(o)||(_d(e,n,2,!1),t.add(o))}function rs(n,e,t){var o=0;e&&(o|=4),_d(t,n,o,e)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function Ko(n){if(!n[Ti]){n[Ti]=!0,kf.forEach(function(t){t!=="selectionchange"&&(Bh.has(t)||rs(t,!1,n),rs(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ti]||(e[Ti]=!0,rs("selectionchange",!1,e))}}function _d(n,e,t,o){switch(id(e)){case 1:var i=jm;break;case 4:i=eh;break;default:i=ql}t=i.bind(null,e,t,n),i=void 0,!Fs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),o?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function ss(n,e,t,o,i){var r=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=o.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=ln(u),a===null)return;if(c=a.tag,c===5||c===6){o=r=a;continue e}u=u.parentNode}}o=o.return}qf(function(){var f=r,d=zl(t),p=[];e:{var m=Cd.get(n);if(m!==void 0){var g=Kl,C=n;switch(n){case"keypress":if(Fi(t)===0)break e;case"keydown":case"keyup":g=hh;break;case"focusin":C="focus",g=jr;break;case"focusout":C="blur",g=jr;break;case"beforeblur":case"afterblur":g=jr;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vh;break;case hd:case gd:case yd:g=sh;break;case vd:g=Th;break;case"scroll":g=th;break;case"wheel":g=Sh;break;case"copy":case"cut":case"paste":g=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ya}var T=(e&4)!==0,x=!T&&n==="scroll",y=T?m!==null?m+"Capture":null:m;T=[];for(var h=f,v;h!==null;){v=h;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=zo(h,y),_!=null&&T.push(Jo(h,_,v)))),x)break;h=h.return}0<T.length&&(m=new g(m,C,null,t,d),p.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",m&&t!==Ds&&(C=t.relatedTarget||t.fromElement)&&(ln(C)||C[wt]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(C=t.relatedTarget||t.toElement,g=f,C=C?ln(C):null,C!==null&&(x=_n(C),C!==x||C.tag!==5&&C.tag!==6)&&(C=null)):(g=null,C=f),g!==C)){if(T=Ka,_="onMouseLeave",y="onMouseEnter",h="mouse",(n==="pointerout"||n==="pointerover")&&(T=Ya,_="onPointerLeave",y="onPointerEnter",h="pointer"),x=g==null?m:Nn(g),v=C==null?m:Nn(C),m=new T(_,h+"leave",g,t,d),m.target=x,m.relatedTarget=v,_=null,ln(d)===f&&(T=new T(y,h+"enter",C,t,d),T.target=v,T.relatedTarget=x,_=T),x=_,g&&C)t:{for(T=g,y=C,h=0,v=T;v;v=Sn(v))h++;for(v=0,_=y;_;_=Sn(_))v++;for(;0<h-v;)T=Sn(T),h--;for(;0<v-h;)y=Sn(y),v--;for(;h--;){if(T===y||y!==null&&T===y.alternate)break t;T=Sn(T),y=Sn(y)}T=null}else T=null;g!==null&&ru(p,m,g,T,!1),C!==null&&x!==null&&ru(p,x,C,T,!0)}}e:{if(m=f?Nn(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var S=Mh;else if(Xa(m))if(cd)S=Dh;else{S=Ph;var E=Nh}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Rh);if(S&&(S=S(n,f))){ud(p,S,t,d);break e}E&&E(n,m,f),n==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&ks(m,"number",m.value)}switch(E=f?Nn(f):window,n){case"focusin":(Xa(E)||E.contentEditable==="true")&&(kn=E,zs=f,Ro=null);break;case"focusout":Ro=zs=kn=null;break;case"mousedown":Gs=!0;break;case"contextmenu":case"mouseup":case"dragend":Gs=!1,nu(p,t,d);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":nu(p,t,d)}var I;if(Yl)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else An?ld(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(sd&&t.locale!=="ko"&&(An||M!=="onCompositionStart"?M==="onCompositionEnd"&&An&&(I=rd()):(Ut=d,Wl="value"in Ut?Ut.value:Ut.textContent,An=!0)),E=ji(f,M),0<E.length&&(M=new Ja(M,n,null,t,d),p.push({event:M,listeners:E}),I?M.data=I:(I=ad(t),I!==null&&(M.data=I)))),(I=xh?wh(n,t):Ih(n,t))&&(f=ji(f,"onBeforeInput"),0<f.length&&(d=new Ja("onBeforeInput","beforeinput",null,t,d),p.push({event:d,listeners:f}),d.data=I))}Td(p,e)})}function Jo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ji(n,e){for(var t=e+"Capture",o=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=zo(n,t),r!=null&&o.unshift(Jo(n,r,i)),r=zo(n,e),r!=null&&o.push(Jo(n,r,i))),n=n.return}return o}function Sn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ru(n,e,t,o,i){for(var r=e._reactName,a=[];t!==null&&t!==o;){var u=t,c=u.alternate,f=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&f!==null&&(u=f,i?(c=zo(t,r),c!=null&&a.unshift(Jo(t,c,u))):i||(c=zo(t,r),c!=null&&a.push(Jo(t,c,u)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var zh=/\r\n?/g,Gh=/\u0000|\uFFFD/g;function su(n){return(typeof n=="string"?n:""+n).replace(zh,`
`).replace(Gh,"")}function _i(n,e,t){if(e=su(e),su(n)!==e&&t)throw Error(w(425))}function er(){}var Os=null,Hs=null;function qs(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ws=typeof setTimeout=="function"?setTimeout:void 0,Oh=typeof clearTimeout=="function"?clearTimeout:void 0,lu=typeof Promise=="function"?Promise:void 0,Hh=typeof queueMicrotask=="function"?queueMicrotask:typeof lu<"u"?function(n){return lu.resolve(null).then(n).catch(qh)}:Ws;function qh(n){setTimeout(function(){throw n})}function ls(n,e){var t=e,o=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(o===0){n.removeChild(i),Ho(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=i}while(t);Ho(e)}function Gt(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function au(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ao=Math.random().toString(36).slice(2),dt="__reactFiber$"+ao,Yo="__reactProps$"+ao,wt="__reactContainer$"+ao,Ks="__reactEvents$"+ao,Wh="__reactListeners$"+ao,Kh="__reactHandles$"+ao;function ln(n){var e=n[dt];if(e)return e;for(var t=n.parentNode;t;){if(e=t[wt]||t[dt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=au(n);n!==null;){if(t=n[dt])return t;n=au(n)}return e}n=t,t=n.parentNode}return null}function ri(n){return n=n[dt]||n[wt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Nn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(w(33))}function Nr(n){return n[Yo]||null}var Js=[],Pn=-1;function Xt(n){return{current:n}}function ie(n){0>Pn||(n.current=Js[Pn],Js[Pn]=null,Pn--)}function ee(n,e){Pn++,Js[Pn]=n.current,n.current=e}var Yt={},ke=Xt(Yt),Ve=Xt(!1),dn=Yt;function Yn(n,e){var t=n.type.contextTypes;if(!t)return Yt;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function $e(n){return n=n.childContextTypes,n!=null}function tr(){ie(Ve),ie(ke)}function uu(n,e,t){if(ke.current!==Yt)throw Error(w(168));ee(ke,e),ee(Ve,t)}function Sd(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var i in o)if(!(i in e))throw Error(w(108,Nm(n)||"Unknown",i));return ue({},t,o)}function nr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yt,dn=ke.current,ee(ke,n),ee(Ve,Ve.current),!0}function cu(n,e,t){var o=n.stateNode;if(!o)throw Error(w(169));t?(n=Sd(n,e,dn),o.__reactInternalMemoizedMergedChildContext=n,ie(Ve),ie(ke),ee(ke,n)):ie(Ve),ee(Ve,t)}var Tt=null,Pr=!1,as=!1;function Ed(n){Tt===null?Tt=[n]:Tt.push(n)}function Jh(n){Pr=!0,Ed(n)}function bt(){if(!as&&Tt!==null){as=!0;var n=0,e=b;try{var t=Tt;for(b=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}Tt=null,Pr=!1}catch(i){throw Tt!==null&&(Tt=Tt.slice(n+1)),Yf(Gl,bt),i}finally{b=e,as=!1}}return null}var Rn=[],Dn=0,or=null,ir=0,Je=[],Ye=0,pn=null,_t=1,St="";function rn(n,e){Rn[Dn++]=ir,Rn[Dn++]=or,or=n,ir=e}function xd(n,e,t){Je[Ye++]=_t,Je[Ye++]=St,Je[Ye++]=pn,pn=n;var o=_t;n=St;var i=32-rt(o)-1;o&=~(1<<i),t+=1;var r=32-rt(e)+i;if(30<r){var a=i-i%5;r=(o&(1<<a)-1).toString(32),o>>=a,i-=a,_t=1<<32-rt(e)+i|t<<i|o,St=r+n}else _t=1<<r|t<<i|o,St=n}function Ql(n){n.return!==null&&(rn(n,1),xd(n,1,0))}function Xl(n){for(;n===or;)or=Rn[--Dn],Rn[Dn]=null,ir=Rn[--Dn],Rn[Dn]=null;for(;n===pn;)pn=Je[--Ye],Je[Ye]=null,St=Je[--Ye],Je[Ye]=null,_t=Je[--Ye],Je[Ye]=null}var He=null,Oe=null,se=!1,it=null;function wd(n,e){var t=Qe(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fu(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,He=n,Oe=Gt(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,He=n,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=pn!==null?{id:_t,overflow:St}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qe(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,He=n,Oe=null,!0):!1;default:return!1}}function Ys(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Zs(n){if(se){var e=Oe;if(e){var t=e;if(!fu(n,e)){if(Ys(n))throw Error(w(418));e=Gt(t.nextSibling);var o=He;e&&fu(n,e)?wd(o,t):(n.flags=n.flags&-4097|2,se=!1,He=n)}}else{if(Ys(n))throw Error(w(418));n.flags=n.flags&-4097|2,se=!1,He=n}}}function du(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;He=n}function Si(n){if(n!==He)return!1;if(!se)return du(n),se=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!qs(n.type,n.memoizedProps)),e&&(e=Oe)){if(Ys(n))throw Id(),Error(w(418));for(;e;)wd(n,e),e=Gt(e.nextSibling)}if(du(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(w(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Oe=Gt(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Oe=null}}else Oe=He?Gt(n.stateNode.nextSibling):null;return!0}function Id(){for(var n=Oe;n;)n=Gt(n.nextSibling)}function Zn(){Oe=He=null,se=!1}function bl(n){it===null?it=[n]:it.push(n)}var Yh=Mt.ReactCurrentBatchConfig;function yo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(w(309));var o=t.stateNode}if(!o)throw Error(w(147,n));var i=o,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var u=i.refs;a===null?delete u[r]:u[r]=a},e._stringRef=r,e)}if(typeof n!="string")throw Error(w(284));if(!t._owner)throw Error(w(290,n))}return n}function Ei(n,e){throw n=Object.prototype.toString.call(e),Error(w(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function pu(n){var e=n._init;return e(n._payload)}function Ad(n){function e(y,h){if(n){var v=y.deletions;v===null?(y.deletions=[h],y.flags|=16):v.push(h)}}function t(y,h){if(!n)return null;for(;h!==null;)e(y,h),h=h.sibling;return null}function o(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function i(y,h){return y=Wt(y,h),y.index=0,y.sibling=null,y}function r(y,h,v){return y.index=v,n?(v=y.alternate,v!==null?(v=v.index,v<h?(y.flags|=2,h):v):(y.flags|=2,h)):(y.flags|=1048576,h)}function a(y){return n&&y.alternate===null&&(y.flags|=2),y}function u(y,h,v,_){return h===null||h.tag!==6?(h=hs(v,y.mode,_),h.return=y,h):(h=i(h,v),h.return=y,h)}function c(y,h,v,_){var S=v.type;return S===In?d(y,h,v.props.children,_,v.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pt&&pu(S)===h.type)?(_=i(h,v.props),_.ref=yo(y,h,v),_.return=y,_):(_=Oi(v.type,v.key,v.props,null,y.mode,_),_.ref=yo(y,h,v),_.return=y,_)}function f(y,h,v,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=gs(v,y.mode,_),h.return=y,h):(h=i(h,v.children||[]),h.return=y,h)}function d(y,h,v,_,S){return h===null||h.tag!==7?(h=fn(v,y.mode,_,S),h.return=y,h):(h=i(h,v),h.return=y,h)}function p(y,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=hs(""+h,y.mode,v),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case di:return v=Oi(h.type,h.key,h.props,null,y.mode,v),v.ref=yo(y,null,h),v.return=y,v;case wn:return h=gs(h,y.mode,v),h.return=y,h;case Pt:var _=h._init;return p(y,_(h._payload),v)}if(Eo(h)||fo(h))return h=fn(h,y.mode,v,null),h.return=y,h;Ei(y,h)}return null}function m(y,h,v,_){var S=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:u(y,h,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case di:return v.key===S?c(y,h,v,_):null;case wn:return v.key===S?f(y,h,v,_):null;case Pt:return S=v._init,m(y,h,S(v._payload),_)}if(Eo(v)||fo(v))return S!==null?null:d(y,h,v,_,null);Ei(y,v)}return null}function g(y,h,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,u(h,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case di:return y=y.get(_.key===null?v:_.key)||null,c(h,y,_,S);case wn:return y=y.get(_.key===null?v:_.key)||null,f(h,y,_,S);case Pt:var E=_._init;return g(y,h,v,E(_._payload),S)}if(Eo(_)||fo(_))return y=y.get(v)||null,d(h,y,_,S,null);Ei(h,_)}return null}function C(y,h,v,_){for(var S=null,E=null,I=h,M=h=0,L=null;I!==null&&M<v.length;M++){I.index>M?(L=I,I=null):L=I.sibling;var N=m(y,I,v[M],_);if(N===null){I===null&&(I=L);break}n&&I&&N.alternate===null&&e(y,I),h=r(N,h,M),E===null?S=N:E.sibling=N,E=N,I=L}if(M===v.length)return t(y,I),se&&rn(y,M),S;if(I===null){for(;M<v.length;M++)I=p(y,v[M],_),I!==null&&(h=r(I,h,M),E===null?S=I:E.sibling=I,E=I);return se&&rn(y,M),S}for(I=o(y,I);M<v.length;M++)L=g(I,y,M,v[M],_),L!==null&&(n&&L.alternate!==null&&I.delete(L.key===null?M:L.key),h=r(L,h,M),E===null?S=L:E.sibling=L,E=L);return n&&I.forEach(function(Y){return e(y,Y)}),se&&rn(y,M),S}function T(y,h,v,_){var S=fo(v);if(typeof S!="function")throw Error(w(150));if(v=S.call(v),v==null)throw Error(w(151));for(var E=S=null,I=h,M=h=0,L=null,N=v.next();I!==null&&!N.done;M++,N=v.next()){I.index>M?(L=I,I=null):L=I.sibling;var Y=m(y,I,N.value,_);if(Y===null){I===null&&(I=L);break}n&&I&&Y.alternate===null&&e(y,I),h=r(Y,h,M),E===null?S=Y:E.sibling=Y,E=Y,I=L}if(N.done)return t(y,I),se&&rn(y,M),S;if(I===null){for(;!N.done;M++,N=v.next())N=p(y,N.value,_),N!==null&&(h=r(N,h,M),E===null?S=N:E.sibling=N,E=N);return se&&rn(y,M),S}for(I=o(y,I);!N.done;M++,N=v.next())N=g(I,y,M,N.value,_),N!==null&&(n&&N.alternate!==null&&I.delete(N.key===null?M:N.key),h=r(N,h,M),E===null?S=N:E.sibling=N,E=N);return n&&I.forEach(function(U){return e(y,U)}),se&&rn(y,M),S}function x(y,h,v,_){if(typeof v=="object"&&v!==null&&v.type===In&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case di:e:{for(var S=v.key,E=h;E!==null;){if(E.key===S){if(S=v.type,S===In){if(E.tag===7){t(y,E.sibling),h=i(E,v.props.children),h.return=y,y=h;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pt&&pu(S)===E.type){t(y,E.sibling),h=i(E,v.props),h.ref=yo(y,E,v),h.return=y,y=h;break e}t(y,E);break}else e(y,E);E=E.sibling}v.type===In?(h=fn(v.props.children,y.mode,_,v.key),h.return=y,y=h):(_=Oi(v.type,v.key,v.props,null,y.mode,_),_.ref=yo(y,h,v),_.return=y,y=_)}return a(y);case wn:e:{for(E=v.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){t(y,h.sibling),h=i(h,v.children||[]),h.return=y,y=h;break e}else{t(y,h);break}else e(y,h);h=h.sibling}h=gs(v,y.mode,_),h.return=y,y=h}return a(y);case Pt:return E=v._init,x(y,h,E(v._payload),_)}if(Eo(v))return C(y,h,v,_);if(fo(v))return T(y,h,v,_);Ei(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(t(y,h.sibling),h=i(h,v),h.return=y,y=h):(t(y,h),h=hs(v,y.mode,_),h.return=y,y=h),a(y)):t(y,h)}return x}var Qn=Ad(!0),kd=Ad(!1),rr=Xt(null),sr=null,Ln=null,jl=null;function ea(){jl=Ln=sr=null}function ta(n){var e=rr.current;ie(rr),n._currentValue=e}function Qs(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Hn(n,e){sr=n,jl=Ln=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ue=!0),n.firstContext=null)}function be(n){var e=n._currentValue;if(jl!==n)if(n={context:n,memoizedValue:e,next:null},Ln===null){if(sr===null)throw Error(w(308));Ln=n,sr.dependencies={lanes:0,firstContext:n}}else Ln=Ln.next=n;return e}var an=null;function na(n){an===null?an=[n]:an.push(n)}function Md(n,e,t,o){var i=e.interleaved;return i===null?(t.next=t,na(e)):(t.next=i.next,i.next=t),e.interleaved=t,It(n,o)}function It(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Rt=!1;function oa(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Et(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ot(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,Q&2){var i=o.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),o.pending=e,It(n,t)}return i=o.interleaved,i===null?(e.next=e,na(o)):(e.next=i.next,i.next=e),o.interleaved=e,It(n,t)}function Ui(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,Ol(n,t)}}function mu(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=a:r=r.next=a,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function lr(n,e,t,o){var i=n.updateQueue;Rt=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?r=f:a.next=f,a=c;var d=n.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==a&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(r!==null){var p=i.baseState;a=0,d=f=c=null,u=r;do{var m=u.lane,g=u.eventTime;if((o&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=n,T=u;switch(m=e,g=t,T.tag){case 1:if(C=T.payload,typeof C=="function"){p=C.call(g,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,m=typeof C=="function"?C.call(g,p,m):C,m==null)break e;p=ue({},p,m);break e;case 2:Rt=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else g={eventTime:g,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=g,c=p):d=d.next=g,a|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);hn|=a,n.lanes=a,n.memoizedState=p}}function hu(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],i=o.callback;if(i!==null){if(o.callback=null,o=t,typeof i!="function")throw Error(w(191,i));i.call(o)}}}var si={},ht=Xt(si),Zo=Xt(si),Qo=Xt(si);function un(n){if(n===si)throw Error(w(174));return n}function ia(n,e){switch(ee(Qo,e),ee(Zo,n),ee(ht,si),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ns(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ns(e,n)}ie(ht),ee(ht,e)}function Xn(){ie(ht),ie(Zo),ie(Qo)}function Pd(n){un(Qo.current);var e=un(ht.current),t=Ns(e,n.type);e!==t&&(ee(Zo,n),ee(ht,t))}function ra(n){Zo.current===n&&(ie(ht),ie(Zo))}var le=Xt(0);function ar(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var us=[];function sa(){for(var n=0;n<us.length;n++)us[n]._workInProgressVersionPrimary=null;us.length=0}var Vi=Mt.ReactCurrentDispatcher,cs=Mt.ReactCurrentBatchConfig,mn=0,ae=null,ge=null,Ce=null,ur=!1,Do=!1,Xo=0,Zh=0;function we(){throw Error(w(321))}function la(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!at(n[t],e[t]))return!1;return!0}function aa(n,e,t,o,i,r){if(mn=r,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vi.current=n===null||n.memoizedState===null?jh:eg,n=t(o,i),Do){r=0;do{if(Do=!1,Xo=0,25<=r)throw Error(w(301));r+=1,Ce=ge=null,e.updateQueue=null,Vi.current=tg,n=t(o,i)}while(Do)}if(Vi.current=cr,e=ge!==null&&ge.next!==null,mn=0,Ce=ge=ae=null,ur=!1,e)throw Error(w(300));return n}function ua(){var n=Xo!==0;return Xo=0,n}function ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ae.memoizedState=Ce=n:Ce=Ce.next=n,Ce}function je(){if(ge===null){var n=ae.alternate;n=n!==null?n.memoizedState:null}else n=ge.next;var e=Ce===null?ae.memoizedState:Ce.next;if(e!==null)Ce=e,ge=n;else{if(n===null)throw Error(w(310));ge=n,n={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ce===null?ae.memoizedState=Ce=n:Ce=Ce.next=n}return Ce}function bo(n,e){return typeof e=="function"?e(n):e}function fs(n){var e=je(),t=e.queue;if(t===null)throw Error(w(311));t.lastRenderedReducer=n;var o=ge,i=o.baseQueue,r=t.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}o.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,o=o.baseState;var u=a=null,c=null,f=r;do{var d=f.lane;if((mn&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:n(o,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=p,a=o):c=c.next=p,ae.lanes|=d,hn|=d}f=f.next}while(f!==null&&f!==r);c===null?a=o:c.next=u,at(o,e.memoizedState)||(Ue=!0),e.memoizedState=o,e.baseState=a,e.baseQueue=c,t.lastRenderedState=o}if(n=t.interleaved,n!==null){i=n;do r=i.lane,ae.lanes|=r,hn|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ds(n){var e=je(),t=e.queue;if(t===null)throw Error(w(311));t.lastRenderedReducer=n;var o=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do r=n(r,a.action),a=a.next;while(a!==i);at(r,e.memoizedState)||(Ue=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,o]}function Rd(){}function Dd(n,e){var t=ae,o=je(),i=e(),r=!at(o.memoizedState,i);if(r&&(o.memoizedState=i,Ue=!0),o=o.queue,ca(Ud.bind(null,t,o,n),[n]),o.getSnapshot!==e||r||Ce!==null&&Ce.memoizedState.tag&1){if(t.flags|=2048,jo(9,Fd.bind(null,t,o,i,e),void 0,null),Te===null)throw Error(w(349));mn&30||Ld(t,e,i)}return i}function Ld(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Fd(n,e,t,o){e.value=t,e.getSnapshot=o,Vd(e)&&$d(n)}function Ud(n,e,t){return t(function(){Vd(e)&&$d(n)})}function Vd(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!at(n,t)}catch{return!0}}function $d(n){var e=It(n,1);e!==null&&st(e,n,1,-1)}function gu(n){var e=ft();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:n},e.queue=n,n=n.dispatch=bh.bind(null,ae,n),[e.memoizedState,n]}function jo(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function Bd(){return je().memoizedState}function $i(n,e,t,o){var i=ft();ae.flags|=n,i.memoizedState=jo(1|e,t,void 0,o===void 0?null:o)}function Rr(n,e,t,o){var i=je();o=o===void 0?null:o;var r=void 0;if(ge!==null){var a=ge.memoizedState;if(r=a.destroy,o!==null&&la(o,a.deps)){i.memoizedState=jo(e,t,r,o);return}}ae.flags|=n,i.memoizedState=jo(1|e,t,r,o)}function yu(n,e){return $i(8390656,8,n,e)}function ca(n,e){return Rr(2048,8,n,e)}function zd(n,e){return Rr(4,2,n,e)}function Gd(n,e){return Rr(4,4,n,e)}function Od(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Hd(n,e,t){return t=t!=null?t.concat([n]):null,Rr(4,4,Od.bind(null,e,n),t)}function fa(){}function qd(n,e){var t=je();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&la(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function Wd(n,e){var t=je();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&la(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function Kd(n,e,t){return mn&21?(at(t,e)||(t=Xf(),ae.lanes|=t,hn|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ue=!0),n.memoizedState=t)}function Qh(n,e){var t=b;b=t!==0&&4>t?t:4,n(!0);var o=cs.transition;cs.transition={};try{n(!1),e()}finally{b=t,cs.transition=o}}function Jd(){return je().memoizedState}function Xh(n,e,t){var o=qt(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},Yd(n))Zd(e,t);else if(t=Md(n,e,t,o),t!==null){var i=Pe();st(t,n,o,i),Qd(t,e,o)}}function bh(n,e,t){var o=qt(n),i={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(Yd(n))Zd(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,u=r(a,t);if(i.hasEagerState=!0,i.eagerState=u,at(u,a)){var c=e.interleaved;c===null?(i.next=i,na(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=Md(n,e,i,o),t!==null&&(i=Pe(),st(t,n,o,i),Qd(t,e,o))}}function Yd(n){var e=n.alternate;return n===ae||e!==null&&e===ae}function Zd(n,e){Do=ur=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Qd(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,Ol(n,t)}}var cr={readContext:be,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},jh={readContext:be,useCallback:function(n,e){return ft().memoizedState=[n,e===void 0?null:e],n},useContext:be,useEffect:yu,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,$i(4194308,4,Od.bind(null,e,n),t)},useLayoutEffect:function(n,e){return $i(4194308,4,n,e)},useInsertionEffect:function(n,e){return $i(4,2,n,e)},useMemo:function(n,e){var t=ft();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=ft();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=Xh.bind(null,ae,n),[o.memoizedState,n]},useRef:function(n){var e=ft();return n={current:n},e.memoizedState=n},useState:gu,useDebugValue:fa,useDeferredValue:function(n){return ft().memoizedState=n},useTransition:function(){var n=gu(!1),e=n[0];return n=Qh.bind(null,n[1]),ft().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=ae,i=ft();if(se){if(t===void 0)throw Error(w(407));t=t()}else{if(t=e(),Te===null)throw Error(w(349));mn&30||Ld(o,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,yu(Ud.bind(null,o,r,n),[n]),o.flags|=2048,jo(9,Fd.bind(null,o,r,t,e),void 0,null),t},useId:function(){var n=ft(),e=Te.identifierPrefix;if(se){var t=St,o=_t;t=(o&~(1<<32-rt(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=Xo++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Zh++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},eg={readContext:be,useCallback:qd,useContext:be,useEffect:ca,useImperativeHandle:Hd,useInsertionEffect:zd,useLayoutEffect:Gd,useMemo:Wd,useReducer:fs,useRef:Bd,useState:function(){return fs(bo)},useDebugValue:fa,useDeferredValue:function(n){var e=je();return Kd(e,ge.memoizedState,n)},useTransition:function(){var n=fs(bo)[0],e=je().memoizedState;return[n,e]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Jd,unstable_isNewReconciler:!1},tg={readContext:be,useCallback:qd,useContext:be,useEffect:ca,useImperativeHandle:Hd,useInsertionEffect:zd,useLayoutEffect:Gd,useMemo:Wd,useReducer:ds,useRef:Bd,useState:function(){return ds(bo)},useDebugValue:fa,useDeferredValue:function(n){var e=je();return ge===null?e.memoizedState=n:Kd(e,ge.memoizedState,n)},useTransition:function(){var n=ds(bo)[0],e=je().memoizedState;return[n,e]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Jd,unstable_isNewReconciler:!1};function nt(n,e){if(n&&n.defaultProps){e=ue({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Xs(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:ue({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Dr={isMounted:function(n){return(n=n._reactInternals)?_n(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=Pe(),i=qt(n),r=Et(o,i);r.payload=e,t!=null&&(r.callback=t),e=Ot(n,r,i),e!==null&&(st(e,n,i,o),Ui(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=Pe(),i=qt(n),r=Et(o,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Ot(n,r,i),e!==null&&(st(e,n,i,o),Ui(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Pe(),o=qt(n),i=Et(t,o);i.tag=2,e!=null&&(i.callback=e),e=Ot(n,i,o),e!==null&&(st(e,n,o,t),Ui(e,n,o))}};function vu(n,e,t,o,i,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,r,a):e.prototype&&e.prototype.isPureReactComponent?!Wo(t,o)||!Wo(i,r):!0}function Xd(n,e,t){var o=!1,i=Yt,r=e.contextType;return typeof r=="object"&&r!==null?r=be(r):(i=$e(e)?dn:ke.current,o=e.contextTypes,r=(o=o!=null)?Yn(n,i):Yt),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dr,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function Cu(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&Dr.enqueueReplaceState(e,e.state,null)}function bs(n,e,t,o){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},oa(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=be(r):(r=$e(e)?dn:ke.current,i.context=Yn(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Xs(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dr.enqueueReplaceState(i,i.state,null),lr(n,t,i,o),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function bn(n,e){try{var t="",o=e;do t+=Mm(o),o=o.return;while(o);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function ps(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function js(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var ng=typeof WeakMap=="function"?WeakMap:Map;function bd(n,e,t){t=Et(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){dr||(dr=!0,ul=o),js(n,e)},t}function jd(n,e,t){t=Et(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var i=e.value;t.payload=function(){return o(i)},t.callback=function(){js(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){js(n,e),typeof o!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Tu(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new ng;var i=new Set;o.set(e,i)}else i=o.get(e),i===void 0&&(i=new Set,o.set(e,i));i.has(t)||(i.add(t),n=gg.bind(null,n,e,t),e.then(n,n))}function _u(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Su(n,e,t,o,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Et(-1,1),e.tag=2,Ot(t,e,1))),t.lanes|=1),n)}var og=Mt.ReactCurrentOwner,Ue=!1;function Me(n,e,t,o){e.child=n===null?kd(e,null,t,o):Qn(e,n.child,t,o)}function Eu(n,e,t,o,i){t=t.render;var r=e.ref;return Hn(e,i),o=aa(n,e,t,o,r,i),t=ua(),n!==null&&!Ue?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,At(n,e,i)):(se&&t&&Ql(e),e.flags|=1,Me(n,e,o,i),e.child)}function xu(n,e,t,o,i){if(n===null){var r=t.type;return typeof r=="function"&&!Ca(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,ep(n,e,r,o,i)):(n=Oi(t.type,null,o,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var a=r.memoizedProps;if(t=t.compare,t=t!==null?t:Wo,t(a,o)&&n.ref===e.ref)return At(n,e,i)}return e.flags|=1,n=Wt(r,o),n.ref=e.ref,n.return=e,e.child=n}function ep(n,e,t,o,i){if(n!==null){var r=n.memoizedProps;if(Wo(r,o)&&n.ref===e.ref)if(Ue=!1,e.pendingProps=o=r,(n.lanes&i)!==0)n.flags&131072&&(Ue=!0);else return e.lanes=n.lanes,At(n,e,i)}return el(n,e,t,o,i)}function tp(n,e,t){var o=e.pendingProps,i=o.children,r=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Un,ze),ze|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ee(Un,ze),ze|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:t,ee(Un,ze),ze|=o}else r!==null?(o=r.baseLanes|t,e.memoizedState=null):o=t,ee(Un,ze),ze|=o;return Me(n,e,i,t),e.child}function np(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function el(n,e,t,o,i){var r=$e(t)?dn:ke.current;return r=Yn(e,r),Hn(e,i),t=aa(n,e,t,o,r,i),o=ua(),n!==null&&!Ue?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,At(n,e,i)):(se&&o&&Ql(e),e.flags|=1,Me(n,e,t,i),e.child)}function wu(n,e,t,o,i){if($e(t)){var r=!0;nr(e)}else r=!1;if(Hn(e,i),e.stateNode===null)Bi(n,e),Xd(e,t,o),bs(e,t,o,i),o=!0;else if(n===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,f=t.contextType;typeof f=="object"&&f!==null?f=be(f):(f=$e(t)?dn:ke.current,f=Yn(e,f));var d=t.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==o||c!==f)&&Cu(e,a,o,f),Rt=!1;var m=e.memoizedState;a.state=m,lr(e,o,a,i),c=e.memoizedState,u!==o||m!==c||Ve.current||Rt?(typeof d=="function"&&(Xs(e,t,d,o),c=e.memoizedState),(u=Rt||vu(e,t,u,o,m,c,f))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),a.props=o,a.state=c,a.context=f,o=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{a=e.stateNode,Nd(n,e),u=e.memoizedProps,f=e.type===e.elementType?u:nt(e.type,u),a.props=f,p=e.pendingProps,m=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=be(c):(c=$e(t)?dn:ke.current,c=Yn(e,c));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||m!==c)&&Cu(e,a,o,c),Rt=!1,m=e.memoizedState,a.state=m,lr(e,o,a,i);var C=e.memoizedState;u!==p||m!==C||Ve.current||Rt?(typeof g=="function"&&(Xs(e,t,g,o),C=e.memoizedState),(f=Rt||vu(e,t,f,o,m,C,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,C,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=C),a.props=o,a.state=C,a.context=c,o=f):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),o=!1)}return tl(n,e,t,o,r,i)}function tl(n,e,t,o,i,r){np(n,e);var a=(e.flags&128)!==0;if(!o&&!a)return i&&cu(e,t,!1),At(n,e,r);o=e.stateNode,og.current=e;var u=a&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&a?(e.child=Qn(e,n.child,null,r),e.child=Qn(e,null,u,r)):Me(n,e,u,r),e.memoizedState=o.state,i&&cu(e,t,!0),e.child}function op(n){var e=n.stateNode;e.pendingContext?uu(n,e.pendingContext,e.pendingContext!==e.context):e.context&&uu(n,e.context,!1),ia(n,e.containerInfo)}function Iu(n,e,t,o,i){return Zn(),bl(i),e.flags|=256,Me(n,e,t,o),e.child}var nl={dehydrated:null,treeContext:null,retryLane:0};function ol(n){return{baseLanes:n,cachePool:null,transitions:null}}function ip(n,e,t){var o=e.pendingProps,i=le.current,r=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=n!==null&&n.memoizedState===null?!1:(i&2)!==0),u?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),ee(le,i&1),n===null)return Zs(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=o.children,n=o.fallback,r?(o=e.mode,r=e.child,a={mode:"hidden",children:a},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Ur(a,o,0,null),n=fn(n,o,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=ol(t),e.memoizedState=nl,n):da(e,a));if(i=n.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return ig(n,e,a,o,u,i,t);if(r){r=o.fallback,a=e.mode,i=n.child,u=i.sibling;var c={mode:"hidden",children:o.children};return!(a&1)&&e.child!==i?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Wt(i,c),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?r=Wt(u,r):(r=fn(r,a,t,null),r.flags|=2),r.return=e,o.return=e,o.sibling=r,e.child=o,o=r,r=e.child,a=n.child.memoizedState,a=a===null?ol(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~t,e.memoizedState=nl,o}return r=n.child,n=r.sibling,o=Wt(r,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function da(n,e){return e=Ur({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function xi(n,e,t,o){return o!==null&&bl(o),Qn(e,n.child,null,t),n=da(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ig(n,e,t,o,i,r,a){if(t)return e.flags&256?(e.flags&=-257,o=ps(Error(w(422))),xi(n,e,a,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=o.fallback,i=e.mode,o=Ur({mode:"visible",children:o.children},i,0,null),r=fn(r,i,a,null),r.flags|=2,o.return=e,r.return=e,o.sibling=r,e.child=o,e.mode&1&&Qn(e,n.child,null,a),e.child.memoizedState=ol(a),e.memoizedState=nl,r);if(!(e.mode&1))return xi(n,e,a,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,r=Error(w(419)),o=ps(r,o,void 0),xi(n,e,a,o)}if(u=(a&n.childLanes)!==0,Ue||u){if(o=Te,o!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|a)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,It(n,i),st(o,n,i,-1))}return va(),o=ps(Error(w(421))),xi(n,e,a,o)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=yg.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,Oe=Gt(i.nextSibling),He=e,se=!0,it=null,n!==null&&(Je[Ye++]=_t,Je[Ye++]=St,Je[Ye++]=pn,_t=n.id,St=n.overflow,pn=e),e=da(e,o.children),e.flags|=4096,e)}function Au(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),Qs(n.return,e,t)}function ms(n,e,t,o,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=t,r.tailMode=i)}function rp(n,e,t){var o=e.pendingProps,i=o.revealOrder,r=o.tail;if(Me(n,e,o.children,t),o=le.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Au(n,t,e);else if(n.tag===19)Au(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(ee(le,o),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&ar(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),ms(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&ar(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}ms(e,!0,t,null,r);break;case"together":ms(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bi(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function At(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),hn|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(w(153));if(e.child!==null){for(n=e.child,t=Wt(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Wt(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function rg(n,e,t){switch(e.tag){case 3:op(e),Zn();break;case 5:Pd(e);break;case 1:$e(e.type)&&nr(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,i=e.memoizedProps.value;ee(rr,o._currentValue),o._currentValue=i;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(ee(le,le.current&1),e.flags|=128,null):t&e.child.childLanes?ip(n,e,t):(ee(le,le.current&1),n=At(n,e,t),n!==null?n.sibling:null);ee(le,le.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return rp(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(le,le.current),o)break;return null;case 22:case 23:return e.lanes=0,tp(n,e,t)}return At(n,e,t)}var sp,il,lp,ap;sp=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};il=function(){};lp=function(n,e,t,o){var i=n.memoizedProps;if(i!==o){n=e.stateNode,un(ht.current);var r=null;switch(t){case"input":i=Is(n,i),o=Is(n,o),r=[];break;case"select":i=ue({},i,{value:void 0}),o=ue({},o,{value:void 0}),r=[];break;case"textarea":i=Ms(n,i),o=Ms(n,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=er)}Ps(t,o);var a;t=null;for(f in i)if(!o.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&($o.hasOwnProperty(f)?r||(r=[]):(r=r||[]).push(f,null));for(f in o){var c=o[f];if(u=i!=null?i[f]:void 0,o.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(r||(r=[]),r.push(f,t)),t=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(r=r||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&($o.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ne("scroll",n),r||u===c||(r=[])):(r=r||[]).push(f,c))}t&&(r=r||[]).push("style",t);var f=r;(e.updateQueue=f)&&(e.flags|=4)}};ap=function(n,e,t,o){t!==o&&(e.flags|=4)};function vo(n,e){if(!se)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function Ie(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function sg(n,e,t){var o=e.pendingProps;switch(Xl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return $e(e.type)&&tr(),Ie(e),null;case 3:return o=e.stateNode,Xn(),ie(Ve),ie(ke),sa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Si(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,it!==null&&(dl(it),it=null))),il(n,e),Ie(e),null;case 5:ra(e);var i=un(Qo.current);if(t=e.type,n!==null&&e.stateNode!=null)lp(n,e,t,o,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(w(166));return Ie(e),null}if(n=un(ht.current),Si(e)){o=e.stateNode,t=e.type;var r=e.memoizedProps;switch(o[dt]=e,o[Yo]=r,n=(e.mode&1)!==0,t){case"dialog":ne("cancel",o),ne("close",o);break;case"iframe":case"object":case"embed":ne("load",o);break;case"video":case"audio":for(i=0;i<wo.length;i++)ne(wo[i],o);break;case"source":ne("error",o);break;case"img":case"image":case"link":ne("error",o),ne("load",o);break;case"details":ne("toggle",o);break;case"input":Ua(o,r),ne("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},ne("invalid",o);break;case"textarea":$a(o,r),ne("invalid",o)}Ps(t,r),i=null;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];a==="children"?typeof u=="string"?o.textContent!==u&&(r.suppressHydrationWarning!==!0&&_i(o.textContent,u,n),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&_i(o.textContent,u,n),i=["children",""+u]):$o.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ne("scroll",o)}switch(t){case"input":pi(o),Va(o,r,!0);break;case"textarea":pi(o),Ba(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=er)}o=i,e.updateQueue=o,o!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Uf(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=a.createElement(t,{is:o.is}):(n=a.createElement(t),t==="select"&&(a=n,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):n=a.createElementNS(n,t),n[dt]=e,n[Yo]=o,sp(n,e,!1,!1),e.stateNode=n;e:{switch(a=Rs(t,o),t){case"dialog":ne("cancel",n),ne("close",n),i=o;break;case"iframe":case"object":case"embed":ne("load",n),i=o;break;case"video":case"audio":for(i=0;i<wo.length;i++)ne(wo[i],n);i=o;break;case"source":ne("error",n),i=o;break;case"img":case"image":case"link":ne("error",n),ne("load",n),i=o;break;case"details":ne("toggle",n),i=o;break;case"input":Ua(n,o),i=Is(n,o),ne("invalid",n);break;case"option":i=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},i=ue({},o,{value:void 0}),ne("invalid",n);break;case"textarea":$a(n,o),i=Ms(n,o),ne("invalid",n);break;default:i=o}Ps(t,i),u=i;for(r in u)if(u.hasOwnProperty(r)){var c=u[r];r==="style"?Bf(n,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vf(n,c)):r==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Bo(n,c):typeof c=="number"&&Bo(n,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&($o.hasOwnProperty(r)?c!=null&&r==="onScroll"&&ne("scroll",n):c!=null&&Ul(n,r,c,a))}switch(t){case"input":pi(n),Va(n,o,!1);break;case"textarea":pi(n),Ba(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Jt(o.value));break;case"select":n.multiple=!!o.multiple,r=o.value,r!=null?Bn(n,!!o.multiple,r,!1):o.defaultValue!=null&&Bn(n,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=er)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ie(e),null;case 6:if(n&&e.stateNode!=null)ap(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(w(166));if(t=un(Qo.current),un(ht.current),Si(e)){if(o=e.stateNode,t=e.memoizedProps,o[dt]=e,(r=o.nodeValue!==t)&&(n=He,n!==null))switch(n.tag){case 3:_i(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&_i(o.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[dt]=e,e.stateNode=o}return Ie(e),null;case 13:if(ie(le),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(se&&Oe!==null&&e.mode&1&&!(e.flags&128))Id(),Zn(),e.flags|=98560,r=!1;else if(r=Si(e),o!==null&&o.dehydrated!==null){if(n===null){if(!r)throw Error(w(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(w(317));r[dt]=e}else Zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),r=!1}else it!==null&&(dl(it),it=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||le.current&1?ye===0&&(ye=3):va())),e.updateQueue!==null&&(e.flags|=4),Ie(e),null);case 4:return Xn(),il(n,e),n===null&&Ko(e.stateNode.containerInfo),Ie(e),null;case 10:return ta(e.type._context),Ie(e),null;case 17:return $e(e.type)&&tr(),Ie(e),null;case 19:if(ie(le),r=e.memoizedState,r===null)return Ie(e),null;if(o=(e.flags&128)!==0,a=r.rendering,a===null)if(o)vo(r,!1);else{if(ye!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=ar(n),a!==null){for(e.flags|=128,vo(r,!1),o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)r=t,n=o,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ee(le,le.current&1|2),e.child}n=n.sibling}r.tail!==null&&de()>jn&&(e.flags|=128,o=!0,vo(r,!1),e.lanes=4194304)}else{if(!o)if(n=ar(a),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),vo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!se)return Ie(e),null}else 2*de()-r.renderingStartTime>jn&&t!==1073741824&&(e.flags|=128,o=!0,vo(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=de(),e.sibling=null,t=le.current,ee(le,o?t&1|2:t&1),e):(Ie(e),null);case 22:case 23:return ya(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?ze&1073741824&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function lg(n,e){switch(Xl(e),e.tag){case 1:return $e(e.type)&&tr(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Xn(),ie(Ve),ie(ke),sa(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ra(e),null;case 13:if(ie(le),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(w(340));Zn()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ie(le),null;case 4:return Xn(),null;case 10:return ta(e.type._context),null;case 22:case 23:return ya(),null;case 24:return null;default:return null}}var wi=!1,Ae=!1,ag=typeof WeakSet=="function"?WeakSet:Set,D=null;function Fn(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){ce(n,e,o)}else t.current=null}function rl(n,e,t){try{t()}catch(o){ce(n,e,o)}}var ku=!1;function ug(n,e){if(Os=Xi,n=pd(),Zl(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var a=0,u=-1,c=-1,f=0,d=0,p=n,m=null;t:for(;;){for(var g;p!==t||i!==0&&p.nodeType!==3||(u=a+i),p!==r||o!==0&&p.nodeType!==3||(c=a+o),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===n)break t;if(m===t&&++f===i&&(u=a),m===r&&++d===o&&(c=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Hs={focusedElem:n,selectionRange:t},Xi=!1,D=e;D!==null;)if(e=D,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,D=n;else for(;D!==null;){e=D;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,x=C.memoizedState,y=e.stateNode,h=y.getSnapshotBeforeUpdate(e.elementType===e.type?T:nt(e.type,T),x);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(_){ce(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}return C=ku,ku=!1,C}function Lo(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&rl(e,t,r)}i=i.next}while(i!==o)}}function Lr(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function sl(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function up(n){var e=n.alternate;e!==null&&(n.alternate=null,up(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[dt],delete e[Yo],delete e[Ks],delete e[Wh],delete e[Kh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cp(n){return n.tag===5||n.tag===3||n.tag===4}function Mu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ll(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=er));else if(o!==4&&(n=n.child,n!==null))for(ll(n,e,t),n=n.sibling;n!==null;)ll(n,e,t),n=n.sibling}function al(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(al(n,e,t),n=n.sibling;n!==null;)al(n,e,t),n=n.sibling}var Se=null,ot=!1;function Nt(n,e,t){for(t=t.child;t!==null;)fp(n,e,t),t=t.sibling}function fp(n,e,t){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Ir,t)}catch{}switch(t.tag){case 5:Ae||Fn(t,e);case 6:var o=Se,i=ot;Se=null,Nt(n,e,t),Se=o,ot=i,Se!==null&&(ot?(n=Se,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Se.removeChild(t.stateNode));break;case 18:Se!==null&&(ot?(n=Se,t=t.stateNode,n.nodeType===8?ls(n.parentNode,t):n.nodeType===1&&ls(n,t),Ho(n)):ls(Se,t.stateNode));break;case 4:o=Se,i=ot,Se=t.stateNode.containerInfo,ot=!0,Nt(n,e,t),Se=o,ot=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&rl(t,e,a),i=i.next}while(i!==o)}Nt(n,e,t);break;case 1:if(!Ae&&(Fn(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){ce(t,e,u)}Nt(n,e,t);break;case 21:Nt(n,e,t);break;case 22:t.mode&1?(Ae=(o=Ae)||t.memoizedState!==null,Nt(n,e,t),Ae=o):Nt(n,e,t);break;default:Nt(n,e,t)}}function Nu(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ag),e.forEach(function(o){var i=vg.bind(null,n,o);t.has(o)||(t.add(o),o.then(i,i))})}}function tt(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var i=t[o];try{var r=n,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Se=u.stateNode,ot=!1;break e;case 3:Se=u.stateNode.containerInfo,ot=!0;break e;case 4:Se=u.stateNode.containerInfo,ot=!0;break e}u=u.return}if(Se===null)throw Error(w(160));fp(r,a,i),Se=null,ot=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ce(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dp(e,n),e=e.sibling}function dp(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(tt(e,n),ut(n),o&4){try{Lo(3,n,n.return),Lr(3,n)}catch(T){ce(n,n.return,T)}try{Lo(5,n,n.return)}catch(T){ce(n,n.return,T)}}break;case 1:tt(e,n),ut(n),o&512&&t!==null&&Fn(t,t.return);break;case 5:if(tt(e,n),ut(n),o&512&&t!==null&&Fn(t,t.return),n.flags&32){var i=n.stateNode;try{Bo(i,"")}catch(T){ce(n,n.return,T)}}if(o&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,a=t!==null?t.memoizedProps:r,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&Lf(i,r),Rs(u,a);var f=Rs(u,r);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];d==="style"?Bf(i,p):d==="dangerouslySetInnerHTML"?Vf(i,p):d==="children"?Bo(i,p):Ul(i,d,p,f)}switch(u){case"input":As(i,r);break;case"textarea":Ff(i,r);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Bn(i,!!r.multiple,g,!1):m!==!!r.multiple&&(r.defaultValue!=null?Bn(i,!!r.multiple,r.defaultValue,!0):Bn(i,!!r.multiple,r.multiple?[]:"",!1))}i[Yo]=r}catch(T){ce(n,n.return,T)}}break;case 6:if(tt(e,n),ut(n),o&4){if(n.stateNode===null)throw Error(w(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(T){ce(n,n.return,T)}}break;case 3:if(tt(e,n),ut(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{Ho(e.containerInfo)}catch(T){ce(n,n.return,T)}break;case 4:tt(e,n),ut(n);break;case 13:tt(e,n),ut(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(ha=de())),o&4&&Nu(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ae=(f=Ae)||d,tt(e,n),Ae=f):tt(e,n),ut(n),o&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!d&&n.mode&1)for(D=n,d=n.child;d!==null;){for(p=D=d;D!==null;){switch(m=D,g=m.child,m.tag){case 0:case 11:case 14:case 15:Lo(4,m,m.return);break;case 1:Fn(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){o=m,t=m.return;try{e=o,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){ce(o,t,T)}}break;case 5:Fn(m,m.return);break;case 22:if(m.memoizedState!==null){Ru(p);continue}}g!==null?(g.return=m,D=g):Ru(p)}d=d.sibling}e:for(d=null,p=n;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,f?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=$f("display",a))}catch(T){ce(n,n.return,T)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(T){ce(n,n.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:tt(e,n),ut(n),o&4&&Nu(n);break;case 21:break;default:tt(e,n),ut(n)}}function ut(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(cp(t)){var o=t;break e}t=t.return}throw Error(w(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(Bo(i,""),o.flags&=-33);var r=Mu(n);al(n,r,i);break;case 3:case 4:var a=o.stateNode.containerInfo,u=Mu(n);ll(n,u,a);break;default:throw Error(w(161))}}catch(c){ce(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function cg(n,e,t){D=n,pp(n)}function pp(n,e,t){for(var o=(n.mode&1)!==0;D!==null;){var i=D,r=i.child;if(i.tag===22&&o){var a=i.memoizedState!==null||wi;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Ae;u=wi;var f=Ae;if(wi=a,(Ae=c)&&!f)for(D=i;D!==null;)a=D,c=a.child,a.tag===22&&a.memoizedState!==null?Du(i):c!==null?(c.return=a,D=c):Du(i);for(;r!==null;)D=r,pp(r),r=r.sibling;D=i,wi=u,Ae=f}Pu(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,D=r):Pu(n)}}function Pu(n){for(;D!==null;){var e=D;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||Lr(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Ae)if(t===null)o.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:nt(e.type,t.memoizedProps);o.componentDidUpdate(i,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&hu(e,r,o);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}hu(e,a,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ho(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}Ae||e.flags&512&&sl(e)}catch(m){ce(e,e.return,m)}}if(e===n){D=null;break}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}}function Ru(n){for(;D!==null;){var e=D;if(e===n){D=null;break}var t=e.sibling;if(t!==null){t.return=e.return,D=t;break}D=e.return}}function Du(n){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Lr(4,e)}catch(c){ce(e,t,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var i=e.return;try{o.componentDidMount()}catch(c){ce(e,i,c)}}var r=e.return;try{sl(e)}catch(c){ce(e,r,c)}break;case 5:var a=e.return;try{sl(e)}catch(c){ce(e,a,c)}}}catch(c){ce(e,e.return,c)}if(e===n){D=null;break}var u=e.sibling;if(u!==null){u.return=e.return,D=u;break}D=e.return}}var fg=Math.ceil,fr=Mt.ReactCurrentDispatcher,pa=Mt.ReactCurrentOwner,Xe=Mt.ReactCurrentBatchConfig,Q=0,Te=null,me=null,Ee=0,ze=0,Un=Xt(0),ye=0,ei=null,hn=0,Fr=0,ma=0,Fo=null,Fe=null,ha=0,jn=1/0,Ct=null,dr=!1,ul=null,Ht=null,Ii=!1,Vt=null,pr=0,Uo=0,cl=null,zi=-1,Gi=0;function Pe(){return Q&6?de():zi!==-1?zi:zi=de()}function qt(n){return n.mode&1?Q&2&&Ee!==0?Ee&-Ee:Yh.transition!==null?(Gi===0&&(Gi=Xf()),Gi):(n=b,n!==0||(n=window.event,n=n===void 0?16:id(n.type)),n):1}function st(n,e,t,o){if(50<Uo)throw Uo=0,cl=null,Error(w(185));oi(n,t,o),(!(Q&2)||n!==Te)&&(n===Te&&(!(Q&2)&&(Fr|=t),ye===4&&Ft(n,Ee)),Be(n,o),t===1&&Q===0&&!(e.mode&1)&&(jn=de()+500,Pr&&bt()))}function Be(n,e){var t=n.callbackNode;Ym(n,e);var o=Qi(n,n===Te?Ee:0);if(o===0)t!==null&&Oa(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&Oa(t),e===1)n.tag===0?Jh(Lu.bind(null,n)):Ed(Lu.bind(null,n)),Hh(function(){!(Q&6)&&bt()}),t=null;else{switch(bf(o)){case 1:t=Gl;break;case 4:t=Zf;break;case 16:t=Zi;break;case 536870912:t=Qf;break;default:t=Zi}t=_p(t,mp.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function mp(n,e){if(zi=-1,Gi=0,Q&6)throw Error(w(327));var t=n.callbackNode;if(qn()&&n.callbackNode!==t)return null;var o=Qi(n,n===Te?Ee:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=mr(n,o);else{e=o;var i=Q;Q|=2;var r=gp();(Te!==n||Ee!==e)&&(Ct=null,jn=de()+500,cn(n,e));do try{mg();break}catch(u){hp(n,u)}while(!0);ea(),fr.current=r,Q=i,me!==null?e=0:(Te=null,Ee=0,e=ye)}if(e!==0){if(e===2&&(i=Vs(n),i!==0&&(o=i,e=fl(n,i))),e===1)throw t=ei,cn(n,0),Ft(n,o),Be(n,de()),t;if(e===6)Ft(n,o);else{if(i=n.current.alternate,!(o&30)&&!dg(i)&&(e=mr(n,o),e===2&&(r=Vs(n),r!==0&&(o=r,e=fl(n,r))),e===1))throw t=ei,cn(n,0),Ft(n,o),Be(n,de()),t;switch(n.finishedWork=i,n.finishedLanes=o,e){case 0:case 1:throw Error(w(345));case 2:sn(n,Fe,Ct);break;case 3:if(Ft(n,o),(o&130023424)===o&&(e=ha+500-de(),10<e)){if(Qi(n,0)!==0)break;if(i=n.suspendedLanes,(i&o)!==o){Pe(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Ws(sn.bind(null,n,Fe,Ct),e);break}sn(n,Fe,Ct);break;case 4:if(Ft(n,o),(o&4194240)===o)break;for(e=n.eventTimes,i=-1;0<o;){var a=31-rt(o);r=1<<a,a=e[a],a>i&&(i=a),o&=~r}if(o=i,o=de()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*fg(o/1960))-o,10<o){n.timeoutHandle=Ws(sn.bind(null,n,Fe,Ct),o);break}sn(n,Fe,Ct);break;case 5:sn(n,Fe,Ct);break;default:throw Error(w(329))}}}return Be(n,de()),n.callbackNode===t?mp.bind(null,n):null}function fl(n,e){var t=Fo;return n.current.memoizedState.isDehydrated&&(cn(n,e).flags|=256),n=mr(n,e),n!==2&&(e=Fe,Fe=t,e!==null&&dl(e)),n}function dl(n){Fe===null?Fe=n:Fe.push.apply(Fe,n)}function dg(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var i=t[o],r=i.getSnapshot;i=i.value;try{if(!at(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ft(n,e){for(e&=~ma,e&=~Fr,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-rt(e),o=1<<t;n[t]=-1,e&=~o}}function Lu(n){if(Q&6)throw Error(w(327));qn();var e=Qi(n,0);if(!(e&1))return Be(n,de()),null;var t=mr(n,e);if(n.tag!==0&&t===2){var o=Vs(n);o!==0&&(e=o,t=fl(n,o))}if(t===1)throw t=ei,cn(n,0),Ft(n,e),Be(n,de()),t;if(t===6)throw Error(w(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,sn(n,Fe,Ct),Be(n,de()),null}function ga(n,e){var t=Q;Q|=1;try{return n(e)}finally{Q=t,Q===0&&(jn=de()+500,Pr&&bt())}}function gn(n){Vt!==null&&Vt.tag===0&&!(Q&6)&&qn();var e=Q;Q|=1;var t=Xe.transition,o=b;try{if(Xe.transition=null,b=1,n)return n()}finally{b=o,Xe.transition=t,Q=e,!(Q&6)&&bt()}}function ya(){ze=Un.current,ie(Un)}function cn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Oh(t)),me!==null)for(t=me.return;t!==null;){var o=t;switch(Xl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&tr();break;case 3:Xn(),ie(Ve),ie(ke),sa();break;case 5:ra(o);break;case 4:Xn();break;case 13:ie(le);break;case 19:ie(le);break;case 10:ta(o.type._context);break;case 22:case 23:ya()}t=t.return}if(Te=n,me=n=Wt(n.current,null),Ee=ze=e,ye=0,ei=null,ma=Fr=hn=0,Fe=Fo=null,an!==null){for(e=0;e<an.length;e++)if(t=an[e],o=t.interleaved,o!==null){t.interleaved=null;var i=o.next,r=t.pending;if(r!==null){var a=r.next;r.next=i,o.next=a}t.pending=o}an=null}return n}function hp(n,e){do{var t=me;try{if(ea(),Vi.current=cr,ur){for(var o=ae.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}ur=!1}if(mn=0,Ce=ge=ae=null,Do=!1,Xo=0,pa.current=null,t===null||t.return===null){ye=1,ei=e,me=null;break}e:{var r=n,a=t.return,u=t,c=e;if(e=Ee,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=u,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=_u(a);if(g!==null){g.flags&=-257,Su(g,a,u,r,e),g.mode&1&&Tu(r,f,e),e=g,c=f;var C=e.updateQueue;if(C===null){var T=new Set;T.add(c),e.updateQueue=T}else C.add(c);break e}else{if(!(e&1)){Tu(r,f,e),va();break e}c=Error(w(426))}}else if(se&&u.mode&1){var x=_u(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Su(x,a,u,r,e),bl(bn(c,u));break e}}r=c=bn(c,u),ye!==4&&(ye=2),Fo===null?Fo=[r]:Fo.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=bd(r,c,e);mu(r,y);break e;case 1:u=c;var h=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ht===null||!Ht.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=jd(r,u,e);mu(r,_);break e}}r=r.return}while(r!==null)}vp(t)}catch(S){e=S,me===t&&t!==null&&(me=t=t.return);continue}break}while(!0)}function gp(){var n=fr.current;return fr.current=cr,n===null?cr:n}function va(){(ye===0||ye===3||ye===2)&&(ye=4),Te===null||!(hn&268435455)&&!(Fr&268435455)||Ft(Te,Ee)}function mr(n,e){var t=Q;Q|=2;var o=gp();(Te!==n||Ee!==e)&&(Ct=null,cn(n,e));do try{pg();break}catch(i){hp(n,i)}while(!0);if(ea(),Q=t,fr.current=o,me!==null)throw Error(w(261));return Te=null,Ee=0,ye}function pg(){for(;me!==null;)yp(me)}function mg(){for(;me!==null&&!Bm();)yp(me)}function yp(n){var e=Tp(n.alternate,n,ze);n.memoizedProps=n.pendingProps,e===null?vp(n):me=e,pa.current=null}function vp(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=lg(t,e),t!==null){t.flags&=32767,me=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ye=6,me=null;return}}else if(t=sg(t,e,ze),t!==null){me=t;return}if(e=e.sibling,e!==null){me=e;return}me=e=n}while(e!==null);ye===0&&(ye=5)}function sn(n,e,t){var o=b,i=Xe.transition;try{Xe.transition=null,b=1,hg(n,e,t,o)}finally{Xe.transition=i,b=o}return null}function hg(n,e,t,o){do qn();while(Vt!==null);if(Q&6)throw Error(w(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(w(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(Zm(n,r),n===Te&&(me=Te=null,Ee=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ii||(Ii=!0,_p(Zi,function(){return qn(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Xe.transition,Xe.transition=null;var a=b;b=1;var u=Q;Q|=4,pa.current=null,ug(n,t),dp(t,n),Fh(Hs),Xi=!!Os,Hs=Os=null,n.current=t,cg(t),zm(),Q=u,b=a,Xe.transition=r}else n.current=t;if(Ii&&(Ii=!1,Vt=n,pr=i),r=n.pendingLanes,r===0&&(Ht=null),Hm(t.stateNode),Be(n,de()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],o(i.value,{componentStack:i.stack,digest:i.digest});if(dr)throw dr=!1,n=ul,ul=null,n;return pr&1&&n.tag!==0&&qn(),r=n.pendingLanes,r&1?n===cl?Uo++:(Uo=0,cl=n):Uo=0,bt(),null}function qn(){if(Vt!==null){var n=bf(pr),e=Xe.transition,t=b;try{if(Xe.transition=null,b=16>n?16:n,Vt===null)var o=!1;else{if(n=Vt,Vt=null,pr=0,Q&6)throw Error(w(331));var i=Q;for(Q|=4,D=n.current;D!==null;){var r=D,a=r.child;if(D.flags&16){var u=r.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(D=f;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Lo(8,d,r)}var p=d.child;if(p!==null)p.return=d,D=p;else for(;D!==null;){d=D;var m=d.sibling,g=d.return;if(up(d),d===f){D=null;break}if(m!==null){m.return=g,D=m;break}D=g}}}var C=r.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var x=T.sibling;T.sibling=null,T=x}while(T!==null)}}D=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,D=a;else e:for(;D!==null;){if(r=D,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Lo(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,D=y;break e}D=r.return}}var h=n.current;for(D=h;D!==null;){a=D;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,D=v;else e:for(a=h;D!==null;){if(u=D,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Lr(9,u)}}catch(S){ce(u,u.return,S)}if(u===a){D=null;break e}var _=u.sibling;if(_!==null){_.return=u.return,D=_;break e}D=u.return}}if(Q=i,bt(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Ir,n)}catch{}o=!0}return o}finally{b=t,Xe.transition=e}}return!1}function Fu(n,e,t){e=bn(t,e),e=bd(n,e,1),n=Ot(n,e,1),e=Pe(),n!==null&&(oi(n,1,e),Be(n,e))}function ce(n,e,t){if(n.tag===3)Fu(n,n,t);else for(;e!==null;){if(e.tag===3){Fu(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ht===null||!Ht.has(o))){n=bn(t,n),n=jd(e,n,1),e=Ot(e,n,1),n=Pe(),e!==null&&(oi(e,1,n),Be(e,n));break}}e=e.return}}function gg(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=Pe(),n.pingedLanes|=n.suspendedLanes&t,Te===n&&(Ee&t)===t&&(ye===4||ye===3&&(Ee&130023424)===Ee&&500>de()-ha?cn(n,0):ma|=t),Be(n,e)}function Cp(n,e){e===0&&(n.mode&1?(e=gi,gi<<=1,!(gi&130023424)&&(gi=4194304)):e=1);var t=Pe();n=It(n,e),n!==null&&(oi(n,e,t),Be(n,t))}function yg(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Cp(n,t)}function vg(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(w(314))}o!==null&&o.delete(e),Cp(n,t)}var Tp;Tp=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ve.current)Ue=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ue=!1,rg(n,e,t);Ue=!!(n.flags&131072)}else Ue=!1,se&&e.flags&1048576&&xd(e,ir,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Bi(n,e),n=e.pendingProps;var i=Yn(e,ke.current);Hn(e,t),i=aa(null,e,o,n,i,t);var r=ua();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(o)?(r=!0,nr(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oa(e),i.updater=Dr,e.stateNode=i,i._reactInternals=e,bs(e,o,n,t),e=tl(null,e,o,!0,r,t)):(e.tag=0,se&&r&&Ql(e),Me(null,e,i,t),e=e.child),e;case 16:o=e.elementType;e:{switch(Bi(n,e),n=e.pendingProps,i=o._init,o=i(o._payload),e.type=o,i=e.tag=Tg(o),n=nt(o,n),i){case 0:e=el(null,e,o,n,t);break e;case 1:e=wu(null,e,o,n,t);break e;case 11:e=Eu(null,e,o,n,t);break e;case 14:e=xu(null,e,o,nt(o.type,n),t);break e}throw Error(w(306,o,""))}return e;case 0:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:nt(o,i),el(n,e,o,i,t);case 1:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:nt(o,i),wu(n,e,o,i,t);case 3:e:{if(op(e),n===null)throw Error(w(387));o=e.pendingProps,r=e.memoizedState,i=r.element,Nd(n,e),lr(e,o,null,t);var a=e.memoizedState;if(o=a.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=bn(Error(w(423)),e),e=Iu(n,e,o,t,i);break e}else if(o!==i){i=bn(Error(w(424)),e),e=Iu(n,e,o,t,i);break e}else for(Oe=Gt(e.stateNode.containerInfo.firstChild),He=e,se=!0,it=null,t=kd(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Zn(),o===i){e=At(n,e,t);break e}Me(n,e,o,t)}e=e.child}return e;case 5:return Pd(e),n===null&&Zs(e),o=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,a=i.children,qs(o,i)?a=null:r!==null&&qs(o,r)&&(e.flags|=32),np(n,e),Me(n,e,a,t),e.child;case 6:return n===null&&Zs(e),null;case 13:return ip(n,e,t);case 4:return ia(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=Qn(e,null,o,t):Me(n,e,o,t),e.child;case 11:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:nt(o,i),Eu(n,e,o,i,t);case 7:return Me(n,e,e.pendingProps,t),e.child;case 8:return Me(n,e,e.pendingProps.children,t),e.child;case 12:return Me(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,i=e.pendingProps,r=e.memoizedProps,a=i.value,ee(rr,o._currentValue),o._currentValue=a,r!==null)if(at(r.value,a)){if(r.children===i.children&&!Ve.current){e=At(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){a=r.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(r.tag===1){c=Et(-1,t&-t),c.tag=2;var f=r.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}r.lanes|=t,c=r.alternate,c!==null&&(c.lanes|=t),Qs(r.return,t,e),u.lanes|=t;break}c=c.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(w(341));a.lanes|=t,u=a.alternate,u!==null&&(u.lanes|=t),Qs(a,t,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Me(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps.children,Hn(e,t),i=be(i),o=o(i),e.flags|=1,Me(n,e,o,t),e.child;case 14:return o=e.type,i=nt(o,e.pendingProps),i=nt(o.type,i),xu(n,e,o,i,t);case 15:return ep(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:nt(o,i),Bi(n,e),e.tag=1,$e(o)?(n=!0,nr(e)):n=!1,Hn(e,t),Xd(e,o,i),bs(e,o,i,t),tl(null,e,o,!0,n,t);case 19:return rp(n,e,t);case 22:return tp(n,e,t)}throw Error(w(156,e.tag))};function _p(n,e){return Yf(n,e)}function Cg(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(n,e,t,o){return new Cg(n,e,t,o)}function Ca(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tg(n){if(typeof n=="function")return Ca(n)?1:0;if(n!=null){if(n=n.$$typeof,n===$l)return 11;if(n===Bl)return 14}return 2}function Wt(n,e){var t=n.alternate;return t===null?(t=Qe(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Oi(n,e,t,o,i,r){var a=2;if(o=n,typeof n=="function")Ca(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case In:return fn(t.children,i,r,e);case Vl:a=8,i|=8;break;case Ss:return n=Qe(12,t,e,i|2),n.elementType=Ss,n.lanes=r,n;case Es:return n=Qe(13,t,e,i),n.elementType=Es,n.lanes=r,n;case xs:return n=Qe(19,t,e,i),n.elementType=xs,n.lanes=r,n;case Pf:return Ur(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Mf:a=10;break e;case Nf:a=9;break e;case $l:a=11;break e;case Bl:a=14;break e;case Pt:a=16,o=null;break e}throw Error(w(130,n==null?n:typeof n,""))}return e=Qe(a,t,e,i),e.elementType=n,e.type=o,e.lanes=r,e}function fn(n,e,t,o){return n=Qe(7,n,o,e),n.lanes=t,n}function Ur(n,e,t,o){return n=Qe(22,n,o,e),n.elementType=Pf,n.lanes=t,n.stateNode={isHidden:!1},n}function hs(n,e,t){return n=Qe(6,n,null,e),n.lanes=t,n}function gs(n,e,t){return e=Qe(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function _g(n,e,t,o,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ta(n,e,t,o,i,r,a,u,c){return n=new _g(n,e,t,u,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Qe(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},oa(r),n}function Sg(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function Sp(n){if(!n)return Yt;n=n._reactInternals;e:{if(_n(n)!==n||n.tag!==1)throw Error(w(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(n.tag===1){var t=n.type;if($e(t))return Sd(n,t,e)}return e}function Ep(n,e,t,o,i,r,a,u,c){return n=Ta(t,o,!0,n,i,r,a,u,c),n.context=Sp(null),t=n.current,o=Pe(),i=qt(t),r=Et(o,i),r.callback=e??null,Ot(t,r,i),n.current.lanes=i,oi(n,i,o),Be(n,o),n}function Vr(n,e,t,o){var i=e.current,r=Pe(),a=qt(i);return t=Sp(t),e.context===null?e.context=t:e.pendingContext=t,e=Et(r,a),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=Ot(i,e,a),n!==null&&(st(n,i,a,r),Ui(n,i,a)),a}function hr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Uu(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function _a(n,e){Uu(n,e),(n=n.alternate)&&Uu(n,e)}function Eg(){return null}var xp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sa(n){this._internalRoot=n}$r.prototype.render=Sa.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(w(409));Vr(n,e,null,null)};$r.prototype.unmount=Sa.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;gn(function(){Vr(null,n,null,null)}),e[wt]=null}};function $r(n){this._internalRoot=n}$r.prototype.unstable_scheduleHydration=function(n){if(n){var e=td();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Lt.length&&e!==0&&e<Lt[t].priority;t++);Lt.splice(t,0,n),t===0&&od(n)}};function Ea(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Br(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Vu(){}function xg(n,e,t,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var f=hr(a);r.call(f)}}var a=Ep(e,o,n,0,null,!1,!1,"",Vu);return n._reactRootContainer=a,n[wt]=a.current,Ko(n.nodeType===8?n.parentNode:n),gn(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var f=hr(c);u.call(f)}}var c=Ta(n,0,!1,null,null,!1,!1,"",Vu);return n._reactRootContainer=c,n[wt]=c.current,Ko(n.nodeType===8?n.parentNode:n),gn(function(){Vr(e,c,t,o)}),c}function zr(n,e,t,o,i){var r=t._reactRootContainer;if(r){var a=r;if(typeof i=="function"){var u=i;i=function(){var c=hr(a);u.call(c)}}Vr(e,a,n,i)}else a=xg(t,e,n,i,o);return hr(a)}jf=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=xo(e.pendingLanes);t!==0&&(Ol(e,t|1),Be(e,de()),!(Q&6)&&(jn=de()+500,bt()))}break;case 13:gn(function(){var o=It(n,1);if(o!==null){var i=Pe();st(o,n,1,i)}}),_a(n,1)}};Hl=function(n){if(n.tag===13){var e=It(n,134217728);if(e!==null){var t=Pe();st(e,n,134217728,t)}_a(n,134217728)}};ed=function(n){if(n.tag===13){var e=qt(n),t=It(n,e);if(t!==null){var o=Pe();st(t,n,e,o)}_a(n,e)}};td=function(){return b};nd=function(n,e){var t=b;try{return b=n,e()}finally{b=t}};Ls=function(n,e,t){switch(e){case"input":if(As(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var i=Nr(o);if(!i)throw Error(w(90));Df(o),As(o,i)}}}break;case"textarea":Ff(n,t);break;case"select":e=t.value,e!=null&&Bn(n,!!t.multiple,e,!1)}};Of=ga;Hf=gn;var wg={usingClientEntryPoint:!1,Events:[ri,Nn,Nr,zf,Gf,ga]},Co={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ig={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Kf(n),n===null?null:n.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Ir=Ai.inject(Ig),mt=Ai}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;We.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ea(e))throw Error(w(200));return Sg(n,e,null,t)};We.createRoot=function(n,e){if(!Ea(n))throw Error(w(299));var t=!1,o="",i=xp;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ta(n,1,!1,null,null,t,!1,o,i),n[wt]=e.current,Ko(n.nodeType===8?n.parentNode:n),new Sa(e)};We.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(w(188)):(n=Object.keys(n).join(","),Error(w(268,n)));return n=Kf(e),n=n===null?null:n.stateNode,n};We.flushSync=function(n){return gn(n)};We.hydrate=function(n,e,t){if(!Br(e))throw Error(w(200));return zr(null,n,e,!0,t)};We.hydrateRoot=function(n,e,t){if(!Ea(n))throw Error(w(405));var o=t!=null&&t.hydratedSources||null,i=!1,r="",a=xp;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Ep(e,null,n,1,t??null,i,!1,r,a),n[wt]=e.current,Ko(n),o)for(n=0;n<o.length;n++)t=o[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new $r(e)};We.render=function(n,e,t){if(!Br(e))throw Error(w(200));return zr(null,n,e,!1,t)};We.unmountComponentAtNode=function(n){if(!Br(n))throw Error(w(40));return n._reactRootContainer?(gn(function(){zr(null,null,n,!1,function(){n._reactRootContainer=null,n[wt]=null})}),!0):!1};We.unstable_batchedUpdates=ga;We.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!Br(t))throw Error(w(200));if(n==null||n._reactInternals===void 0)throw Error(w(38));return zr(n,e,t,!1,o)};We.version="18.3.1-next-f1338f8080-20240426";function wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wp)}catch(n){console.error(n)}}wp(),wf.exports=We;var Ag=wf.exports,$u=Ag;Ts.createRoot=$u.createRoot,Ts.hydrateRoot=$u.hydrateRoot;var _e=(n=>(n.User="user",n.AI="ai",n))(_e||{});const To="[ChatMessageItem.tsx]",kg=({message:n,aiName:e,userName:t})=>{const[o,i]=re.useState(!1),r=n.sender===_e.User,a=r?"justify-end":"justify-start",u="max-w-xl lg:max-w-2xl px-4 py-2 rounded-xl shadow-md relative group",c=`bg-slate-700 text-slate-100 ${u}`,f=`bg-blue-600 text-slate-50 font-mono ${u}`,d=r?c:f,p=n.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m=r?t||"User":e||"AI",g=async()=>{if(console.log(`${To} handleCopy called for message ID: ${n.id}`),n.sender===_e.AI)try{await navigator.clipboard.writeText(n.text),i(!0),console.log(`${To} Text copied to clipboard successfully.`),setTimeout(()=>i(!1),2e3)}catch(T){console.error(`${To} Failed to copy text for message ID ${n.id}:`,T)}else console.log(`${To} Copy action ignored for user message.`)},C=()=>{console.log(`${To} Options clicked for message ID: ${n.id} (feature placeholder)`)};return k.jsx("div",{className:`flex ${a} w-full`,children:k.jsxs("div",{className:`${d}`,children:[k.jsxs("p",{className:"text-sm whitespace-pre-wrap break-words",children:[k.jsx("span",{className:"font-semibold",children:`[${m}: ${p}]`}),` - ${n.text}`]}),!r&&k.jsx("div",{className:"flex items-center justify-end mt-1 pt-1 border-t border-opacity-25 border-blue-400",children:k.jsxs("div",{className:"flex items-center",children:[" ",k.jsx("button",{onClick:g,title:o?"Copied!":"Copy text","aria-label":o?"Text copied to clipboard":"Copy AI message to clipboard",className:`p-1 rounded-full ${o?"text-green-400":"text-blue-200 hover:text-blue-100 focus:text-blue-100"} opacity-0 group-hover:opacity-100 focus:opacity-100 transition-all duration-150`,children:o?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625m0 0H19.5m-2.25-2.625h-1.125c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125h1.125c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125z"})})}),k.jsx("button",{onClick:C,title:"More options","aria-label":"More options for this message",className:"p-1 rounded-full text-blue-200 hover:text-blue-100 focus:text-blue-100 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-all duration-150 ml-1",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})})})]})})]})})},Mg=()=>k.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),ct="[ChatInput.tsx]",Ng=({onSendMessage:n,isLoading:e,messages:t,aiName:o,userName:i,placeholder:r})=>{const[a,u]=re.useState(""),c=re.useRef(null);re.useEffect(()=>{if(c.current){c.current.style.height="auto";const g=c.current.scrollHeight,C=128;c.current.style.height=`${Math.min(g,C)}px`}},[a]);const f=g=>{g&&g.preventDefault();const C=a.trim();console.log(`${ct} handleSubmit called. Input: "${C}", isLoading: ${e}`),C&&!e?(n(C),u(""),c.current&&(c.current.style.height="auto"),console.log(`${ct} Message sent, input cleared.`)):console.log(`${ct} Message not sent (input empty or loading).`)},d=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),console.log(`${ct} Enter key pressed (without Shift). Triggering submit.`),f())},p=()=>{if(console.log(`${ct} handleExportChat called. Number of messages: ${t.length}. AI Name: "${o}", User Name: "${i}"`),t.length===0){console.log(`${ct} No messages to export.`);return}const g=new Date,C=g.getDate(),T=g.getMonth()+1,x=String(g.getFullYear()).slice(-2);let y=g.getHours();const h=String(g.getMinutes()).padStart(2,"0"),v=y>=12?"PM":"AM";y=y%12,y=y||12;const S=`This is an export of the AI conversation timestamped [${`${C}/${T}/${x} ${y}:${h}${v.toLowerCase()}`}] using the format \`Day:Month:Year hour:minute: am/pm\` i.e. 6/2/25 5:20pm`,E=`

---

`,I=t.map(W=>{const j=W.sender===_e.User?i||"User":o||"AI",he=W.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${j} (${he}):
${W.text}
`}).join(`
---

`),M=S+E+I,L=new Blob([M],{type:"text/plain;charset=utf-8"}),N=URL.createObjectURL(L),Y=document.createElement("a");Y.href=N;const U=new Date,q=`chat_export_${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}-${String(U.getDate()).padStart(2,"0")}_${String(U.getHours()).padStart(2,"0")}-${String(U.getMinutes()).padStart(2,"0")}.txt`;Y.download=q,console.log(`${ct} Preparing to download chat export as: ${q}`),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(N),console.log(`${ct} Chat export download initiated and resources cleaned up.`)},m=a.trim()!=="";return k.jsxs("form",{onSubmit:f,className:"px-4 py-3 bg-slate-800 flex items-end space-x-3",children:[k.jsx("button",{type:"button",className:"p-2 text-slate-400 hover:text-blue-400 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors","aria-label":"Attach file (feature coming soon)",title:"Attach file (feature coming soon)",onClick:()=>console.log(`${ct} Attachment button clicked (feature coming soon).`),children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.122 2.122l7.81-7.81"})})}),k.jsx("button",{type:"button",className:"p-2 text-slate-400 hover:text-blue-400 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors","aria-label":"Use microphone (feature coming soon)",title:"Use microphone (feature coming soon)",onClick:()=>console.log(`${ct} Microphone button clicked (feature coming soon).`),children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5h0M6.375 12.375A6.375 6.375 0 1112.75 12.375m0-8.25V5.625M12 12.375v3.75m0-3.75A3.375 3.375 0 0115.375 9V5.625A6.375 6.375 0 006.375 9v3.375c0 .621.504 1.125 1.125 1.125H9.75"})})}),k.jsx("button",{type:"button",onClick:p,className:"p-2 text-slate-400 hover:text-blue-400 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors","aria-label":"Export chat history",title:"Export chat history",disabled:t.length===0,children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),k.jsx("textarea",{ref:c,value:a,onChange:g=>u(g.target.value),onKeyDown:d,placeholder:r||"Type your message...","aria-label":r||"Chat input",className:"flex-grow p-3 bg-slate-700 text-slate-100 border border-slate-600 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-150 ease-in-out min-h-[48px] max-h-32 overflow-y-auto placeholder-slate-400",rows:1,disabled:e}),k.jsx("button",{type:"submit",disabled:e||!a.trim(),"aria-label":e?"Sending message":m?"Send message":"Input is empty",className:"p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:bg-slate-600 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors duration-150 ease-in-out flex items-center justify-center h-[48px] w-[48px]",children:e?k.jsx(Mg,{}):m?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 transform rotate-0",children:k.jsx("path",{d:"M3.105 3.105a1.5 1.5 0 012.122-.001l11.503 7.481a1.5 1.5 0 010 2.83L5.227 16.9a1.5 1.5 0 01-2.122-2.121L12.26 10 3.105 5.227a1.5 1.5 0 010-2.122z"})}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:k.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})};var X;(function(n){n.assertEqual=i=>{};function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const r={};for(const a of i)r[a]=a;return r},n.getValidEnumValues=i=>{const r=n.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),a={};for(const u of r)a[u]=i[u];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(r){return i[r]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(a);return r},n.find=(i,r)=>{for(const a of i)if(r(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function o(i,r=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}n.joinValues=o,n.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(X||(X={}));var Bu;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Bu||(Bu={}));const F=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dt=n=>{switch(typeof n){case"undefined":return F.undefined;case"string":return F.string;case"number":return Number.isNaN(n)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(n)?F.array:n===null?F.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?F.promise:typeof Map<"u"&&n instanceof Map?F.map:typeof Set<"u"&&n instanceof Set?F.set:typeof Date<"u"&&n instanceof Date?F.date:F.object;default:return F.unknown}},A=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},o={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)o._errors.push(t(a));else{let u=o,c=0;for(;c<a.path.length;){const f=a.path[c];c===a.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(a))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return i(this),o}static assert(e){if(!(e instanceof kt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},o=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):o.push(e(i));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}kt.create=n=>new kt(n);const pl=(n,e)=>{let t;switch(n.code){case A.invalid_type:n.received===F.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case A.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,X.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:t=`Unrecognized key(s) in object: ${X.joinValues(n.keys,", ")}`;break;case A.invalid_union:t="Invalid input";break;case A.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${X.joinValues(n.options)}`;break;case A.invalid_enum_value:t=`Invalid enum value. Expected ${X.joinValues(n.options)}, received '${n.received}'`;break;case A.invalid_arguments:t="Invalid function arguments";break;case A.invalid_return_type:t="Invalid function return type";break;case A.invalid_date:t="Invalid date";break;case A.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:X.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case A.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case A.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case A.custom:t="Invalid input";break;case A.invalid_intersection_types:t="Intersection results could not be merged";break;case A.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case A.not_finite:t="Number must be finite";break;default:t=e.defaultError,X.assertNever(n)}return{message:t}};let Pg=pl;function Rg(){return Pg}const Dg=n=>{const{data:e,path:t,errorMaps:o,issueData:i}=n,r=[...t,...i.path||[]],a={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let u="";const c=o.filter(f=>!!f).slice().reverse();for(const f of c)u=f(a,{data:e,defaultError:u}).message;return{...i,path:r,message:u}};function P(n,e){const t=Rg(),o=Dg({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===pl?void 0:pl].filter(i=>!!i)});n.common.issues.push(o)}class Re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const o=[];for(const i of t){if(i.status==="aborted")return z;i.status==="dirty"&&e.dirty(),o.push(i.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,t){const o=[];for(const i of t){const r=await i.key,a=await i.value;o.push({key:r,value:a})}return Re.mergeObjectSync(e,o)}static mergeObjectSync(e,t){const o={};for(const i of t){const{key:r,value:a}=i;if(r.status==="aborted"||a.status==="aborted")return z;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(o[r.value]=a.value)}return{status:e.value,value:o}}}const z=Object.freeze({status:"aborted"}),Io=n=>({status:"dirty",value:n}),et=n=>({status:"valid",value:n}),zu=n=>n.status==="aborted",Gu=n=>n.status==="dirty",eo=n=>n.status==="valid",gr=n=>typeof Promise<"u"&&n instanceof Promise;var V;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));class yt{constructor(e,t,o,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=o,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ou=(n,e)=>{if(eo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new kt(n.common.issues);return this._error=t,this._error}}};function H(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:o,description:i}=n;if(e&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,u)=>{const{message:c}=n;return a.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??o??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:i}}class Z{get description(){return this._def.description}_getType(e){return Dt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Dt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Re,ctx:{common:e.parent.common,data:e.data,parsedType:Dt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(gr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const o=this.safeParse(e,t);if(o.success)return o.data;throw o.error}safeParse(e,t){const o={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dt(e)},i=this._parseSync({data:e,path:o.path,parent:o});return Ou(o,i)}"~validate"(e){var o,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dt(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return eo(r)?{value:r.value}:{issues:t.common.issues}}catch(r){(i=(o=r==null?void 0:r.message)==null?void 0:o.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>eo(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const o=await this.safeParseAsync(e,t);if(o.success)return o.data;throw o.error}async safeParseAsync(e,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dt(e)},i=this._parse({data:e,path:o.path,parent:o}),r=await(gr(i)?i:Promise.resolve(i));return Ou(o,r)}refine(e,t){const o=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,r)=>{const a=e(i),u=()=>r.addIssue({code:A.custom,...o(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,t){return this._refinement((o,i)=>e(o)?!0:(i.addIssue(typeof t=="function"?t(o,i):t),!1))}_refinement(e){return new oo({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Kt.create(this,this._def)}nullable(){return io.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gt.create(this)}promise(){return _r.create(this,this._def)}or(e){return vr.create([this,e],this._def)}and(e){return Cr.create(this,e,this._def)}transform(e){return new oo({...H(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new yl({...H(this._def),innerType:this,defaultValue:t,typeName:B.ZodDefault})}brand(){return new ny({typeName:B.ZodBranded,type:this,...H(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new vl({...H(this._def),innerType:this,catchValue:t,typeName:B.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return xa.create(this,e)}readonly(){return Cl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Lg=/^c[^\s-]{8,}$/i,Fg=/^[0-9a-z]+$/,Ug=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Vg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$g=/^[a-z0-9_-]{21}$/i,Bg=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zg=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Gg=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Og="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ys;const Hg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Wg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Kg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Jg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yg=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ip="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zg=new RegExp(`^${Ip}$`);function Ap(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Qg(n){return new RegExp(`^${Ap(n)}$`)}function Xg(n){let e=`${Ip}T${Ap(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function bg(n,e){return!!((e==="v4"||!e)&&Hg.test(n)||(e==="v6"||!e)&&Wg.test(n))}function jg(n,e){if(!Bg.test(n))return!1;try{const[t]=n.split("."),o=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(o));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function ey(n,e){return!!((e==="v4"||!e)&&qg.test(n)||(e==="v6"||!e)&&Kg.test(n))}class pt extends Z{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==F.string){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:F.string,received:r.parsedType}),z}const o=new Re;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:A.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:A.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,u=e.data.length<r.value;(a||u)&&(i=this._getOrReturnCtx(e,i),a?P(i,{code:A.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):u&&P(i,{code:A.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),o.dirty())}else if(r.kind==="email")Gg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"email",code:A.invalid_string,message:r.message}),o.dirty());else if(r.kind==="emoji")ys||(ys=new RegExp(Og,"u")),ys.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"emoji",code:A.invalid_string,message:r.message}),o.dirty());else if(r.kind==="uuid")Vg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"uuid",code:A.invalid_string,message:r.message}),o.dirty());else if(r.kind==="nanoid")$g.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"nanoid",code:A.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid")Lg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cuid",code:A.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid2")Fg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cuid2",code:A.invalid_string,message:r.message}),o.dirty());else if(r.kind==="ulid")Ug.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"ulid",code:A.invalid_string,message:r.message}),o.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),P(i,{validation:"url",code:A.invalid_string,message:r.message}),o.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"regex",code:A.invalid_string,message:r.message}),o.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),P(i,{code:A.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),o.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),P(i,{code:A.invalid_string,validation:{startsWith:r.value},message:r.message}),o.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),P(i,{code:A.invalid_string,validation:{endsWith:r.value},message:r.message}),o.dirty()):r.kind==="datetime"?Xg(r).test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:A.invalid_string,validation:"datetime",message:r.message}),o.dirty()):r.kind==="date"?Zg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:A.invalid_string,validation:"date",message:r.message}),o.dirty()):r.kind==="time"?Qg(r).test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:A.invalid_string,validation:"time",message:r.message}),o.dirty()):r.kind==="duration"?zg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"duration",code:A.invalid_string,message:r.message}),o.dirty()):r.kind==="ip"?bg(e.data,r.version)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"ip",code:A.invalid_string,message:r.message}),o.dirty()):r.kind==="jwt"?jg(e.data,r.alg)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"jwt",code:A.invalid_string,message:r.message}),o.dirty()):r.kind==="cidr"?ey(e.data,r.version)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cidr",code:A.invalid_string,message:r.message}),o.dirty()):r.kind==="base64"?Jg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"base64",code:A.invalid_string,message:r.message}),o.dirty()):r.kind==="base64url"?Yg.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"base64url",code:A.invalid_string,message:r.message}),o.dirty()):X.assertNever(r);return{status:o.value,value:e.data}}_regex(e,t,o){return this.refinement(i=>e.test(i),{validation:t,code:A.invalid_string,...V.errToObj(o)})}_addCheck(e){return new pt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...V.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...V.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...V.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...V.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...V.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...V.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...V.errToObj(t)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new pt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}pt.create=n=>new pt({checks:[],typeName:B.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...H(n)});function ty(n,e){const t=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,i=t>o?t:o,r=Number.parseInt(n.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return r%a/10**i}class yn extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==F.number){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:F.number,received:r.parsedType}),z}let o;const i=new Re;for(const r of this._def.checks)r.kind==="int"?X.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?ty(e.data,r.value)!==0&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:A.not_finite,message:r.message}),i.dirty()):X.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,V.toString(t))}gt(e,t){return this.setLimit("min",e,!1,V.toString(t))}lte(e,t){return this.setLimit("max",e,!0,V.toString(t))}lt(e,t){return this.setLimit("max",e,!1,V.toString(t))}setLimit(e,t,o,i){return new yn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:V.toString(i)}]})}_addCheck(e){return new yn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&X.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(t)&&Number.isFinite(e)}}yn.create=n=>new yn({checks:[],typeName:B.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...H(n)});class vn extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==F.bigint)return this._getInvalidInput(e);let o;const i=new Re;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),P(o,{code:A.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):X.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return P(t,{code:A.invalid_type,expected:F.bigint,received:t.parsedType}),z}gte(e,t){return this.setLimit("min",e,!0,V.toString(t))}gt(e,t){return this.setLimit("min",e,!1,V.toString(t))}lte(e,t){return this.setLimit("max",e,!0,V.toString(t))}lt(e,t){return this.setLimit("max",e,!1,V.toString(t))}setLimit(e,t,o,i){return new vn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:V.toString(i)}]})}_addCheck(e){return new vn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}vn.create=n=>new vn({checks:[],typeName:B.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...H(n)});class yr extends Z{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==F.boolean){const o=this._getOrReturnCtx(e);return P(o,{code:A.invalid_type,expected:F.boolean,received:o.parsedType}),z}return et(e.data)}}yr.create=n=>new yr({typeName:B.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...H(n)});class to extends Z{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==F.date){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_type,expected:F.date,received:r.parsedType}),z}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return P(r,{code:A.invalid_date}),z}const o=new Re;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:A.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),o.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:A.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),o.dirty()):X.assertNever(r);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new to({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}to.create=n=>new to({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:B.ZodDate,...H(n)});class Hu extends Z{_parse(e){if(this._getType(e)!==F.symbol){const o=this._getOrReturnCtx(e);return P(o,{code:A.invalid_type,expected:F.symbol,received:o.parsedType}),z}return et(e.data)}}Hu.create=n=>new Hu({typeName:B.ZodSymbol,...H(n)});class qu extends Z{_parse(e){if(this._getType(e)!==F.undefined){const o=this._getOrReturnCtx(e);return P(o,{code:A.invalid_type,expected:F.undefined,received:o.parsedType}),z}return et(e.data)}}qu.create=n=>new qu({typeName:B.ZodUndefined,...H(n)});class Wu extends Z{_parse(e){if(this._getType(e)!==F.null){const o=this._getOrReturnCtx(e);return P(o,{code:A.invalid_type,expected:F.null,received:o.parsedType}),z}return et(e.data)}}Wu.create=n=>new Wu({typeName:B.ZodNull,...H(n)});class Ku extends Z{constructor(){super(...arguments),this._any=!0}_parse(e){return et(e.data)}}Ku.create=n=>new Ku({typeName:B.ZodAny,...H(n)});class ml extends Z{constructor(){super(...arguments),this._unknown=!0}_parse(e){return et(e.data)}}ml.create=n=>new ml({typeName:B.ZodUnknown,...H(n)});class Zt extends Z{_parse(e){const t=this._getOrReturnCtx(e);return P(t,{code:A.invalid_type,expected:F.never,received:t.parsedType}),z}}Zt.create=n=>new Zt({typeName:B.ZodNever,...H(n)});class Ju extends Z{_parse(e){if(this._getType(e)!==F.undefined){const o=this._getOrReturnCtx(e);return P(o,{code:A.invalid_type,expected:F.void,received:o.parsedType}),z}return et(e.data)}}Ju.create=n=>new Ju({typeName:B.ZodVoid,...H(n)});class gt extends Z{_parse(e){const{ctx:t,status:o}=this._processInputParams(e),i=this._def;if(t.parsedType!==F.array)return P(t,{code:A.invalid_type,expected:F.array,received:t.parsedType}),z;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,u=t.data.length<i.exactLength.value;(a||u)&&(P(t,{code:a?A.too_big:A.too_small,minimum:u?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),o.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(P(t,{code:A.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),o.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(P(t,{code:A.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((a,u)=>i.type._parseAsync(new yt(t,a,t.path,u)))).then(a=>Re.mergeArray(o,a));const r=[...t.data].map((a,u)=>i.type._parseSync(new yt(t,a,t.path,u)));return Re.mergeArray(o,r)}get element(){return this._def.type}min(e,t){return new gt({...this._def,minLength:{value:e,message:V.toString(t)}})}max(e,t){return new gt({...this._def,maxLength:{value:e,message:V.toString(t)}})}length(e,t){return new gt({...this._def,exactLength:{value:e,message:V.toString(t)}})}nonempty(e){return this.min(1,e)}}gt.create=(n,e)=>new gt({type:n,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...H(e)});function xn(n){if(n instanceof pe){const e={};for(const t in n.shape){const o=n.shape[t];e[t]=Kt.create(xn(o))}return new pe({...n._def,shape:()=>e})}else return n instanceof gt?new gt({...n._def,type:xn(n.element)}):n instanceof Kt?Kt.create(xn(n.unwrap())):n instanceof io?io.create(xn(n.unwrap())):n instanceof Cn?Cn.create(n.items.map(e=>xn(e))):n}class pe extends Z{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=X.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==F.object){const f=this._getOrReturnCtx(e);return P(f,{code:A.invalid_type,expected:F.object,received:f.parsedType}),z}const{status:o,ctx:i}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof Zt&&this._def.unknownKeys==="strip"))for(const f in i.data)a.includes(f)||u.push(f);const c=[];for(const f of a){const d=r[f],p=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new yt(i,p,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Zt){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(f==="strict")u.length>0&&(P(i,{code:A.unrecognized_keys,keys:u}),o.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const p=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new yt(i,p,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const p=await d.key,m=await d.value;f.push({key:p,value:m,alwaysSet:d.alwaysSet})}return f}).then(f=>Re.mergeObjectSync(o,f)):Re.mergeObjectSync(o,c)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new pe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,o)=>{var r,a;const i=((a=(r=this._def).errorMap)==null?void 0:a.call(r,t,o).message)??o.defaultError;return t.code==="unrecognized_keys"?{message:V.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(e){return new pe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new pe({...this._def,catchall:e})}pick(e){const t={};for(const o of X.objectKeys(e))e[o]&&this.shape[o]&&(t[o]=this.shape[o]);return new pe({...this._def,shape:()=>t})}omit(e){const t={};for(const o of X.objectKeys(this.shape))e[o]||(t[o]=this.shape[o]);return new pe({...this._def,shape:()=>t})}deepPartial(){return xn(this)}partial(e){const t={};for(const o of X.objectKeys(this.shape)){const i=this.shape[o];e&&!e[o]?t[o]=i:t[o]=i.optional()}return new pe({...this._def,shape:()=>t})}required(e){const t={};for(const o of X.objectKeys(this.shape))if(e&&!e[o])t[o]=this.shape[o];else{let r=this.shape[o];for(;r instanceof Kt;)r=r._def.innerType;t[o]=r}return new pe({...this._def,shape:()=>t})}keyof(){return kp(X.objectKeys(this.shape))}}pe.create=(n,e)=>new pe({shape:()=>n,unknownKeys:"strip",catchall:Zt.create(),typeName:B.ZodObject,...H(e)});pe.strictCreate=(n,e)=>new pe({shape:()=>n,unknownKeys:"strict",catchall:Zt.create(),typeName:B.ZodObject,...H(e)});pe.lazycreate=(n,e)=>new pe({shape:n,unknownKeys:"strip",catchall:Zt.create(),typeName:B.ZodObject,...H(e)});class vr extends Z{_parse(e){const{ctx:t}=this._processInputParams(e),o=this._def.options;function i(r){for(const u of r)if(u.result.status==="valid")return u.result;for(const u of r)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const a=r.map(u=>new kt(u.ctx.common.issues));return P(t,{code:A.invalid_union,unionErrors:a}),z}if(t.common.async)return Promise.all(o.map(async r=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let r;const a=[];for(const c of o){const f={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!r&&(r={result:d,ctx:f}),f.common.issues.length&&a.push(f.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const u=a.map(c=>new kt(c));return P(t,{code:A.invalid_union,unionErrors:u}),z}}get options(){return this._def.options}}vr.create=(n,e)=>new vr({options:n,typeName:B.ZodUnion,...H(e)});function hl(n,e){const t=Dt(n),o=Dt(e);if(n===e)return{valid:!0,data:n};if(t===F.object&&o===F.object){const i=X.objectKeys(e),r=X.objectKeys(n).filter(u=>i.indexOf(u)!==-1),a={...n,...e};for(const u of r){const c=hl(n[u],e[u]);if(!c.valid)return{valid:!1};a[u]=c.data}return{valid:!0,data:a}}else if(t===F.array&&o===F.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<n.length;r++){const a=n[r],u=e[r],c=hl(a,u);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return t===F.date&&o===F.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Cr extends Z{_parse(e){const{status:t,ctx:o}=this._processInputParams(e),i=(r,a)=>{if(zu(r)||zu(a))return z;const u=hl(r.value,a.value);return u.valid?((Gu(r)||Gu(a))&&t.dirty(),{status:t.value,value:u.data}):(P(o,{code:A.invalid_intersection_types}),z)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([r,a])=>i(r,a)):i(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Cr.create=(n,e,t)=>new Cr({left:n,right:e,typeName:B.ZodIntersection,...H(t)});class Cn extends Z{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.array)return P(o,{code:A.invalid_type,expected:F.array,received:o.parsedType}),z;if(o.data.length<this._def.items.length)return P(o,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z;!this._def.rest&&o.data.length>this._def.items.length&&(P(o,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...o.data].map((a,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new yt(o,a,o.path,u)):null}).filter(a=>!!a);return o.common.async?Promise.all(r).then(a=>Re.mergeArray(t,a)):Re.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Cn({...this._def,rest:e})}}Cn.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cn({items:n,typeName:B.ZodTuple,rest:null,...H(e)})};class Tr extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.object)return P(o,{code:A.invalid_type,expected:F.object,received:o.parsedType}),z;const i=[],r=this._def.keyType,a=this._def.valueType;for(const u in o.data)i.push({key:r._parse(new yt(o,u,o.path,u)),value:a._parse(new yt(o,o.data[u],o.path,u)),alwaysSet:u in o.data});return o.common.async?Re.mergeObjectAsync(t,i):Re.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,o){return t instanceof Z?new Tr({keyType:e,valueType:t,typeName:B.ZodRecord,...H(o)}):new Tr({keyType:pt.create(),valueType:e,typeName:B.ZodRecord,...H(t)})}}class Yu extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.map)return P(o,{code:A.invalid_type,expected:F.map,received:o.parsedType}),z;const i=this._def.keyType,r=this._def.valueType,a=[...o.data.entries()].map(([u,c],f)=>({key:i._parse(new yt(o,u,o.path,[f,"key"])),value:r._parse(new yt(o,c,o.path,[f,"value"]))}));if(o.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of a){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return z;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of a){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return z;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}}}}Yu.create=(n,e,t)=>new Yu({valueType:e,keyType:n,typeName:B.ZodMap,...H(t)});class ti extends Z{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.set)return P(o,{code:A.invalid_type,expected:F.set,received:o.parsedType}),z;const i=this._def;i.minSize!==null&&o.data.size<i.minSize.value&&(P(o,{code:A.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&o.data.size>i.maxSize.value&&(P(o,{code:A.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const r=this._def.valueType;function a(c){const f=new Set;for(const d of c){if(d.status==="aborted")return z;d.status==="dirty"&&t.dirty(),f.add(d.value)}return{status:t.value,value:f}}const u=[...o.data.values()].map((c,f)=>r._parse(new yt(o,c,o.path,f)));return o.common.async?Promise.all(u).then(c=>a(c)):a(u)}min(e,t){return new ti({...this._def,minSize:{value:e,message:V.toString(t)}})}max(e,t){return new ti({...this._def,maxSize:{value:e,message:V.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ti.create=(n,e)=>new ti({valueType:n,minSize:null,maxSize:null,typeName:B.ZodSet,...H(e)});class gl extends Z{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}gl.create=(n,e)=>new gl({getter:n,typeName:B.ZodLazy,...H(e)});class Zu extends Z{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return P(t,{received:t.data,code:A.invalid_literal,expected:this._def.value}),z}return{status:"valid",value:e.data}}get value(){return this._def.value}}Zu.create=(n,e)=>new Zu({value:n,typeName:B.ZodLiteral,...H(e)});function kp(n,e){return new no({values:n,typeName:B.ZodEnum,...H(e)})}class no extends Z{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),o=this._def.values;return P(t,{expected:X.joinValues(o),received:t.parsedType,code:A.invalid_type}),z}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),o=this._def.values;return P(t,{received:t.data,code:A.invalid_enum_value,options:o}),z}return et(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return no.create(e,{...this._def,...t})}exclude(e,t=this._def){return no.create(this.options.filter(o=>!e.includes(o)),{...this._def,...t})}}no.create=kp;class Qu extends Z{_parse(e){const t=X.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==F.string&&o.parsedType!==F.number){const i=X.objectValues(t);return P(o,{expected:X.joinValues(i),received:o.parsedType,code:A.invalid_type}),z}if(this._cache||(this._cache=new Set(X.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=X.objectValues(t);return P(o,{received:o.data,code:A.invalid_enum_value,options:i}),z}return et(e.data)}get enum(){return this._def.values}}Qu.create=(n,e)=>new Qu({values:n,typeName:B.ZodNativeEnum,...H(e)});class _r extends Z{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==F.promise&&t.common.async===!1)return P(t,{code:A.invalid_type,expected:F.promise,received:t.parsedType}),z;const o=t.parsedType===F.promise?t.data:Promise.resolve(t.data);return et(o.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}_r.create=(n,e)=>new _r({type:n,typeName:B.ZodPromise,...H(e)});class oo extends Z{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:o}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:a=>{P(o,a),a.fatal?t.abort():t.dirty()},get path(){return o.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const a=i.transform(o.data,r);if(o.common.async)return Promise.resolve(a).then(async u=>{if(t.value==="aborted")return z;const c=await this._def.schema._parseAsync({data:u,path:o.path,parent:o});return c.status==="aborted"?z:c.status==="dirty"||t.value==="dirty"?Io(c.value):c});{if(t.value==="aborted")return z;const u=this._def.schema._parseSync({data:a,path:o.path,parent:o});return u.status==="aborted"?z:u.status==="dirty"||t.value==="dirty"?Io(u.value):u}}if(i.type==="refinement"){const a=u=>{const c=i.refinement(u,r);if(o.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(o.common.async===!1){const u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?z:(u.status==="dirty"&&t.dirty(),a(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>u.status==="aborted"?z:(u.status==="dirty"&&t.dirty(),a(u.value).then(()=>({status:t.value,value:u.value}))))}if(i.type==="transform")if(o.common.async===!1){const a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!eo(a))return z;const u=i.transform(a.value,r);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>eo(a)?Promise.resolve(i.transform(a.value,r)).then(u=>({status:t.value,value:u})):z);X.assertNever(i)}}oo.create=(n,e,t)=>new oo({schema:n,typeName:B.ZodEffects,effect:e,...H(t)});oo.createWithPreprocess=(n,e,t)=>new oo({schema:e,effect:{type:"preprocess",transform:n},typeName:B.ZodEffects,...H(t)});class Kt extends Z{_parse(e){return this._getType(e)===F.undefined?et(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Kt.create=(n,e)=>new Kt({innerType:n,typeName:B.ZodOptional,...H(e)});class io extends Z{_parse(e){return this._getType(e)===F.null?et(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}io.create=(n,e)=>new io({innerType:n,typeName:B.ZodNullable,...H(e)});class yl extends Z{_parse(e){const{ctx:t}=this._processInputParams(e);let o=t.data;return t.parsedType===F.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}yl.create=(n,e)=>new yl({innerType:n,typeName:B.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...H(e)});class vl extends Z{_parse(e){const{ctx:t}=this._processInputParams(e),o={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return gr(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new kt(o.common.issues)},input:o.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kt(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}vl.create=(n,e)=>new vl({innerType:n,typeName:B.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...H(e)});class Xu extends Z{_parse(e){if(this._getType(e)!==F.nan){const o=this._getOrReturnCtx(e);return P(o,{code:A.invalid_type,expected:F.nan,received:o.parsedType}),z}return{status:"valid",value:e.data}}}Xu.create=n=>new Xu({typeName:B.ZodNaN,...H(n)});class ny extends Z{_parse(e){const{ctx:t}=this._processInputParams(e),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class xa extends Z{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?z:r.status==="dirty"?(t.dirty(),Io(r.value)):this._def.out._parseAsync({data:r.value,path:o.path,parent:o})})();{const i=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?z:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:o.path,parent:o})}}static create(e,t){return new xa({in:e,out:t,typeName:B.ZodPipeline})}}class Cl extends Z{_parse(e){const t=this._def.innerType._parse(e),o=i=>(eo(i)&&(i.value=Object.freeze(i.value)),i);return gr(t)?t.then(i=>o(i)):o(t)}unwrap(){return this._def.innerType}}Cl.create=(n,e)=>new Cl({innerType:n,typeName:B.ZodReadonly,...H(e)});var B;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(B||(B={}));const on=pt.create,bu=yn.create;vn.create;const oy=yr.create;to.create;const ju=ml.create;Zt.create;const Ao=gt.create,iy=pe.create,ry=vr.create;Cr.create;Cn.create;const sy=Tr.create,ly=gl.create,ay=no.create;_r.create;Kt.create;io.create;const En={string:n=>pt.create({...n,coerce:!0}),number:n=>yn.create({...n,coerce:!0}),boolean:n=>yr.create({...n,coerce:!0}),bigint:n=>vn.create({...n,coerce:!0}),date:n=>to.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uy,cy;function fy(){return{geminiUrl:uy,vertexUrl:cy}}function dy(n,e,t){var o,i,r;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const a=fy();return n.vertexai?(i=a.vertexUrl)!==null&&i!==void 0?i:e:(r=a.geminiUrl)!==null&&r!==void 0?r:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uo{}function $(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function l(n,e,t){for(let r=0;r<e.length-1;r++){const a=e[r];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];l(d,e.slice(r+1),t[f])}else for(const f of c)l(f,e.slice(r+1),t)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];l(c[0],e.slice(r+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=t}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const o=e[t];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const r=n[i];return Array.isArray(r)?r.map(a=>s(a,e.slice(t+1))):void 0}else return}else n=n[o]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ec;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ec||(ec={}));var tc;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(tc||(tc={}));var Ze;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ze||(Ze={}));var nc;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(nc||(nc={}));var oc;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(oc||(oc={}));var ic;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(ic||(ic={}));var rc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(rc||(rc={}));var sc;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(sc||(sc={}));var lc;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(lc||(lc={}));var ac;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ac||(ac={}));var uc;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uc||(uc={}));var cc;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(cc||(cc={}));var fc;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fc||(fc={}));var Sr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Sr||(Sr={}));var dc;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dc||(dc={}));var Tl;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Tl||(Tl={}));var pc;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pc||(pc={}));var mc;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(mc||(mc={}));var hc;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(hc||(hc={}));var gc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(gc||(gc={}));var yc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(yc||(yc={}));var vc;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(vc||(vc={}));var Cc;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Cc||(Cc={}));var Tc;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Tc||(Tc={}));var _c;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(_c||(_c={}));var Sc;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sc||(Sc={}));var Ec;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ec||(Ec={}));var xc;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xc||(xc={}));var wc;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wc||(wc={}));var Ic;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ic||(Ic={}));var Ac;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Ac||(Ac={}));var kc;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(kc||(kc={}));var Mc;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mc||(Mc={}));var Nc;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Nc||(Nc={}));var Pc;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Pc||(Pc={}));var Rc;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Rc||(Rc={}));var Dc;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Dc||(Dc={}));var Lc;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Lc||(Lc={}));var Vn;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Vn||(Vn={}));class _o{get text(){var e,t,o,i,r,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const m of(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,C]of Object.entries(m))g!=="text"&&g!=="thought"&&(C!==null||C!==void 0)&&p.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,f+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,t,o,i,r,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,g]of Object.entries(p))m!=="inlineData"&&(g!==null||g!==void 0)&&d.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,o,i,r,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,o,i,r,a,u,c,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,o,i,r,a,u,c,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(a=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Fc{}class Uc{}class py{}class my{}class Vc{}class $c{}class Bc{}class hy{}class zc{}class Gc{}class Oc{}class gy{}class _l{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class yy{}class vy{}class Cy{get text(){var e,t,o;let i="",r=!1;const a=[];for(const u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,t,o;let i="";const r=[];for(const a of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&r.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Ty{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function te(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Mp(n,e){const t=te(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Np(n,e){return Array.isArray(e)?e.map(t=>Er(n,t)):[Er(n,e)]}function Er(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function _y(n,e){const t=Er(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Sy(n,e){const t=Er(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Hc(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Pp(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Hc(n,t)):[Hc(n,e)]}function Sl(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function qc(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Wc(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ne(n,e){if(e==null)throw new Error("ContentUnion is required");return Sl(e)?e:{role:"user",parts:Pp(n,e)}}function Rp(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=Ne(n,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=Ne(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ne(n,t)):[Ne(n,e)]}function lt(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qc(e)||Wc(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ne(n,e)]}const t=[],o=[],i=Sl(e[0]);for(const r of e){const a=Sl(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(r);else{if(qc(r)||Wc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return i||t.push({role:"user",parts:Pp(n,o)}),t}const Ey=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Kc=ay(["string","number","integer","object","array","boolean","null"]),xy=ry([Kc,Ao(Kc)]);function wy(n=!0){const e=ly(()=>{const t=iy({type:xy.optional(),format:on().optional(),title:on().optional(),description:on().optional(),default:ju().optional(),items:e.optional(),minItems:En.string().optional(),maxItems:En.string().optional(),enum:Ao(ju()).optional(),properties:sy(on(),e).optional(),required:Ao(on()).optional(),minProperties:En.string().optional(),maxProperties:En.string().optional(),propertyOrdering:Ao(on()).optional(),minimum:bu().optional(),maximum:bu().optional(),minLength:En.string().optional(),maxLength:En.string().optional(),pattern:on().optional(),anyOf:Ao(e).optional(),additionalProperties:oy().optional()});return n?t.strict():t});return e}function Iy(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.keys(Ze).includes(t[0].toUpperCase())?Ze[t[0].toUpperCase()]:Ze.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.keys(Ze).includes(o.toUpperCase())?Ze[o.toUpperCase()]:Ze.TYPE_UNSPECIFIED})}}function Wn(n){const e={},t=["items"],o=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=n.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,n=r[1]):r[1].type==="null"&&(e.nullable=!0,n=r[0])),n.type instanceof Array&&Iy(n.type,e);for(const[a,u]of Object.entries(n))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.keys(Ze).includes(u.toUpperCase())?u.toUpperCase():Ze.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Wn(u);else if(o.includes(a)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Wn(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,d]of Object.entries(u))c[f]=Wn(d);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function xr(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=wy().parse(e);return Wn(t)}else return Wn(e)}function Dp(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function wa(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function li(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=xr(n,t.parameters)),t.response&&(t.response=xr(n,t.response));return e}function ai(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function Ay(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function jt(n,e){if(typeof e!="string")throw new Error("name must be a string");return Ay(n,e,"cachedContents")}function Lp(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function en(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function ky(n){return n!=null&&typeof n=="object"&&"name"in n}function My(n){return n!=null&&typeof n=="object"&&"video"in n}function Ny(n){return n!=null&&typeof n=="object"&&"uri"in n}function Fp(n,e){var t;let o;if(ky(e)&&(o=e.name),!(Ny(e)&&(o=e.uri,o===void 0))&&!(My(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Up(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Vp(n,e){for(const t of["models","tunedModels","publisherModels"])if(Py(e,t))return e[t];return[]}function Py(n,e){return n!==null&&typeof n=="object"&&e in n}function Ry(n,e={}){const t=n,o={name:t.name,description:t.description,parameters:Wn(Gr(t.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Dy(n,e={}){const t=[],o=new Set;for(const i of n){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const a=Ry(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function Ly(n){const e=[];for(const t of n)e.push(Gr(t));return e}function Fy(n){const e={};for(const[t,o]of Object.entries(n)){const i=o;e[t]=Gr(i)}return e}function Gr(n){const e=new Set(["items"]),t=new Set(["anyOf"]),o=new Set(["properties"]),i={};for(const[r,a]of Object.entries(n))if(e.has(r))i[r]=Gr(a);else if(t.has(r))i[r]=Ly(a);else if(o.has(r))i[r]=Fy(a);else if(r==="type"){const u=a.toUpperCase();i[r]=Object.keys(Ze).includes(u)?u:Ze.TYPE_UNSPECIFIED}else Ey.has(r)&&(i[r]=a);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uy(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function Vy(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function $y(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function By(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],Uy(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],Vy(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],$y(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function Jc(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>By(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function zy(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function Gy(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function Oy(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],Gy(n,o)),t}function Hy(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function qy(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],Hy(n,o)),t}function Wy(){return{}}function Ky(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>zy(n,f))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],Oy(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],qy(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],Wy());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function Jy(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Yy(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function Zy(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],Yy(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Qy(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],Jy(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],Zy(n,i)),t}function Xy(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&l(t,["expireTime"],r);const a=s(e,["displayName"]);t!==void 0&&a!=null&&l(t,["displayName"],a);const u=s(e,["contents"]);if(t!==void 0&&u!=null){let p=lt(n,u);Array.isArray(p)&&(p=p.map(m=>Jc(n,m))),l(t,["contents"],p)}const c=s(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],Jc(n,Ne(n,c)));const f=s(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>Ky(n,m))),l(t,["tools"],p)}const d=s(e,["toolConfig"]);if(t!==void 0&&d!=null&&l(t,["toolConfig"],Qy(n,d)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function by(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["model"],Mp(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],Xy(n,i,t)),t}function jy(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],jt(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function ev(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],jt(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function tv(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&l(t,["expireTime"],r),o}function nv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],jt(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],tv(n,i,t)),t}function ov(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),o}function iv(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],ov(n,o,t)),t}function rv(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function sv(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function lv(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function av(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],rv(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],sv(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],lv(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function Yc(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>av(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function uv(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&l(t,["description"],o);const i=s(e,["name"]);i!=null&&l(t,["name"],i);const r=s(e,["parameters"]);r!=null&&l(t,["parameters"],r);const a=s(e,["response"]);return a!=null&&l(t,["response"],a),t}function cv(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function fv(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],cv(n,o)),t}function dv(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function pv(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],dv(n,o)),t}function mv(){return{}}function hv(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&l(t,["apiKeyString"],o),t}function gv(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&l(t,["apiKeyConfig"],hv(n,o));const i=s(e,["authType"]);i!=null&&l(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&l(t,["googleServiceAccountConfig"],r);const a=s(e,["httpBasicAuthConfig"]);a!=null&&l(t,["httpBasicAuthConfig"],a);const u=s(e,["oauthConfig"]);u!=null&&l(t,["oauthConfig"],u);const c=s(e,["oidcConfig"]);return c!=null&&l(t,["oidcConfig"],c),t}function yv(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&l(t,["authConfig"],gv(n,o)),t}function vv(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>uv(n,p))),l(t,["functionDeclarations"],d)}const i=s(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&l(t,["googleSearch"],fv(n,r));const a=s(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],pv(n,a)),s(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],mv());const c=s(e,["googleMaps"]);if(c!=null&&l(t,["googleMaps"],yv(n,c)),s(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const f=s(e,["codeExecution"]);return f!=null&&l(t,["codeExecution"],f),t}function Cv(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Tv(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function _v(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],Tv(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Sv(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],Cv(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],_v(n,i)),t}function Ev(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&l(t,["expireTime"],r);const a=s(e,["displayName"]);t!==void 0&&a!=null&&l(t,["displayName"],a);const u=s(e,["contents"]);if(t!==void 0&&u!=null){let m=lt(n,u);Array.isArray(m)&&(m=m.map(g=>Yc(n,g))),l(t,["contents"],m)}const c=s(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],Yc(n,Ne(n,c)));const f=s(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>vv(n,g))),l(t,["tools"],m)}const d=s(e,["toolConfig"]);t!==void 0&&d!=null&&l(t,["toolConfig"],Sv(n,d));const p=s(e,["kmsKeyName"]);return t!==void 0&&p!=null&&l(t,["encryption_spec","kmsKeyName"],p),o}function xv(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["model"],Mp(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],Ev(n,i,t)),t}function wv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],jt(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function Iv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],jt(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function Av(n,e,t){const o={},i=s(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&l(t,["expireTime"],r),o}function kv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],jt(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],Av(n,i,t)),t}function Mv(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),o}function Nv(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],Mv(n,o,t)),t}function Hi(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["model"]);r!=null&&l(t,["model"],r);const a=s(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=s(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const c=s(e,["expireTime"]);c!=null&&l(t,["expireTime"],c);const f=s(e,["usageMetadata"]);return f!=null&&l(t,["usageMetadata"],f),t}function Pv(){return{}}function Rv(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Hi(n,a))),l(t,["cachedContents"],r)}return t}function qi(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["model"]);r!=null&&l(t,["model"],r);const a=s(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=s(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const c=s(e,["expireTime"]);c!=null&&l(t,["expireTime"],c);const f=s(e,["usageMetadata"]);return f!=null&&l(t,["usageMetadata"],f),t}function Dv(){return{}}function Lv(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>qi(n,a))),l(t,["cachedContents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ro;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ro||(ro={}));class Or{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};o?typeof o=="object"?a=Object.assign({},o):a=o:a={config:{}},a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(r=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fv extends uo{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Or(ro.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=xv(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>qi(this.apiClient,d))}else{const f=by(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Hi(this.apiClient,d))}}async get(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=wv(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>qi(this.apiClient,d))}else{const f=jy(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Hi(this.apiClient,d))}}async delete(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Iv(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(()=>{const d=Dv(),p=new Gc;return Object.assign(p,d),p})}else{const f=ev(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(()=>{const d=Pv(),p=new Gc;return Object.assign(p,d),p})}}async update(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=kv(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>qi(this.apiClient,d))}else{const f=nv(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Hi(this.apiClient,d))}}async listInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Nv(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Lv(this.apiClient,d),m=new Oc;return Object.assign(m,p),m})}else{const f=iv(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Rv(this.apiClient,d),m=new Oc;return Object.assign(m,p),m})}}}function Zc(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(n){return this instanceof oe?(this.v=n,this):new oe(n)}function Kn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(C){return Promise.resolve(C).then(g,p)}}function u(g,C){o[g]&&(i[g]=function(T){return new Promise(function(x,y){r.push([g,T,x,y])>1||c(g,T)})},C&&(i[g]=C(i[g])))}function c(g,C){try{f(o[g](C))}catch(T){m(r[0][3],T)}}function f(g){g.value instanceof oe?Promise.resolve(g.value.v).then(d,p):m(r[0][2],g)}function d(g){c("next",g)}function p(g){c("throw",g)}function m(g,C){g(C),r.shift(),r.length&&c(r[0][0],r[0][1])}}function Vo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Zc=="function"?Zc(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=n[r]&&function(a){return new Promise(function(u,c){a=n[r](a),i(u,c,a.done,a.value)})}}function i(r,a,u,c){Promise.resolve(c).then(function(f){r({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uv(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:$p(t)}function $p(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Vv(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qc(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const i=[];let r=!0;for(;o<t&&n[o].role==="model";)i.push(n[o]),r&&!$p(n[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class $v{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Bv(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Bv{constructor(e,t,o,i={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),Vv(r)}async sendMessage(e){var t;await this.sendPromise;const o=Ne(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,a,u;const c=await i,f=(a=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];d!=null&&(m=(u=d.slice(p))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const o=Ne(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const t=e?Qc(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,i;return Kn(this,arguments,function*(){var a,u,c,f;const d=[];try{for(var p=!0,m=Vo(e),g;g=yield oe(m.next()),a=g.done,!a;p=!0){f=g.value,p=!1;const C=f;if(Uv(C)){const T=(i=(o=C.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;T!==void 0&&d.push(T)}yield yield oe(C)}}catch(C){u={error:C}}finally{try{!p&&!a&&(c=m.return)&&(yield oe(c.call(m)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t,o){let i=[];t.length>0&&t.every(r=>r.role!==void 0)?i=t:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Qc(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zv(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&l(t,["_query","pageToken"],r),o}function Gv(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],zv(n,o,t)),t}function Ov(n,e){const t={},o=s(e,["details"]);o!=null&&l(t,["details"],o);const i=s(e,["message"]);i!=null&&l(t,["message"],i);const r=s(e,["code"]);return r!=null&&l(t,["code"],r),t}function Hv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["mimeType"]);r!=null&&l(t,["mimeType"],r);const a=s(e,["sizeBytes"]);a!=null&&l(t,["sizeBytes"],a);const u=s(e,["createTime"]);u!=null&&l(t,["createTime"],u);const c=s(e,["expirationTime"]);c!=null&&l(t,["expirationTime"],c);const f=s(e,["updateTime"]);f!=null&&l(t,["updateTime"],f);const d=s(e,["sha256Hash"]);d!=null&&l(t,["sha256Hash"],d);const p=s(e,["uri"]);p!=null&&l(t,["uri"],p);const m=s(e,["downloadUri"]);m!=null&&l(t,["downloadUri"],m);const g=s(e,["state"]);g!=null&&l(t,["state"],g);const C=s(e,["source"]);C!=null&&l(t,["source"],C);const T=s(e,["videoMetadata"]);T!=null&&l(t,["videoMetadata"],T);const x=s(e,["error"]);return x!=null&&l(t,["error"],Ov(n,x)),t}function qv(n,e){const t={},o=s(e,["file"]);o!=null&&l(t,["file"],Hv(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function Wv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","file"],Fp(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function Kv(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","file"],Fp(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function Jv(n,e){const t={},o=s(e,["details"]);o!=null&&l(t,["details"],o);const i=s(e,["message"]);i!=null&&l(t,["message"],i);const r=s(e,["code"]);return r!=null&&l(t,["code"],r),t}function El(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["mimeType"]);r!=null&&l(t,["mimeType"],r);const a=s(e,["sizeBytes"]);a!=null&&l(t,["sizeBytes"],a);const u=s(e,["createTime"]);u!=null&&l(t,["createTime"],u);const c=s(e,["expirationTime"]);c!=null&&l(t,["expirationTime"],c);const f=s(e,["updateTime"]);f!=null&&l(t,["updateTime"],f);const d=s(e,["sha256Hash"]);d!=null&&l(t,["sha256Hash"],d);const p=s(e,["uri"]);p!=null&&l(t,["uri"],p);const m=s(e,["downloadUri"]);m!=null&&l(t,["downloadUri"],m);const g=s(e,["state"]);g!=null&&l(t,["state"],g);const C=s(e,["source"]);C!=null&&l(t,["source"],C);const T=s(e,["videoMetadata"]);T!=null&&l(t,["videoMetadata"],T);const x=s(e,["error"]);return x!=null&&l(t,["error"],Jv(n,x)),t}function Yv(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>El(n,a))),l(t,["files"],r)}return t}function Zv(){return{}}function Qv(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xv extends uo{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Or(ro.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>El(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gv(this.apiClient,e);return r=$("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Yv(this.apiClient,c),d=new gy;return Object.assign(d,f),d})}}async createInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qv(this.apiClient,e);return r=$("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(()=>{const c=Zv(),f=new yy;return Object.assign(f,c),f})}}async get(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wv(this.apiClient,e);return r=$("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>El(this.apiClient,c))}}async delete(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kv(this.apiClient,e);return r=$("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(()=>{const c=Qv(),f=new vy;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bv(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function jv(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function Bp(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],bv(n,o)),t}function eC(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],jv(n,o)),t}function tC(n,e){const t={},o=s(e,["speaker"]);o!=null&&l(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],Bp(n,i)),t}function nC(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>tC(n,r))),l(t,["speakerVoiceConfigs"],i)}return t}function oC(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],Bp(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],nC(n,i));const r=s(e,["languageCode"]);return r!=null&&l(t,["languageCode"],r),t}function iC(n,e){const t={},o=s(e,["voiceConfig"]);if(o!=null&&l(t,["voiceConfig"],eC(n,o)),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function rC(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function sC(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function lC(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function aC(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function uC(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function cC(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function fC(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],rC(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],lC(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],uC(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function dC(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],sC(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],aC(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],cC(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function pC(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>fC(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function mC(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>dC(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function hC(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function gC(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&l(t,["description"],o);const i=s(e,["name"]);i!=null&&l(t,["name"],i);const r=s(e,["parameters"]);r!=null&&l(t,["parameters"],r);const a=s(e,["response"]);return a!=null&&l(t,["response"],a),t}function yC(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function vC(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function CC(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],yC(n,o)),t}function TC(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],vC(n,o)),t}function _C(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function SC(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function EC(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],_C(n,o)),t}function xC(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],SC(n,o)),t}function wC(){return{}}function IC(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&l(t,["apiKeyString"],o),t}function AC(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&l(t,["apiKeyConfig"],IC(n,o));const i=s(e,["authType"]);i!=null&&l(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&l(t,["googleServiceAccountConfig"],r);const a=s(e,["httpBasicAuthConfig"]);a!=null&&l(t,["httpBasicAuthConfig"],a);const u=s(e,["oauthConfig"]);u!=null&&l(t,["oauthConfig"],u);const c=s(e,["oidcConfig"]);return c!=null&&l(t,["oidcConfig"],c),t}function kC(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&l(t,["authConfig"],AC(n,o)),t}function MC(){return{}}function NC(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>hC(n,f))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],CC(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],EC(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],MC());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function PC(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>gC(n,p))),l(t,["functionDeclarations"],d)}const i=s(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&l(t,["googleSearch"],TC(n,r));const a=s(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],xC(n,a)),s(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],wC());const c=s(e,["googleMaps"]);if(c!=null&&l(t,["googleMaps"],kC(n,c)),s(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const f=s(e,["codeExecution"]);return f!=null&&l(t,["codeExecution"],f),t}function RC(n,e){const t={},o=s(e,["handle"]);if(o!=null&&l(t,["handle"],o),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function DC(n,e){const t={},o=s(e,["handle"]);o!=null&&l(t,["handle"],o);const i=s(e,["transparent"]);return i!=null&&l(t,["transparent"],i),t}function Xc(){return{}}function bc(){return{}}function LC(n,e){const t={},o=s(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&l(t,["endOfSpeechSensitivity"],r);const a=s(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=s(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function FC(n,e){const t={},o=s(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&l(t,["endOfSpeechSensitivity"],r);const a=s(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=s(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function UC(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],LC(n,o));const i=s(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&l(t,["turnCoverage"],r),t}function VC(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],FC(n,o));const i=s(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&l(t,["turnCoverage"],r),t}function $C(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function BC(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function zC(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],$C(n,i)),t}function GC(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],BC(n,i)),t}function OC(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&l(t,["proactiveAudio"],o),t}function HC(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&l(t,["proactiveAudio"],o),t}function qC(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const a=s(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=s(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=s(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const f=s(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","mediaResolution"],d);const p=s(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","speechConfig"],oC(n,wa(n,m)));const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&l(t,["setup","systemInstruction"],pC(n,Ne(n,C)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let E=ai(n,T);Array.isArray(E)&&(E=E.map(I=>NC(n,li(n,I)))),l(t,["setup","tools"],E)}const x=s(e,["sessionResumption"]);t!==void 0&&x!=null&&l(t,["setup","sessionResumption"],RC(n,x));const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&l(t,["setup","inputAudioTranscription"],Xc());const h=s(e,["outputAudioTranscription"]);t!==void 0&&h!=null&&l(t,["setup","outputAudioTranscription"],Xc());const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],UC(n,v));const _=s(e,["contextWindowCompression"]);t!==void 0&&_!=null&&l(t,["setup","contextWindowCompression"],zC(n,_));const S=s(e,["proactivity"]);return t!==void 0&&S!=null&&l(t,["setup","proactivity"],OC(n,S)),o}function WC(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const a=s(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=s(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=s(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const f=s(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","mediaResolution"],d);const p=s(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","speechConfig"],iC(n,wa(n,m)));const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&l(t,["setup","systemInstruction"],mC(n,Ne(n,C)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let E=ai(n,T);Array.isArray(E)&&(E=E.map(I=>PC(n,li(n,I)))),l(t,["setup","tools"],E)}const x=s(e,["sessionResumption"]);t!==void 0&&x!=null&&l(t,["setup","sessionResumption"],DC(n,x));const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&l(t,["setup","inputAudioTranscription"],bc());const h=s(e,["outputAudioTranscription"]);t!==void 0&&h!=null&&l(t,["setup","outputAudioTranscription"],bc());const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],VC(n,v));const _=s(e,["contextWindowCompression"]);t!==void 0&&_!=null&&l(t,["setup","contextWindowCompression"],GC(n,_));const S=s(e,["proactivity"]);return t!==void 0&&S!=null&&l(t,["setup","proactivity"],HC(n,S)),o}function KC(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["setup","model"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],qC(n,i,t)),t}function JC(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["setup","model"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],WC(n,i,t)),t}function YC(){return{}}function ZC(){return{}}function QC(){return{}}function XC(){return{}}function bC(n,e){const t={},o=s(e,["media"]);o!=null&&l(t,["mediaChunks"],Np(n,o));const i=s(e,["audio"]);i!=null&&l(t,["audio"],Sy(n,i));const r=s(e,["audioStreamEnd"]);r!=null&&l(t,["audioStreamEnd"],r);const a=s(e,["video"]);a!=null&&l(t,["video"],_y(n,a));const u=s(e,["text"]);return u!=null&&l(t,["text"],u),s(e,["activityStart"])!=null&&l(t,["activityStart"],YC()),s(e,["activityEnd"])!=null&&l(t,["activityEnd"],QC()),t}function jC(n,e){const t={},o=s(e,["media"]);if(o!=null&&l(t,["mediaChunks"],Np(n,o)),s(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=s(e,["audioStreamEnd"]);if(i!=null&&l(t,["audioStreamEnd"],i),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(s(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return s(e,["activityStart"])!=null&&l(t,["activityStart"],ZC()),s(e,["activityEnd"])!=null&&l(t,["activityEnd"],XC()),t}function zp(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["weight"]);return i!=null&&l(t,["weight"],i),t}function e0(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>zp(n,r))),l(t,["weightedPrompts"],i)}return t}function Gp(n,e){const t={},o=s(e,["temperature"]);o!=null&&l(t,["temperature"],o);const i=s(e,["topK"]);i!=null&&l(t,["topK"],i);const r=s(e,["seed"]);r!=null&&l(t,["seed"],r);const a=s(e,["guidance"]);a!=null&&l(t,["guidance"],a);const u=s(e,["bpm"]);u!=null&&l(t,["bpm"],u);const c=s(e,["density"]);c!=null&&l(t,["density"],c);const f=s(e,["brightness"]);f!=null&&l(t,["brightness"],f);const d=s(e,["scale"]);d!=null&&l(t,["scale"],d);const p=s(e,["muteBass"]);p!=null&&l(t,["muteBass"],p);const m=s(e,["muteDrums"]);m!=null&&l(t,["muteDrums"],m);const g=s(e,["onlyBassAndDrums"]);return g!=null&&l(t,["onlyBassAndDrums"],g),t}function t0(n,e){const t={},o=s(e,["musicGenerationConfig"]);return o!=null&&l(t,["musicGenerationConfig"],Gp(n,o)),t}function Op(n,e){const t={},o=s(e,["model"]);return o!=null&&l(t,["model"],o),t}function Hp(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>zp(n,r))),l(t,["weightedPrompts"],i)}return t}function xl(n,e){const t={},o=s(e,["setup"]);o!=null&&l(t,["setup"],Op(n,o));const i=s(e,["clientContent"]);i!=null&&l(t,["clientContent"],Hp(n,i));const r=s(e,["musicGenerationConfig"]);r!=null&&l(t,["musicGenerationConfig"],Gp(n,r));const a=s(e,["playbackControl"]);return a!=null&&l(t,["playbackControl"],a),t}function n0(){return{}}function o0(){return{}}function i0(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function r0(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function s0(n,e){const t={},o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function l0(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function a0(n,e){const t={},o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function u0(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function c0(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],i0(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],s0(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],a0(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function f0(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],r0(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],l0(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],u0(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function d0(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>c0(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function p0(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>f0(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function jc(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function ef(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function m0(n,e){const t={},o=s(e,["retrievedUrl"]);o!=null&&l(t,["retrievedUrl"],o);const i=s(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function h0(n,e){const t={},o=s(e,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>m0(n,r))),l(t,["urlMetadata"],i)}return t}function g0(n,e){const t={},o=s(e,["modelTurn"]);o!=null&&l(t,["modelTurn"],d0(n,o));const i=s(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const r=s(e,["interrupted"]);r!=null&&l(t,["interrupted"],r);const a=s(e,["groundingMetadata"]);a!=null&&l(t,["groundingMetadata"],a);const u=s(e,["generationComplete"]);u!=null&&l(t,["generationComplete"],u);const c=s(e,["inputTranscription"]);c!=null&&l(t,["inputTranscription"],jc(n,c));const f=s(e,["outputTranscription"]);f!=null&&l(t,["outputTranscription"],jc(n,f));const d=s(e,["urlContextMetadata"]);return d!=null&&l(t,["urlContextMetadata"],h0(n,d)),t}function y0(n,e){const t={},o=s(e,["modelTurn"]);o!=null&&l(t,["modelTurn"],p0(n,o));const i=s(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const r=s(e,["interrupted"]);r!=null&&l(t,["interrupted"],r);const a=s(e,["groundingMetadata"]);a!=null&&l(t,["groundingMetadata"],a);const u=s(e,["generationComplete"]);u!=null&&l(t,["generationComplete"],u);const c=s(e,["inputTranscription"]);c!=null&&l(t,["inputTranscription"],ef(n,c));const f=s(e,["outputTranscription"]);return f!=null&&l(t,["outputTranscription"],ef(n,f)),t}function v0(n,e){const t={},o=s(e,["id"]);o!=null&&l(t,["id"],o);const i=s(e,["args"]);i!=null&&l(t,["args"],i);const r=s(e,["name"]);return r!=null&&l(t,["name"],r),t}function C0(n,e){const t={},o=s(e,["args"]);o!=null&&l(t,["args"],o);const i=s(e,["name"]);return i!=null&&l(t,["name"],i),t}function T0(n,e){const t={},o=s(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>v0(n,r))),l(t,["functionCalls"],i)}return t}function _0(n,e){const t={},o=s(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>C0(n,r))),l(t,["functionCalls"],i)}return t}function S0(n,e){const t={},o=s(e,["ids"]);return o!=null&&l(t,["ids"],o),t}function E0(n,e){const t={},o=s(e,["ids"]);return o!=null&&l(t,["ids"],o),t}function ki(n,e){const t={},o=s(e,["modality"]);o!=null&&l(t,["modality"],o);const i=s(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function Mi(n,e){const t={},o=s(e,["modality"]);o!=null&&l(t,["modality"],o);const i=s(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function x0(n,e){const t={},o=s(e,["promptTokenCount"]);o!=null&&l(t,["promptTokenCount"],o);const i=s(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const r=s(e,["responseTokenCount"]);r!=null&&l(t,["responseTokenCount"],r);const a=s(e,["toolUsePromptTokenCount"]);a!=null&&l(t,["toolUsePromptTokenCount"],a);const u=s(e,["thoughtsTokenCount"]);u!=null&&l(t,["thoughtsTokenCount"],u);const c=s(e,["totalTokenCount"]);c!=null&&l(t,["totalTokenCount"],c);const f=s(e,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(C=>ki(n,C))),l(t,["promptTokensDetails"],g)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(C=>ki(n,C))),l(t,["cacheTokensDetails"],g)}const p=s(e,["responseTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(C=>ki(n,C))),l(t,["responseTokensDetails"],g)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(C=>ki(n,C))),l(t,["toolUsePromptTokensDetails"],g)}return t}function w0(n,e){const t={},o=s(e,["promptTokenCount"]);o!=null&&l(t,["promptTokenCount"],o);const i=s(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const r=s(e,["candidatesTokenCount"]);r!=null&&l(t,["responseTokenCount"],r);const a=s(e,["toolUsePromptTokenCount"]);a!=null&&l(t,["toolUsePromptTokenCount"],a);const u=s(e,["thoughtsTokenCount"]);u!=null&&l(t,["thoughtsTokenCount"],u);const c=s(e,["totalTokenCount"]);c!=null&&l(t,["totalTokenCount"],c);const f=s(e,["promptTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(T=>Mi(n,T))),l(t,["promptTokensDetails"],C)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let C=d;Array.isArray(C)&&(C=C.map(T=>Mi(n,T))),l(t,["cacheTokensDetails"],C)}const p=s(e,["candidatesTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(T=>Mi(n,T))),l(t,["responseTokensDetails"],C)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(T=>Mi(n,T))),l(t,["toolUsePromptTokensDetails"],C)}const g=s(e,["trafficType"]);return g!=null&&l(t,["trafficType"],g),t}function I0(n,e){const t={},o=s(e,["timeLeft"]);return o!=null&&l(t,["timeLeft"],o),t}function A0(n,e){const t={},o=s(e,["timeLeft"]);return o!=null&&l(t,["timeLeft"],o),t}function k0(n,e){const t={},o=s(e,["newHandle"]);o!=null&&l(t,["newHandle"],o);const i=s(e,["resumable"]);i!=null&&l(t,["resumable"],i);const r=s(e,["lastConsumedClientMessageIndex"]);return r!=null&&l(t,["lastConsumedClientMessageIndex"],r),t}function M0(n,e){const t={},o=s(e,["newHandle"]);o!=null&&l(t,["newHandle"],o);const i=s(e,["resumable"]);i!=null&&l(t,["resumable"],i);const r=s(e,["lastConsumedClientMessageIndex"]);return r!=null&&l(t,["lastConsumedClientMessageIndex"],r),t}function N0(n,e){const t={};s(e,["setupComplete"])!=null&&l(t,["setupComplete"],n0());const i=s(e,["serverContent"]);i!=null&&l(t,["serverContent"],g0(n,i));const r=s(e,["toolCall"]);r!=null&&l(t,["toolCall"],T0(n,r));const a=s(e,["toolCallCancellation"]);a!=null&&l(t,["toolCallCancellation"],S0(n,a));const u=s(e,["usageMetadata"]);u!=null&&l(t,["usageMetadata"],x0(n,u));const c=s(e,["goAway"]);c!=null&&l(t,["goAway"],I0(n,c));const f=s(e,["sessionResumptionUpdate"]);return f!=null&&l(t,["sessionResumptionUpdate"],k0(n,f)),t}function P0(n,e){const t={};s(e,["setupComplete"])!=null&&l(t,["setupComplete"],o0());const i=s(e,["serverContent"]);i!=null&&l(t,["serverContent"],y0(n,i));const r=s(e,["toolCall"]);r!=null&&l(t,["toolCall"],_0(n,r));const a=s(e,["toolCallCancellation"]);a!=null&&l(t,["toolCallCancellation"],E0(n,a));const u=s(e,["usageMetadata"]);u!=null&&l(t,["usageMetadata"],w0(n,u));const c=s(e,["goAway"]);c!=null&&l(t,["goAway"],A0(n,c));const f=s(e,["sessionResumptionUpdate"]);return f!=null&&l(t,["sessionResumptionUpdate"],M0(n,f)),t}function R0(){return{}}function D0(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["weight"]);return i!=null&&l(t,["weight"],i),t}function L0(n,e){const t={},o=s(e,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>D0(n,r))),l(t,["weightedPrompts"],i)}return t}function F0(n,e){const t={},o=s(e,["temperature"]);o!=null&&l(t,["temperature"],o);const i=s(e,["topK"]);i!=null&&l(t,["topK"],i);const r=s(e,["seed"]);r!=null&&l(t,["seed"],r);const a=s(e,["guidance"]);a!=null&&l(t,["guidance"],a);const u=s(e,["bpm"]);u!=null&&l(t,["bpm"],u);const c=s(e,["density"]);c!=null&&l(t,["density"],c);const f=s(e,["brightness"]);f!=null&&l(t,["brightness"],f);const d=s(e,["scale"]);d!=null&&l(t,["scale"],d);const p=s(e,["muteBass"]);p!=null&&l(t,["muteBass"],p);const m=s(e,["muteDrums"]);m!=null&&l(t,["muteDrums"],m);const g=s(e,["onlyBassAndDrums"]);return g!=null&&l(t,["onlyBassAndDrums"],g),t}function U0(n,e){const t={},o=s(e,["clientContent"]);o!=null&&l(t,["clientContent"],L0(n,o));const i=s(e,["musicGenerationConfig"]);return i!=null&&l(t,["musicGenerationConfig"],F0(n,i)),t}function V0(n,e){const t={},o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);i!=null&&l(t,["mimeType"],i);const r=s(e,["sourceMetadata"]);return r!=null&&l(t,["sourceMetadata"],U0(n,r)),t}function $0(n,e){const t={},o=s(e,["audioChunks"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>V0(n,r))),l(t,["audioChunks"],i)}return t}function B0(n,e){const t={},o=s(e,["text"]);o!=null&&l(t,["text"],o);const i=s(e,["filteredReason"]);return i!=null&&l(t,["filteredReason"],i),t}function z0(n,e){const t={};s(e,["setupComplete"])!=null&&l(t,["setupComplete"],R0());const i=s(e,["serverContent"]);i!=null&&l(t,["serverContent"],$0(n,i));const r=s(e,["filteredPrompt"]);return r!=null&&l(t,["filteredPrompt"],B0(n,r)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G0(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function O0(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function H0(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function q0(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],G0(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],O0(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],H0(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function Hr(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>q0(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function W0(n,e){const t={},o=s(e,["anyOf"]);o!=null&&l(t,["anyOf"],o);const i=s(e,["default"]);i!=null&&l(t,["default"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["enum"]);a!=null&&l(t,["enum"],a);const u=s(e,["example"]);u!=null&&l(t,["example"],u);const c=s(e,["format"]);c!=null&&l(t,["format"],c);const f=s(e,["items"]);f!=null&&l(t,["items"],f);const d=s(e,["maxItems"]);d!=null&&l(t,["maxItems"],d);const p=s(e,["maxLength"]);p!=null&&l(t,["maxLength"],p);const m=s(e,["maxProperties"]);m!=null&&l(t,["maxProperties"],m);const g=s(e,["maximum"]);g!=null&&l(t,["maximum"],g);const C=s(e,["minItems"]);C!=null&&l(t,["minItems"],C);const T=s(e,["minLength"]);T!=null&&l(t,["minLength"],T);const x=s(e,["minProperties"]);x!=null&&l(t,["minProperties"],x);const y=s(e,["minimum"]);y!=null&&l(t,["minimum"],y);const h=s(e,["nullable"]);h!=null&&l(t,["nullable"],h);const v=s(e,["pattern"]);v!=null&&l(t,["pattern"],v);const _=s(e,["properties"]);_!=null&&l(t,["properties"],_);const S=s(e,["propertyOrdering"]);S!=null&&l(t,["propertyOrdering"],S);const E=s(e,["required"]);E!=null&&l(t,["required"],E);const I=s(e,["title"]);I!=null&&l(t,["title"],I);const M=s(e,["type"]);return M!=null&&l(t,["type"],M),t}function K0(n,e){const t={};if(s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["category"]);o!=null&&l(t,["category"],o);const i=s(e,["threshold"]);return i!=null&&l(t,["threshold"],i),t}function J0(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function Y0(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function Z0(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],Y0(n,o)),t}function Q0(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function X0(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],Q0(n,o)),t}function b0(){return{}}function j0(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>J0(n,f))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],Z0(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],X0(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],b0());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function eT(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function tT(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function nT(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],tT(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function oT(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],eT(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],nT(n,i)),t}function iT(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function qp(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],iT(n,o)),t}function rT(n,e){const t={},o=s(e,["speaker"]);o!=null&&l(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],qp(n,i)),t}function sT(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>rT(n,r))),l(t,["speakerVoiceConfigs"],i)}return t}function lT(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],qp(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],sT(n,i));const r=s(e,["languageCode"]);return r!=null&&l(t,["languageCode"],r),t}function aT(n,e){const t={},o=s(e,["includeThoughts"]);o!=null&&l(t,["includeThoughts"],o);const i=s(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function uT(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],Hr(n,Ne(n,i)));const r=s(e,["temperature"]);r!=null&&l(o,["temperature"],r);const a=s(e,["topP"]);a!=null&&l(o,["topP"],a);const u=s(e,["topK"]);u!=null&&l(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const f=s(e,["maxOutputTokens"]);f!=null&&l(o,["maxOutputTokens"],f);const d=s(e,["stopSequences"]);d!=null&&l(o,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const m=s(e,["logprobs"]);m!=null&&l(o,["logprobs"],m);const g=s(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const C=s(e,["frequencyPenalty"]);C!=null&&l(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&l(o,["seed"],T);const x=s(e,["responseMimeType"]);x!=null&&l(o,["responseMimeType"],x);const y=s(e,["responseSchema"]);if(y!=null&&l(o,["responseSchema"],W0(n,xr(n,y))),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const h=s(e,["safetySettings"]);if(t!==void 0&&h!=null){let N=h;Array.isArray(N)&&(N=N.map(Y=>K0(n,Y))),l(t,["safetySettings"],N)}const v=s(e,["tools"]);if(t!==void 0&&v!=null){let N=ai(n,v);Array.isArray(N)&&(N=N.map(Y=>j0(n,li(n,Y)))),l(t,["tools"],N)}const _=s(e,["toolConfig"]);if(t!==void 0&&_!=null&&l(t,["toolConfig"],oT(n,_)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=s(e,["cachedContent"]);t!==void 0&&S!=null&&l(t,["cachedContent"],jt(n,S));const E=s(e,["responseModalities"]);E!=null&&l(o,["responseModalities"],E);const I=s(e,["mediaResolution"]);I!=null&&l(o,["mediaResolution"],I);const M=s(e,["speechConfig"]);if(M!=null&&l(o,["speechConfig"],lT(n,Dp(n,M))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=s(e,["thinkingConfig"]);return L!=null&&l(o,["thinkingConfig"],aT(n,L)),o}function tf(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["contents"]);if(i!=null){let a=lt(n,i);Array.isArray(a)&&(a=a.map(u=>Hr(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["generationConfig"],uT(n,r,t)),t}function cT(n,e,t){const o={},i=s(e,["taskType"]);t!==void 0&&i!=null&&l(t,["requests[]","taskType"],i);const r=s(e,["title"]);t!==void 0&&r!=null&&l(t,["requests[]","title"],r);const a=s(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&l(t,["requests[]","outputDimensionality"],a),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function fT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["contents"]);i!=null&&l(t,["requests[]","content"],Rp(n,i));const r=s(e,["config"]);r!=null&&l(t,["config"],cT(n,r,t));const a=s(e,["model"]);return a!==void 0&&l(t,["requests[]","model"],te(n,a)),t}function dT(n,e,t){const o={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&l(t,["parameters","aspectRatio"],r);const a=s(e,["guidanceScale"]);if(t!==void 0&&a!=null&&l(t,["parameters","guidanceScale"],a),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&l(t,["parameters","safetySetting"],u);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&l(t,["parameters","personGeneration"],c);const f=s(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&l(t,["parameters","includeSafetyAttributes"],f);const d=s(e,["includeRaiReason"]);t!==void 0&&d!=null&&l(t,["parameters","includeRaiReason"],d);const p=s(e,["language"]);t!==void 0&&p!=null&&l(t,["parameters","language"],p);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&l(t,["parameters","outputOptions","mimeType"],m);const g=s(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&l(t,["parameters","outputOptions","compressionQuality"],g),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function pT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&l(t,["config"],dT(n,r,t)),t}function mT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function hT(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);t!==void 0&&a!=null&&l(t,["_query","filter"],a);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&l(t,["_url","models_url"],Up(n,u)),o}function gT(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],hT(n,o,t)),t}function yT(n,e,t){const o={},i=s(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);t!==void 0&&r!=null&&l(t,["description"],r);const a=s(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&l(t,["defaultCheckpointId"],a),o}function vT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],yT(n,i,t)),t}function CT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function TT(n,e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function _T(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["contents"]);if(i!=null){let a=lt(n,i);Array.isArray(a)&&(a=a.map(u=>Hr(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["config"],TT(n,r)),t}function ST(n,e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["imageBytes"]);o!=null&&l(t,["bytesBase64Encoded"],en(n,o));const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function ET(n,e,t){const o={},i=s(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&l(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(e,["aspectRatio"]);if(t!==void 0&&a!=null&&l(t,["parameters","aspectRatio"],a),s(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&l(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);if(t!==void 0&&c!=null&&l(t,["parameters","negativePrompt"],c),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return o}function xT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&l(t,["instances[0]","image"],ST(n,r));const a=s(e,["config"]);return a!=null&&l(t,["config"],ET(n,a,t)),t}function wT(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function IT(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function AT(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function kT(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],wT(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],IT(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],AT(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function co(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>kT(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function MT(n,e){const t={},o=s(e,["anyOf"]);o!=null&&l(t,["anyOf"],o);const i=s(e,["default"]);i!=null&&l(t,["default"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["enum"]);a!=null&&l(t,["enum"],a);const u=s(e,["example"]);u!=null&&l(t,["example"],u);const c=s(e,["format"]);c!=null&&l(t,["format"],c);const f=s(e,["items"]);f!=null&&l(t,["items"],f);const d=s(e,["maxItems"]);d!=null&&l(t,["maxItems"],d);const p=s(e,["maxLength"]);p!=null&&l(t,["maxLength"],p);const m=s(e,["maxProperties"]);m!=null&&l(t,["maxProperties"],m);const g=s(e,["maximum"]);g!=null&&l(t,["maximum"],g);const C=s(e,["minItems"]);C!=null&&l(t,["minItems"],C);const T=s(e,["minLength"]);T!=null&&l(t,["minLength"],T);const x=s(e,["minProperties"]);x!=null&&l(t,["minProperties"],x);const y=s(e,["minimum"]);y!=null&&l(t,["minimum"],y);const h=s(e,["nullable"]);h!=null&&l(t,["nullable"],h);const v=s(e,["pattern"]);v!=null&&l(t,["pattern"],v);const _=s(e,["properties"]);_!=null&&l(t,["properties"],_);const S=s(e,["propertyOrdering"]);S!=null&&l(t,["propertyOrdering"],S);const E=s(e,["required"]);E!=null&&l(t,["required"],E);const I=s(e,["title"]);I!=null&&l(t,["title"],I);const M=s(e,["type"]);return M!=null&&l(t,["type"],M),t}function NT(n,e){const t={},o=s(e,["featureSelectionPreference"]);return o!=null&&l(t,["featureSelectionPreference"],o),t}function PT(n,e){const t={},o=s(e,["method"]);o!=null&&l(t,["method"],o);const i=s(e,["category"]);i!=null&&l(t,["category"],i);const r=s(e,["threshold"]);return r!=null&&l(t,["threshold"],r),t}function RT(n,e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(e,["description"]);o!=null&&l(t,["description"],o);const i=s(e,["name"]);i!=null&&l(t,["name"],i);const r=s(e,["parameters"]);r!=null&&l(t,["parameters"],r);const a=s(e,["response"]);return a!=null&&l(t,["response"],a),t}function DT(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function LT(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],DT(n,o)),t}function FT(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function UT(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],FT(n,o)),t}function VT(){return{}}function $T(n,e){const t={},o=s(e,["apiKeyString"]);return o!=null&&l(t,["apiKeyString"],o),t}function BT(n,e){const t={},o=s(e,["apiKeyConfig"]);o!=null&&l(t,["apiKeyConfig"],$T(n,o));const i=s(e,["authType"]);i!=null&&l(t,["authType"],i);const r=s(e,["googleServiceAccountConfig"]);r!=null&&l(t,["googleServiceAccountConfig"],r);const a=s(e,["httpBasicAuthConfig"]);a!=null&&l(t,["httpBasicAuthConfig"],a);const u=s(e,["oauthConfig"]);u!=null&&l(t,["oauthConfig"],u);const c=s(e,["oidcConfig"]);return c!=null&&l(t,["oidcConfig"],c),t}function zT(n,e){const t={},o=s(e,["authConfig"]);return o!=null&&l(t,["authConfig"],BT(n,o)),t}function Wp(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>RT(n,p))),l(t,["functionDeclarations"],d)}const i=s(e,["retrieval"]);i!=null&&l(t,["retrieval"],i);const r=s(e,["googleSearch"]);r!=null&&l(t,["googleSearch"],LT(n,r));const a=s(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],UT(n,a)),s(e,["enterpriseWebSearch"])!=null&&l(t,["enterpriseWebSearch"],VT());const c=s(e,["googleMaps"]);if(c!=null&&l(t,["googleMaps"],zT(n,c)),s(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const f=s(e,["codeExecution"]);return f!=null&&l(t,["codeExecution"],f),t}function GT(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function OT(n,e){const t={},o=s(e,["latitude"]);o!=null&&l(t,["latitude"],o);const i=s(e,["longitude"]);return i!=null&&l(t,["longitude"],i),t}function HT(n,e){const t={},o=s(e,["latLng"]);o!=null&&l(t,["latLng"],OT(n,o));const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function qT(n,e){const t={},o=s(e,["functionCallingConfig"]);o!=null&&l(t,["functionCallingConfig"],GT(n,o));const i=s(e,["retrievalConfig"]);return i!=null&&l(t,["retrievalConfig"],HT(n,i)),t}function WT(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function KT(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],WT(n,o)),t}function JT(n,e){const t={},o=s(e,["voiceConfig"]);if(o!=null&&l(t,["voiceConfig"],KT(n,o)),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function YT(n,e){const t={},o=s(e,["includeThoughts"]);o!=null&&l(t,["includeThoughts"],o);const i=s(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function ZT(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],co(n,Ne(n,i)));const r=s(e,["temperature"]);r!=null&&l(o,["temperature"],r);const a=s(e,["topP"]);a!=null&&l(o,["topP"],a);const u=s(e,["topK"]);u!=null&&l(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const f=s(e,["maxOutputTokens"]);f!=null&&l(o,["maxOutputTokens"],f);const d=s(e,["stopSequences"]);d!=null&&l(o,["stopSequences"],d);const p=s(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const m=s(e,["logprobs"]);m!=null&&l(o,["logprobs"],m);const g=s(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);const C=s(e,["frequencyPenalty"]);C!=null&&l(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&l(o,["seed"],T);const x=s(e,["responseMimeType"]);x!=null&&l(o,["responseMimeType"],x);const y=s(e,["responseSchema"]);y!=null&&l(o,["responseSchema"],MT(n,xr(n,y)));const h=s(e,["routingConfig"]);h!=null&&l(o,["routingConfig"],h);const v=s(e,["modelSelectionConfig"]);v!=null&&l(o,["modelConfig"],NT(n,v));const _=s(e,["safetySettings"]);if(t!==void 0&&_!=null){let W=_;Array.isArray(W)&&(W=W.map(j=>PT(n,j))),l(t,["safetySettings"],W)}const S=s(e,["tools"]);if(t!==void 0&&S!=null){let W=ai(n,S);Array.isArray(W)&&(W=W.map(j=>Wp(n,li(n,j)))),l(t,["tools"],W)}const E=s(e,["toolConfig"]);t!==void 0&&E!=null&&l(t,["toolConfig"],qT(n,E));const I=s(e,["labels"]);t!==void 0&&I!=null&&l(t,["labels"],I);const M=s(e,["cachedContent"]);t!==void 0&&M!=null&&l(t,["cachedContent"],jt(n,M));const L=s(e,["responseModalities"]);L!=null&&l(o,["responseModalities"],L);const N=s(e,["mediaResolution"]);N!=null&&l(o,["mediaResolution"],N);const Y=s(e,["speechConfig"]);Y!=null&&l(o,["speechConfig"],JT(n,Dp(n,Y)));const U=s(e,["audioTimestamp"]);U!=null&&l(o,["audioTimestamp"],U);const q=s(e,["thinkingConfig"]);return q!=null&&l(o,["thinkingConfig"],YT(n,q)),o}function nf(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["contents"]);if(i!=null){let a=lt(n,i);Array.isArray(a)&&(a=a.map(u=>co(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["generationConfig"],ZT(n,r,t)),t}function QT(n,e,t){const o={},i=s(e,["taskType"]);t!==void 0&&i!=null&&l(t,["instances[]","task_type"],i);const r=s(e,["title"]);t!==void 0&&r!=null&&l(t,["instances[]","title"],r);const a=s(e,["outputDimensionality"]);t!==void 0&&a!=null&&l(t,["parameters","outputDimensionality"],a);const u=s(e,["mimeType"]);t!==void 0&&u!=null&&l(t,["instances[]","mimeType"],u);const c=s(e,["autoTruncate"]);return t!==void 0&&c!=null&&l(t,["parameters","autoTruncate"],c),o}function XT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["contents"]);i!=null&&l(t,["instances[]","content"],Rp(n,i));const r=s(e,["config"]);return r!=null&&l(t,["config"],QT(n,r,t)),t}function bT(n,e,t){const o={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&l(t,["parameters","negativePrompt"],r);const a=s(e,["numberOfImages"]);t!==void 0&&a!=null&&l(t,["parameters","sampleCount"],a);const u=s(e,["aspectRatio"]);t!==void 0&&u!=null&&l(t,["parameters","aspectRatio"],u);const c=s(e,["guidanceScale"]);t!==void 0&&c!=null&&l(t,["parameters","guidanceScale"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&l(t,["parameters","seed"],f);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&l(t,["parameters","safetySetting"],d);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&l(t,["parameters","includeSafetyAttributes"],m);const g=s(e,["includeRaiReason"]);t!==void 0&&g!=null&&l(t,["parameters","includeRaiReason"],g);const C=s(e,["language"]);t!==void 0&&C!=null&&l(t,["parameters","language"],C);const T=s(e,["outputMimeType"]);t!==void 0&&T!=null&&l(t,["parameters","outputOptions","mimeType"],T);const x=s(e,["outputCompressionQuality"]);t!==void 0&&x!=null&&l(t,["parameters","outputOptions","compressionQuality"],x);const y=s(e,["addWatermark"]);t!==void 0&&y!=null&&l(t,["parameters","addWatermark"],y);const h=s(e,["enhancePrompt"]);return t!==void 0&&h!=null&&l(t,["parameters","enhancePrompt"],h),o}function jT(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&l(t,["config"],bT(n,r,t)),t}function Ia(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["gcsUri"],o);const i=s(e,["imageBytes"]);i!=null&&l(t,["bytesBase64Encoded"],en(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function e_(n,e){const t={},o=s(e,["maskMode"]);o!=null&&l(t,["maskMode"],o);const i=s(e,["segmentationClasses"]);i!=null&&l(t,["maskClasses"],i);const r=s(e,["maskDilation"]);return r!=null&&l(t,["dilation"],r),t}function t_(n,e){const t={},o=s(e,["controlType"]);o!=null&&l(t,["controlType"],o);const i=s(e,["enableControlImageComputation"]);return i!=null&&l(t,["computeControl"],i),t}function n_(n,e){const t={},o=s(e,["styleDescription"]);return o!=null&&l(t,["styleDescription"],o),t}function o_(n,e){const t={},o=s(e,["subjectType"]);o!=null&&l(t,["subjectType"],o);const i=s(e,["subjectDescription"]);return i!=null&&l(t,["subjectDescription"],i),t}function i_(n,e){const t={},o=s(e,["referenceImage"]);o!=null&&l(t,["referenceImage"],Ia(n,o));const i=s(e,["referenceId"]);i!=null&&l(t,["referenceId"],i);const r=s(e,["referenceType"]);r!=null&&l(t,["referenceType"],r);const a=s(e,["maskImageConfig"]);a!=null&&l(t,["maskImageConfig"],e_(n,a));const u=s(e,["controlImageConfig"]);u!=null&&l(t,["controlImageConfig"],t_(n,u));const c=s(e,["styleImageConfig"]);c!=null&&l(t,["styleImageConfig"],n_(n,c));const f=s(e,["subjectImageConfig"]);return f!=null&&l(t,["subjectImageConfig"],o_(n,f)),t}function r_(n,e,t){const o={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&l(t,["parameters","negativePrompt"],r);const a=s(e,["numberOfImages"]);t!==void 0&&a!=null&&l(t,["parameters","sampleCount"],a);const u=s(e,["aspectRatio"]);t!==void 0&&u!=null&&l(t,["parameters","aspectRatio"],u);const c=s(e,["guidanceScale"]);t!==void 0&&c!=null&&l(t,["parameters","guidanceScale"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&l(t,["parameters","seed"],f);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&l(t,["parameters","safetySetting"],d);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&l(t,["parameters","includeSafetyAttributes"],m);const g=s(e,["includeRaiReason"]);t!==void 0&&g!=null&&l(t,["parameters","includeRaiReason"],g);const C=s(e,["language"]);t!==void 0&&C!=null&&l(t,["parameters","language"],C);const T=s(e,["outputMimeType"]);t!==void 0&&T!=null&&l(t,["parameters","outputOptions","mimeType"],T);const x=s(e,["outputCompressionQuality"]);t!==void 0&&x!=null&&l(t,["parameters","outputOptions","compressionQuality"],x);const y=s(e,["editMode"]);t!==void 0&&y!=null&&l(t,["parameters","editMode"],y);const h=s(e,["baseSteps"]);return t!==void 0&&h!=null&&l(t,["parameters","editConfig","baseSteps"],h),o}function s_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>i_(n,c))),l(t,["instances[0]","referenceImages"],u)}const a=s(e,["config"]);return a!=null&&l(t,["config"],r_(n,a,t)),t}function l_(n,e,t){const o={},i=s(e,["includeRaiReason"]);t!==void 0&&i!=null&&l(t,["parameters","includeRaiReason"],i);const r=s(e,["outputMimeType"]);t!==void 0&&r!=null&&l(t,["parameters","outputOptions","mimeType"],r);const a=s(e,["outputCompressionQuality"]);t!==void 0&&a!=null&&l(t,["parameters","outputOptions","compressionQuality"],a);const u=s(e,["numberOfImages"]);t!==void 0&&u!=null&&l(t,["parameters","sampleCount"],u);const c=s(e,["mode"]);return t!==void 0&&c!=null&&l(t,["parameters","mode"],c),o}function a_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["image"]);i!=null&&l(t,["instances[0]","image"],Ia(n,i));const r=s(e,["upscaleFactor"]);r!=null&&l(t,["parameters","upscaleConfig","upscaleFactor"],r);const a=s(e,["config"]);return a!=null&&l(t,["config"],l_(n,a,t)),t}function u_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function c_(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);t!==void 0&&a!=null&&l(t,["_query","filter"],a);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&l(t,["_url","models_url"],Up(n,u)),o}function f_(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],c_(n,o,t)),t}function d_(n,e,t){const o={},i=s(e,["displayName"]);t!==void 0&&i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);t!==void 0&&r!=null&&l(t,["description"],r);const a=s(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&l(t,["defaultCheckpointId"],a),o}function p_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],d_(n,i,t)),t}function m_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","name"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function h_(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],co(n,Ne(n,i)));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Wp(n,c))),l(t,["tools"],u)}const a=s(e,["generationConfig"]);return t!==void 0&&a!=null&&l(t,["generationConfig"],a),o}function g_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["contents"]);if(i!=null){let a=lt(n,i);Array.isArray(a)&&(a=a.map(u=>co(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["config"],h_(n,r,t)),t}function y_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["contents"]);if(i!=null){let a=lt(n,i);Array.isArray(a)&&(a=a.map(u=>co(n,u))),l(t,["contents"],a)}const r=s(e,["config"]);return r!=null&&l(t,["config"],r),t}function v_(n,e,t){const o={},i=s(e,["numberOfVideos"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&l(t,["parameters","storageUri"],r);const a=s(e,["fps"]);t!==void 0&&a!=null&&l(t,["parameters","fps"],a);const u=s(e,["durationSeconds"]);t!==void 0&&u!=null&&l(t,["parameters","durationSeconds"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&l(t,["parameters","seed"],c);const f=s(e,["aspectRatio"]);t!==void 0&&f!=null&&l(t,["parameters","aspectRatio"],f);const d=s(e,["resolution"]);t!==void 0&&d!=null&&l(t,["parameters","resolution"],d);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&l(t,["parameters","personGeneration"],p);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&l(t,["parameters","pubsubTopic"],m);const g=s(e,["negativePrompt"]);t!==void 0&&g!=null&&l(t,["parameters","negativePrompt"],g);const C=s(e,["enhancePrompt"]);t!==void 0&&C!=null&&l(t,["parameters","enhancePrompt"],C);const T=s(e,["generateAudio"]);return t!==void 0&&T!=null&&l(t,["parameters","generateAudio"],T),o}function C_(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["_url","model"],te(n,o));const i=s(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&l(t,["instances[0]","image"],Ia(n,r));const a=s(e,["config"]);return a!=null&&l(t,["config"],v_(n,a,t)),t}function T_(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function __(n,e){const t={},o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function S_(n,e){const t={},o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function E_(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],T_(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],__(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],S_(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function x_(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>E_(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function w_(n,e){const t={},o=s(e,["citationSources"]);return o!=null&&l(t,["citations"],o),t}function I_(n,e){const t={},o=s(e,["retrievedUrl"]);o!=null&&l(t,["retrievedUrl"],o);const i=s(e,["urlRetrievalStatus"]);return i!=null&&l(t,["urlRetrievalStatus"],i),t}function A_(n,e){const t={},o=s(e,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>I_(n,r))),l(t,["urlMetadata"],i)}return t}function k_(n,e){const t={},o=s(e,["content"]);o!=null&&l(t,["content"],x_(n,o));const i=s(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],w_(n,i));const r=s(e,["tokenCount"]);r!=null&&l(t,["tokenCount"],r);const a=s(e,["finishReason"]);a!=null&&l(t,["finishReason"],a);const u=s(e,["urlContextMetadata"]);u!=null&&l(t,["urlContextMetadata"],A_(n,u));const c=s(e,["avgLogprobs"]);c!=null&&l(t,["avgLogprobs"],c);const f=s(e,["groundingMetadata"]);f!=null&&l(t,["groundingMetadata"],f);const d=s(e,["index"]);d!=null&&l(t,["index"],d);const p=s(e,["logprobsResult"]);p!=null&&l(t,["logprobsResult"],p);const m=s(e,["safetyRatings"]);return m!=null&&l(t,["safetyRatings"],m),t}function of(n,e){const t={},o=s(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>k_(n,c))),l(t,["candidates"],u)}const i=s(e,["modelVersion"]);i!=null&&l(t,["modelVersion"],i);const r=s(e,["promptFeedback"]);r!=null&&l(t,["promptFeedback"],r);const a=s(e,["usageMetadata"]);return a!=null&&l(t,["usageMetadata"],a),t}function M_(n,e){const t={},o=s(e,["values"]);return o!=null&&l(t,["values"],o),t}function N_(){return{}}function P_(n,e){const t={},o=s(e,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>M_(n,a))),l(t,["embeddings"],r)}return s(e,["metadata"])!=null&&l(t,["metadata"],N_()),t}function R_(n,e){const t={},o=s(e,["bytesBase64Encoded"]);o!=null&&l(t,["imageBytes"],en(n,o));const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function Kp(n,e){const t={},o=s(e,["safetyAttributes","categories"]);o!=null&&l(t,["categories"],o);const i=s(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const r=s(e,["contentType"]);return r!=null&&l(t,["contentType"],r),t}function D_(n,e){const t={},o=s(e,["_self"]);o!=null&&l(t,["image"],R_(n,o));const i=s(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const r=s(e,["_self"]);return r!=null&&l(t,["safetyAttributes"],Kp(n,r)),t}function L_(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>D_(n,a))),l(t,["generatedImages"],r)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],Kp(n,i)),t}function F_(n,e){const t={},o=s(e,["baseModel"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["createTime"]);i!=null&&l(t,["createTime"],i);const r=s(e,["updateTime"]);return r!=null&&l(t,["updateTime"],r),t}function wl(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["version"]);a!=null&&l(t,["version"],a);const u=s(e,["_self"]);u!=null&&l(t,["tunedModelInfo"],F_(n,u));const c=s(e,["inputTokenLimit"]);c!=null&&l(t,["inputTokenLimit"],c);const f=s(e,["outputTokenLimit"]);f!=null&&l(t,["outputTokenLimit"],f);const d=s(e,["supportedGenerationMethods"]);return d!=null&&l(t,["supportedActions"],d),t}function U_(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let r=Vp(n,i);Array.isArray(r)&&(r=r.map(a=>wl(n,a))),l(t,["models"],r)}return t}function V_(){return{}}function $_(n,e){const t={},o=s(e,["totalTokens"]);o!=null&&l(t,["totalTokens"],o);const i=s(e,["cachedContentTokenCount"]);return i!=null&&l(t,["cachedContentTokenCount"],i),t}function B_(n,e){const t={},o=s(e,["video","uri"]);o!=null&&l(t,["uri"],o);const i=s(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],en(n,i));const r=s(e,["encoding"]);return r!=null&&l(t,["mimeType"],r),t}function z_(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],B_(n,o)),t}function G_(n,e){const t={},o=s(e,["generatedSamples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>z_(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function O_(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response","generateVideoResponse"]);return u!=null&&l(t,["response"],G_(n,u)),t}function H_(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function q_(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["data"]);i!=null&&l(t,["data"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function W_(n,e){const t={},o=s(e,["displayName"]);o!=null&&l(t,["displayName"],o);const i=s(e,["fileUri"]);i!=null&&l(t,["fileUri"],i);const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function K_(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],H_(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],q_(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],W_(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function J_(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>K_(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function Y_(n,e){const t={},o=s(e,["citations"]);return o!=null&&l(t,["citations"],o),t}function Z_(n,e){const t={},o=s(e,["content"]);o!=null&&l(t,["content"],J_(n,o));const i=s(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],Y_(n,i));const r=s(e,["finishMessage"]);r!=null&&l(t,["finishMessage"],r);const a=s(e,["finishReason"]);a!=null&&l(t,["finishReason"],a);const u=s(e,["avgLogprobs"]);u!=null&&l(t,["avgLogprobs"],u);const c=s(e,["groundingMetadata"]);c!=null&&l(t,["groundingMetadata"],c);const f=s(e,["index"]);f!=null&&l(t,["index"],f);const d=s(e,["logprobsResult"]);d!=null&&l(t,["logprobsResult"],d);const p=s(e,["safetyRatings"]);return p!=null&&l(t,["safetyRatings"],p),t}function rf(n,e){const t={},o=s(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>Z_(n,d))),l(t,["candidates"],f)}const i=s(e,["createTime"]);i!=null&&l(t,["createTime"],i);const r=s(e,["responseId"]);r!=null&&l(t,["responseId"],r);const a=s(e,["modelVersion"]);a!=null&&l(t,["modelVersion"],a);const u=s(e,["promptFeedback"]);u!=null&&l(t,["promptFeedback"],u);const c=s(e,["usageMetadata"]);return c!=null&&l(t,["usageMetadata"],c),t}function Q_(n,e){const t={},o=s(e,["truncated"]);o!=null&&l(t,["truncated"],o);const i=s(e,["token_count"]);return i!=null&&l(t,["tokenCount"],i),t}function X_(n,e){const t={},o=s(e,["values"]);o!=null&&l(t,["values"],o);const i=s(e,["statistics"]);return i!=null&&l(t,["statistics"],Q_(n,i)),t}function b_(n,e){const t={},o=s(e,["billableCharacterCount"]);return o!=null&&l(t,["billableCharacterCount"],o),t}function j_(n,e){const t={},o=s(e,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>X_(n,a))),l(t,["embeddings"],r)}const i=s(e,["metadata"]);return i!=null&&l(t,["metadata"],b_(n,i)),t}function eS(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["gcsUri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&l(t,["imageBytes"],en(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function Jp(n,e){const t={},o=s(e,["safetyAttributes","categories"]);o!=null&&l(t,["categories"],o);const i=s(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const r=s(e,["contentType"]);return r!=null&&l(t,["contentType"],r),t}function Aa(n,e){const t={},o=s(e,["_self"]);o!=null&&l(t,["image"],eS(n,o));const i=s(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const r=s(e,["_self"]);r!=null&&l(t,["safetyAttributes"],Jp(n,r));const a=s(e,["prompt"]);return a!=null&&l(t,["enhancedPrompt"],a),t}function tS(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>Aa(n,a))),l(t,["generatedImages"],r)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],Jp(n,i)),t}function nS(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Aa(n,r))),l(t,["generatedImages"],i)}return t}function oS(n,e){const t={},o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Aa(n,r))),l(t,["generatedImages"],i)}return t}function iS(n,e){const t={},o=s(e,["endpoint"]);o!=null&&l(t,["name"],o);const i=s(e,["deployedModelId"]);return i!=null&&l(t,["deployedModelId"],i),t}function rS(n,e){const t={},o=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["createTime"]);i!=null&&l(t,["createTime"],i);const r=s(e,["updateTime"]);return r!=null&&l(t,["updateTime"],r),t}function sS(n,e){const t={},o=s(e,["checkpointId"]);o!=null&&l(t,["checkpointId"],o);const i=s(e,["epoch"]);i!=null&&l(t,["epoch"],i);const r=s(e,["step"]);return r!=null&&l(t,["step"],r),t}function Il(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["displayName"]);i!=null&&l(t,["displayName"],i);const r=s(e,["description"]);r!=null&&l(t,["description"],r);const a=s(e,["versionId"]);a!=null&&l(t,["version"],a);const u=s(e,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>iS(n,g))),l(t,["endpoints"],m)}const c=s(e,["labels"]);c!=null&&l(t,["labels"],c);const f=s(e,["_self"]);f!=null&&l(t,["tunedModelInfo"],rS(n,f));const d=s(e,["defaultCheckpointId"]);d!=null&&l(t,["defaultCheckpointId"],d);const p=s(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>sS(n,g))),l(t,["checkpoints"],m)}return t}function lS(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let r=Vp(n,i);Array.isArray(r)&&(r=r.map(a=>Il(n,a))),l(t,["models"],r)}return t}function aS(){return{}}function uS(n,e){const t={},o=s(e,["totalTokens"]);return o!=null&&l(t,["totalTokens"],o),t}function cS(n,e){const t={},o=s(e,["tokensInfo"]);return o!=null&&l(t,["tokensInfo"],o),t}function fS(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["uri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],en(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function dS(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],fS(n,o)),t}function pS(n,e){const t={},o=s(e,["videos"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>dS(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function mS(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],pS(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hS="Content-Type",gS="X-Server-Timeout",yS="User-Agent",Al="x-goog-api-client",vS="1.3.0",CS=`google-genai-sdk/${vS}`,TS="v1beta1",_S="v1beta",sf=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Yp extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class kl extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class SS{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:TS,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:_S,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(t))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const i=new AbortController,r=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=r}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await lf(i),new _l(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await lf(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return Kn(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield oe(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=r.decode(c);try{const p=JSON.parse(f);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),g=m.status,C=m.code,T=`got status: ${g}. ${JSON.stringify(p)}`;if(C>=400&&C<500)throw new Yp(T);if(C>=500&&C<600)throw new kl(T)}}catch(p){const m=p;if(m.name==="ClientError"||m.name==="ServerError")throw p}a+=f;let d=a.match(sf);for(;d;){const p=d[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield oe(new _l(m)),a=a.slice(d[0].length),d=a.match(sf)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=CS+" "+this.clientOptions.userAgentExtra;return e[yS]=t,e[Al]=t,e[hS]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))t.append(o,i);e.timeout&&e.timeout>0&&t.append(gS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,a=await r.stat(e);i.sizeBytes=String(a.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,t);return r.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},a=await this.request({path:$("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=a==null?void 0:a.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function lf(n){var e;if(n===void 0)throw new kl("response is undefined");if(!n.ok){const t=n.status,o=n.statusText;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=`got status: ${t} ${o}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new Yp(r):t>=500&&t<600?new kl(r):new Error(r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ES="mcp_used/unknown";function Zp(n){for(const e of n)if(ka(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Qp(n){var e;const t=(e=n[Al])!==null&&e!==void 0?e:"";n[Al]=(t+` ${ES}`).trimStart()}function xS(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>ka(i)))!==null&&o!==void 0?o:!1}function wS(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>!ka(i)))!==null&&o!==void 0?o:!1}function ka(n){return n!==null&&typeof n=="object"&&n instanceof Ma}function IS(n,e=100){return Kn(this,arguments,function*(){let o,i=0;for(;i<e;){const r=yield oe(n.listTools({cursor:o}));for(const a of r.tools)yield yield oe(a),i++;if(!r.nextCursor)break;o=r.nextCursor}})}class Ma{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ma(e,t)}async initialize(){var e,t,o,i;if(this.mcpTools.length>0)return;const r={},a=[];for(const d of this.mcpClients)try{for(var u=!0,c=(t=void 0,Vo(IS(d))),f;f=await c.next(),e=f.done,!e;u=!0){i=f.value,u=!1;const p=i;a.push(p);const m=p.name;if(r[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);r[m]=d}}catch(p){t={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),Dy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=await this.functionNameToMcpClient[o.name].callTool({name:o.name,arguments:o.args});t.push({functionResponse:{name:o.name,response:r.isError?{error:r}:r}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AS(n,e,t){const o=new Ty;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data);const r=z0(n,i);Object.assign(o,r),e(o)}class kS{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),a=PS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(v=>{f=v}),p=e.callbacks,m=function(){f({})},g=this.apiClient,C={onopen:m,onmessage:v=>{AS(g,p.onmessage,v)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(v){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(v){}},T=this.webSocketFactory.create(c,NS(a),C);T.connect(),await d;const x=te(this.apiClient,e.model),y=Op(this.apiClient,{model:x}),h=xl(this.apiClient,{setup:y});return T.send(JSON.stringify(h)),new MS(T,this.apiClient)}}class MS{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=e0(this.apiClient,e),o=Hp(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=t0(this.apiClient,e),o=xl(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const t=xl(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Vn.PLAY)}pause(){this.sendPlaybackControl(Vn.PAUSE)}stop(){this.sendPlaybackControl(Vn.STOP)}resetContext(){this.sendPlaybackControl(Vn.RESET_CONTEXT)}close(){this.conn.close()}}function NS(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function PS(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function DS(n,e,t){const o=new Cy;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),n.isVertexAI()){const r=P0(n,i);Object.assign(o,r)}else{const r=N0(n,i);Object.assign(o,r)}e(o)}class LS{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new kS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,i,r,a,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Zp(e.config.tools)&&Qp(p);const m=$S(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const L=this.apiClient.getApiKey();let N="BidiGenerateContent",Y="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),N="BidiGenerateContentConstrained",Y="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${N}?${Y}=${L}`}let g=()=>{};const C=new Promise(L=>{g=L}),T=e.callbacks,x=function(){var L;(L=T==null?void 0:T.onopen)===null||L===void 0||L.call(T),g({})},y=this.apiClient,h={onopen:x,onmessage:L=>{DS(y,T.onmessage,L)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(L){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(L){}},v=this.webSocketFactory.create(d,VS(m),h);v.connect(),await C;let _=te(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const L=this.apiClient.getProject(),N=this.apiClient.getLocation();_=`projects/${L}/locations/${N}/`+_}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sr.AUDIO]}:e.config.responseModalities=[Sr.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],I=[];for(const L of E)if(this.isCallableTool(L)){const N=L;I.push(await N.tool())}else I.push(L);I.length>0&&(e.config.tools=I);const M={model:_,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=JC(this.apiClient,M):S=KC(this.apiClient,M),delete S.config,v.send(JSON.stringify(S)),new US(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const FS={turnComplete:!0};class US{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=lt(e,t.turns),e.isVertexAI()?o=o.map(i=>co(e,i)):o=o.map(i=>Hr(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(RS)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},FS),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:jC(this.apiClient,e)}:t={realtimeInput:bC(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function VS(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function $S(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const af=10;function uf(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Wi(a)){i=!0;break}if(!i)return!0;const r=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Wi(n){return"callTool"in n&&typeof n.callTool=="function"}function cf(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BS extends uo{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,i,r,a,u;const c=await this.processParamsForMcpUsage(t);if(!xS(t)||uf(t.config))return await this.generateContentInternal(c);if(wS(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const p=lt(this.apiClient,c.contents),m=(r=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:af;let g=0;for(;g<m&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,T=[];for(const x of(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Wi(x)){const h=await x.callTool(f.functionCalls);T.push(...h)}g++,d={role:"user",parts:T},c.contents=lt(this.apiClient,c.contents),c.contents.push(C),c.contents.push(d),cf(c.config)&&(p.push(C),p.push(d))}return cf(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async t=>{if(uf(t.config)){const o=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let r;const a=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:a.push(c);let u;return r?u={generatedImages:a,positivePromptSafetyAttributes:r}:u={generatedImages:a},u}),this.list=async t=>{var o;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((o=a.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Or(ro.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var t,o,i;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const a=await Promise.all(r.map(async c=>Wi(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&Zp(e.config.tools)){const c=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Qp(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,o,i;const r=new Map;for(const a of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Wi(a)){const u=a,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(r.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);r.set(f.name,u)}}return r}async processAfcStream(e){var t,o,i;const r=(i=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:af;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,p){var m,g;return Kn(this,arguments,function*(){for(var C,T,x,y;u<r;){a&&(u++,a=!1);const S=yield oe(f.processParamsForMcpUsage(p)),E=yield oe(f.generateContentStreamInternal(S)),I=[],M=[];try{for(var h=!0,v=(T=void 0,Vo(E)),_;_=yield oe(v.next()),C=_.done,!C;h=!0){y=_.value,h=!1;const L=y;if(yield yield oe(L),L.candidates&&(!((m=L.candidates[0])===null||m===void 0)&&m.content)){M.push(L.candidates[0].content);for(const N of(g=L.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<r&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(N.functionCall.name)){const Y=yield oe(d.get(N.functionCall.name).callTool([N.functionCall]));I.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(L){T={error:L}}finally{try{!h&&!C&&(x=v.return)&&(yield oe(x.call(v)))}finally{if(T)throw T.error}}if(I.length>0){a=!0;const L=new _o;L.candidates=[{content:{role:"user",parts:I}}],yield yield oe(L);const N=[];N.push(...M),N.push({role:"user",parts:I});const Y=lt(f.apiClient,p.contents).concat(N);p.contents=Y}else break}})}(this,c,e)}async generateContentInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=nf(this.apiClient,e);return u=$("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const p=rf(this.apiClient,d),m=new _o;return Object.assign(m,p),m})}else{const f=tf(this.apiClient,e);return u=$("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=of(this.apiClient,d),m=new _o;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=nf(this.apiClient,e);u=$("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return a=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return Kn(this,arguments,function*(){var m,g,C,T;try{for(var x=!0,y=Vo(p),h;h=yield oe(y.next()),m=h.done,!m;x=!0){T=h.value,x=!1;const _=rf(d,yield oe(T.json())),S=new _o;Object.assign(S,_),yield yield oe(S)}}catch(v){g={error:v}}finally{try{!x&&!m&&(C=y.return)&&(yield oe(C.call(y)))}finally{if(g)throw g.error}}})})}else{const f=tf(this.apiClient,e);u=$("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return a=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Kn(this,arguments,function*(){var m,g,C,T;try{for(var x=!0,y=Vo(p),h;h=yield oe(y.next()),m=h.done,!m;x=!0){T=h.value,x=!1;const _=of(d,yield oe(T.json())),S=new _o;Object.assign(S,_),yield yield oe(S)}}catch(v){g={error:v}}finally{try{!x&&!m&&(C=y.return)&&(yield oe(C.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=XT(this.apiClient,e);return u=$("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const p=j_(this.apiClient,d),m=new Fc;return Object.assign(m,p),m})}else{const f=fT(this.apiClient,e);return u=$("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=P_(this.apiClient,d),m=new Fc;return Object.assign(m,p),m})}}async generateImagesInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=jT(this.apiClient,e);return u=$("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const p=tS(this.apiClient,d),m=new Uc;return Object.assign(m,p),m})}else{const f=pT(this.apiClient,e);return u=$("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=L_(this.apiClient,d),m=new Uc;return Object.assign(m,p),m})}}async editImageInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=s_(this.apiClient,e);return r=$("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const f=nS(this.apiClient,c),d=new py;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=a_(this.apiClient,e);return r=$("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const f=oS(this.apiClient,c),d=new my;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=u_(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Il(this.apiClient,d))}else{const f=mT(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>wl(this.apiClient,d))}}async listInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=f_(this.apiClient,e);return u=$("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const p=lS(this.apiClient,d),m=new Vc;return Object.assign(m,p),m})}else{const f=gT(this.apiClient,e);return u=$("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=U_(this.apiClient,d),m=new Vc;return Object.assign(m,p),m})}}async update(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=p_(this.apiClient,e);return u=$("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Il(this.apiClient,d))}else{const f=vT(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>wl(this.apiClient,d))}}async delete(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=m_(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(()=>{const d=aS(),p=new $c;return Object.assign(p,d),p})}else{const f=CT(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(()=>{const d=V_(),p=new $c;return Object.assign(p,d),p})}}async countTokens(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=g_(this.apiClient,e);return u=$("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const p=uS(this.apiClient,d),m=new Bc;return Object.assign(m,p),m})}else{const f=_T(this.apiClient,e);return u=$("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=$_(this.apiClient,d),m=new Bc;return Object.assign(m,p),m})}}async computeTokens(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=y_(this.apiClient,e);return r=$("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const f=cS(this.apiClient,c),d=new hy;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=C_(this.apiClient,e);return u=$("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>mS(this.apiClient,d))}else{const f=xT(this.apiClient,e);return u=$("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>O_(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zS(n,e){const t={},o=s(e,["operationName"]);o!=null&&l(t,["_url","operationName"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function GS(n,e){const t={},o=s(e,["operationName"]);o!=null&&l(t,["_url","operationName"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function OS(n,e){const t={},o=s(e,["operationName"]);o!=null&&l(t,["operationName"],o);const i=s(e,["resourceName"]);i!=null&&l(t,["_url","resourceName"],i);const r=s(e,["config"]);return r!=null&&l(t,["config"],r),t}function HS(n,e){const t={},o=s(e,["video","uri"]);o!=null&&l(t,["uri"],o);const i=s(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],en(n,i));const r=s(e,["encoding"]);return r!=null&&l(t,["mimeType"],r),t}function qS(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],HS(n,o)),t}function WS(n,e){const t={},o=s(e,["generatedSamples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>qS(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function KS(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response","generateVideoResponse"]);return u!=null&&l(t,["response"],WS(n,u)),t}function JS(n,e){const t={},o=s(e,["gcsUri"]);o!=null&&l(t,["uri"],o);const i=s(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],en(n,i));const r=s(e,["mimeType"]);return r!=null&&l(t,["mimeType"],r),t}function YS(n,e){const t={},o=s(e,["_self"]);return o!=null&&l(t,["video"],JS(n,o)),t}function ZS(n,e){const t={},o=s(e,["videos"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>YS(n,u))),l(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&l(t,["raiMediaFilteredReasons"],r),t}function ff(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);a!=null&&l(t,["error"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],ZS(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS extends uo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let r;return o&&"httpOptions"in o&&(r=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:r}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=GS(this.apiClient,e);return u=$("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>ff(this.apiClient,d))}else{const f=zS(this.apiClient,e);return u=$("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>KS(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=OS(this.apiClient,e);return r=$("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>ff(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XS(n,e){const t={},o=s(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function Xp(n,e){const t={},o=s(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],XS(n,o)),t}function bS(n,e){const t={},o=s(e,["speaker"]);o!=null&&l(t,["speaker"],o);const i=s(e,["voiceConfig"]);return i!=null&&l(t,["voiceConfig"],Xp(n,i)),t}function jS(n,e){const t={},o=s(e,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>bS(n,r))),l(t,["speakerVoiceConfigs"],i)}return t}function eE(n,e){const t={},o=s(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],Xp(n,o));const i=s(e,["multiSpeakerVoiceConfig"]);i!=null&&l(t,["multiSpeakerVoiceConfig"],jS(n,i));const r=s(e,["languageCode"]);return r!=null&&l(t,["languageCode"],r),t}function tE(n,e){const t={},o=s(e,["fps"]);o!=null&&l(t,["fps"],o);const i=s(e,["endOffset"]);i!=null&&l(t,["endOffset"],i);const r=s(e,["startOffset"]);return r!=null&&l(t,["startOffset"],r),t}function nE(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["data"]);o!=null&&l(t,["data"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function oE(n,e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["fileUri"]);o!=null&&l(t,["fileUri"],o);const i=s(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function iE(n,e){const t={},o=s(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],tE(n,o));const i=s(e,["thought"]);i!=null&&l(t,["thought"],i);const r=s(e,["inlineData"]);r!=null&&l(t,["inlineData"],nE(n,r));const a=s(e,["fileData"]);a!=null&&l(t,["fileData"],oE(n,a));const u=s(e,["thoughtSignature"]);u!=null&&l(t,["thoughtSignature"],u);const c=s(e,["codeExecutionResult"]);c!=null&&l(t,["codeExecutionResult"],c);const f=s(e,["executableCode"]);f!=null&&l(t,["executableCode"],f);const d=s(e,["functionCall"]);d!=null&&l(t,["functionCall"],d);const p=s(e,["functionResponse"]);p!=null&&l(t,["functionResponse"],p);const m=s(e,["text"]);return m!=null&&l(t,["text"],m),t}function rE(n,e){const t={},o=s(e,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>iE(n,a))),l(t,["parts"],r)}const i=s(e,["role"]);return i!=null&&l(t,["role"],i),t}function sE(n,e){const t={},o=s(e,["behavior"]);o!=null&&l(t,["behavior"],o);const i=s(e,["description"]);i!=null&&l(t,["description"],i);const r=s(e,["name"]);r!=null&&l(t,["name"],r);const a=s(e,["parameters"]);a!=null&&l(t,["parameters"],a);const u=s(e,["response"]);return u!=null&&l(t,["response"],u),t}function lE(n,e){const t={},o=s(e,["startTime"]);o!=null&&l(t,["startTime"],o);const i=s(e,["endTime"]);return i!=null&&l(t,["endTime"],i),t}function aE(n,e){const t={},o=s(e,["timeRangeFilter"]);return o!=null&&l(t,["timeRangeFilter"],lE(n,o)),t}function uE(n,e){const t={},o=s(e,["mode"]);o!=null&&l(t,["mode"],o);const i=s(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function cE(n,e){const t={},o=s(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],uE(n,o)),t}function fE(){return{}}function dE(n,e){const t={},o=s(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>sE(n,f))),l(t,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&l(t,["googleSearch"],aE(n,i));const r=s(e,["googleSearchRetrieval"]);if(r!=null&&l(t,["googleSearchRetrieval"],cE(n,r)),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(e,["urlContext"])!=null&&l(t,["urlContext"],fE());const u=s(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function pE(n,e){const t={},o=s(e,["handle"]);if(o!=null&&l(t,["handle"],o),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function df(){return{}}function mE(n,e){const t={},o=s(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=s(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const r=s(e,["endOfSpeechSensitivity"]);r!=null&&l(t,["endOfSpeechSensitivity"],r);const a=s(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=s(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function hE(n,e){const t={},o=s(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],mE(n,o));const i=s(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const r=s(e,["turnCoverage"]);return r!=null&&l(t,["turnCoverage"],r),t}function gE(n,e){const t={},o=s(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function yE(n,e){const t={},o=s(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=s(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],gE(n,i)),t}function vE(n,e){const t={},o=s(e,["proactiveAudio"]);return o!=null&&l(t,["proactiveAudio"],o),t}function CE(n,e,t){const o={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&l(t,["setup","generationConfig","responseModalities"],r);const a=s(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=s(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=s(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const f=s(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","mediaResolution"],d);const p=s(e,["seed"]);t!==void 0&&p!=null&&l(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","speechConfig"],eE(n,wa(n,m)));const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&l(t,["setup","systemInstruction"],rE(n,Ne(n,C)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let E=ai(n,T);Array.isArray(E)&&(E=E.map(I=>dE(n,li(n,I)))),l(t,["setup","tools"],E)}const x=s(e,["sessionResumption"]);t!==void 0&&x!=null&&l(t,["setup","sessionResumption"],pE(n,x));const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&l(t,["setup","inputAudioTranscription"],df());const h=s(e,["outputAudioTranscription"]);t!==void 0&&h!=null&&l(t,["setup","outputAudioTranscription"],df());const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&l(t,["setup","realtimeInputConfig"],hE(n,v));const _=s(e,["contextWindowCompression"]);t!==void 0&&_!=null&&l(t,["setup","contextWindowCompression"],yE(n,_));const S=s(e,["proactivity"]);return t!==void 0&&S!=null&&l(t,["setup","proactivity"],vE(n,S)),o}function TE(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["setup","model"],te(n,o));const i=s(e,["config"]);return i!=null&&l(t,["config"],CE(n,i,t)),t}function _E(n,e,t){const o={},i=s(e,["expireTime"]);t!==void 0&&i!=null&&l(t,["expireTime"],i);const r=s(e,["newSessionExpireTime"]);t!==void 0&&r!=null&&l(t,["newSessionExpireTime"],r);const a=s(e,["uses"]);t!==void 0&&a!=null&&l(t,["uses"],a);const u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&l(t,["bidiGenerateContentSetup"],TE(n,u));const c=s(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&l(t,["fieldMask"],c),o}function SE(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],_E(n,o,t)),t}function EE(n,e){const t={},o=s(e,["name"]);return o!=null&&l(t,["name"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${t}.${r}`);e.push(...i)}else e.push(t)}return e.join(",")}function wE(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(n.bidiGenerateContentSetup=r,t=r):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const r=xE(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?n.fieldMask=r:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];r&&c.push(r),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class IE extends uo{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=SE(this.apiClient,e);r=$("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=wE(u,e.config);return i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),i.then(f=>EE(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function kE(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);return t!==void 0&&a!=null&&l(t,["_query","filter"],a),o}function ME(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],kE(n,o,t)),t}function NE(n,e){const t={},o=s(e,["textInput"]);o!=null&&l(t,["textInput"],o);const i=s(e,["output"]);return i!=null&&l(t,["output"],i),t}function PE(n,e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>NE(n,r))),l(t,["examples","examples"],i)}return t}function RE(n,e,t){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&l(t,["displayName"],i),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(e,["epochCount"]);t!==void 0&&r!=null&&l(t,["tuningTask","hyperparameters","epochCount"],r);const a=s(e,["learningRateMultiplier"]);if(a!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],a),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&l(t,["tuningTask","hyperparameters","batchSize"],u);const c=s(e,["learningRate"]);return t!==void 0&&c!=null&&l(t,["tuningTask","hyperparameters","learningRate"],c),o}function DE(n,e){const t={},o=s(e,["baseModel"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["trainingDataset"]);i!=null&&l(t,["tuningTask","trainingData"],PE(n,i));const r=s(e,["config"]);return r!=null&&l(t,["config"],RE(n,r,t)),t}function LE(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["_url","name"],o);const i=s(e,["config"]);return i!=null&&l(t,["config"],i),t}function FE(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&l(t,["_query","pageToken"],r);const a=s(e,["filter"]);return t!==void 0&&a!=null&&l(t,["_query","filter"],a),o}function UE(n,e){const t={},o=s(e,["config"]);return o!=null&&l(t,["config"],FE(n,o,t)),t}function VE(n,e,t){const o={},i=s(e,["gcsUri"]);if(t!==void 0&&i!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],i),s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function $E(n,e){const t={},o=s(e,["gcsUri"]);return o!=null&&l(t,["validationDatasetUri"],o),t}function BE(n,e,t){const o={},i=s(e,["validationDataset"]);t!==void 0&&i!=null&&l(t,["supervisedTuningSpec"],$E(n,i));const r=s(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&l(t,["tunedModelDisplayName"],r);const a=s(e,["description"]);t!==void 0&&a!=null&&l(t,["description"],a);const u=s(e,["epochCount"]);t!==void 0&&u!=null&&l(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=s(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&l(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=s(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&l(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=s(e,["adapterSize"]);if(t!==void 0&&d!=null&&l(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function zE(n,e){const t={},o=s(e,["baseModel"]);o!=null&&l(t,["baseModel"],o);const i=s(e,["trainingDataset"]);i!=null&&l(t,["supervisedTuningSpec","trainingDatasetUri"],VE(n,i,t));const r=s(e,["config"]);return r!=null&&l(t,["config"],BE(n,r,t)),t}function GE(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["model"],o);const i=s(e,["name"]);return i!=null&&l(t,["endpoint"],i),t}function bp(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["state"]);i!=null&&l(t,["state"],Lp(n,i));const r=s(e,["createTime"]);r!=null&&l(t,["createTime"],r);const a=s(e,["tuningTask","startTime"]);a!=null&&l(t,["startTime"],a);const u=s(e,["tuningTask","completeTime"]);u!=null&&l(t,["endTime"],u);const c=s(e,["updateTime"]);c!=null&&l(t,["updateTime"],c);const f=s(e,["description"]);f!=null&&l(t,["description"],f);const d=s(e,["baseModel"]);d!=null&&l(t,["baseModel"],d);const p=s(e,["_self"]);p!=null&&l(t,["tunedModel"],GE(n,p));const m=s(e,["distillationSpec"]);m!=null&&l(t,["distillationSpec"],m);const g=s(e,["experiment"]);g!=null&&l(t,["experiment"],g);const C=s(e,["labels"]);C!=null&&l(t,["labels"],C);const T=s(e,["pipelineJob"]);T!=null&&l(t,["pipelineJob"],T);const x=s(e,["serviceAccount"]);x!=null&&l(t,["serviceAccount"],x);const y=s(e,["tunedModelDisplayName"]);return y!=null&&l(t,["tunedModelDisplayName"],y),t}function OE(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["tunedModels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>bp(n,a))),l(t,["tuningJobs"],r)}return t}function HE(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["metadata"]);i!=null&&l(t,["metadata"],i);const r=s(e,["done"]);r!=null&&l(t,["done"],r);const a=s(e,["error"]);return a!=null&&l(t,["error"],a),t}function qE(n,e){const t={},o=s(e,["checkpointId"]);o!=null&&l(t,["checkpointId"],o);const i=s(e,["epoch"]);i!=null&&l(t,["epoch"],i);const r=s(e,["step"]);r!=null&&l(t,["step"],r);const a=s(e,["endpoint"]);return a!=null&&l(t,["endpoint"],a),t}function WE(n,e){const t={},o=s(e,["model"]);o!=null&&l(t,["model"],o);const i=s(e,["endpoint"]);i!=null&&l(t,["endpoint"],i);const r=s(e,["checkpoints"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>qE(n,u))),l(t,["checkpoints"],a)}return t}function Ml(n,e){const t={},o=s(e,["name"]);o!=null&&l(t,["name"],o);const i=s(e,["state"]);i!=null&&l(t,["state"],Lp(n,i));const r=s(e,["createTime"]);r!=null&&l(t,["createTime"],r);const a=s(e,["startTime"]);a!=null&&l(t,["startTime"],a);const u=s(e,["endTime"]);u!=null&&l(t,["endTime"],u);const c=s(e,["updateTime"]);c!=null&&l(t,["updateTime"],c);const f=s(e,["error"]);f!=null&&l(t,["error"],f);const d=s(e,["description"]);d!=null&&l(t,["description"],d);const p=s(e,["baseModel"]);p!=null&&l(t,["baseModel"],p);const m=s(e,["tunedModel"]);m!=null&&l(t,["tunedModel"],WE(n,m));const g=s(e,["supervisedTuningSpec"]);g!=null&&l(t,["supervisedTuningSpec"],g);const C=s(e,["tuningDataStats"]);C!=null&&l(t,["tuningDataStats"],C);const T=s(e,["encryptionSpec"]);T!=null&&l(t,["encryptionSpec"],T);const x=s(e,["partnerModelTuningSpec"]);x!=null&&l(t,["partnerModelTuningSpec"],x);const y=s(e,["distillationSpec"]);y!=null&&l(t,["distillationSpec"],y);const h=s(e,["experiment"]);h!=null&&l(t,["experiment"],h);const v=s(e,["labels"]);v!=null&&l(t,["labels"],v);const _=s(e,["pipelineJob"]);_!=null&&l(t,["pipelineJob"],_);const S=s(e,["serviceAccount"]);S!=null&&l(t,["serviceAccount"],S);const E=s(e,["tunedModelDisplayName"]);return E!=null&&l(t,["tunedModelDisplayName"],E),t}function KE(n,e){const t={},o=s(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=s(e,["tuningJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Ml(n,a))),l(t,["tuningJobs"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JE extends uo{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Or(ro.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const o=await this.tuneMldevInternal(t);let i="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?i=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(i=o.name.split("/operations/")[0]),{name:i,state:Tl.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=LE(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Ml(this.apiClient,d))}else{const f=AE(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>bp(this.apiClient,d))}}async listInternal(e){var t,o,i,r;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=UE(this.apiClient,e);return u=$("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const p=KE(this.apiClient,d),m=new zc;return Object.assign(m,p),m})}else{const f=ME(this.apiClient,e);return u=$("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=OE(this.apiClient,d),m=new zc;return Object.assign(m,p),m})}}async tuneInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI()){const u=zE(this.apiClient,e);return r=$("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>Ml(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let i,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DE(this.apiClient,e);return r=$("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>HE(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YE{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZE=1024*1024*8,QE=3,XE=1e3,bE=2,vs="x-goog-upload-status";async function jE(n,e,t){var o,i,r;let a=0,u=0,c=new _l(new Response),f="upload";for(a=n.size;u<a;){const p=Math.min(ZE,a-u),m=n.slice(u,u+p);u+p>=a&&(f+=", finalize");let g=0,C=XE;for(;g<QE&&(c=await t.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=c==null?void 0:c.headers)===null||o===void 0)&&o[vs]));)g++,await tx(C),C=C*bE;if(u+=p,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[vs])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[vs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function ex(n){return{size:n.size,type:n.type}}function tx(n){return new Promise(e=>setTimeout(e,n))}class nx{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jE(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ex(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox{create(e,t,o){return new ix(e,t,o)}}class ix{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pf="x-goog-api-key";class rx{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(pf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sx="gl-node/";class lx{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=dy(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new rx(this.apiKey);this.apiClient=new SS({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:sx+"web",uploader:new nx,downloader:new YE}),this.models=new BS(this.apiClient),this.live=new LS(this.apiClient,i,new ox),this.chats=new $v(this.models,this.apiClient),this.caches=new Fv(this.apiClient),this.files=new Xv(this.apiClient),this.operations=new QS(this.apiClient),this.authTokens=new IE(this.apiClient),this.tunings=new JE(this.apiClient)}}let $n=null,Ni=null;const Ge="[geminiService]";function Cs(n){if(console.log(`${Ge} Attempting to initialize Gemini client.`),!n||n.trim()==="")return console.warn(`${Ge} API Key cannot be empty. Initialization aborted.`),$n=null,Ni=null,!1;console.log(`${Ge} API Key provided (length: ${n.length}).`);try{return $n&&Ni===n?(console.log(`${Ge} Gemini client already initialized with this key.`),!0):($n=new lx({apiKey:n}),Ni=n,console.log(`${Ge} GoogleGenAI client initialized successfully.`),!0)}catch(e){return console.error(`${Ge} Failed to initialize GoogleGenAI client:`,e),$n=null,Ni=null,!1}}async function ax(n){if(console.log(`${Ge} getGeminiResponse called.`),!$n)return console.warn(`${Ge} AI Service not initialized. Prompt: "${n}"`),"AI Service not initialized. Please provide a valid API Key first by sending it as a message.";console.log(`${Ge} Sending prompt to Gemini API: "${n}"`);try{const e=await $n.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n});console.log(`${Ge} Raw response from Gemini API:`,JSON.parse(JSON.stringify(e)));const t=e.text;return typeof t!="string"?(console.error(`${Ge} Unexpected response format from Gemini API. Expected a string. Full response:`,e),"AI response format is unexpected. Please try again."):(console.log(`${Ge} Received text response: "${t}"`),t)}catch(e){return console.error(`${Ge} Error calling Gemini API for prompt "${n}":`,e),e&&typeof e.message=="string"?`Error from AI: ${e.message}`:"An unexpected error occurred while contacting the AI."}}const O="[App.tsx]",ux=()=>{const n="Welcome! To get started, please enter your Gemini API Key in the `Update API Key:` field in the right column.",[e,t]=re.useState([]),[o,i]=re.useState(!1),[r,a]=re.useState(null),u=re.useRef(null),[c,f]=re.useState(null),[d,p]=re.useState(!1),[m,g]=re.useState(!0),[C,T]=re.useState("AI"),[x,y]=re.useState("User"),[h,v]=re.useState("AI"),[_,S]=re.useState("User"),E=()=>{var U;(U=u.current)==null||U.scrollIntoView({behavior:"smooth"})};re.useEffect(E,[e]),re.useEffect(()=>{console.log(`${O} Initial effect running for API key, AI name, and User name check.`);const U=localStorage.getItem("geminiApiKey"),q=localStorage.getItem("chatAiName"),W=localStorage.getItem("chatUserName");if(q?(console.log(`${O} Found stored AI Name: "${q}".`),T(q),v(q)):v(C),W?(console.log(`${O} Found stored User Name: "${W}".`),y(W),S(W)):S(x),U)if(console.log(`${O} Found stored API Key (length: ${U.length}). Attempting to initialize client.`),Cs(U)){f(U),p(!0),console.log(`${O} Gemini client initialized successfully with stored key.`);const he={id:"initial-ai-welcome-back",text:"Welcome back! Your API Key is loaded. How can I help you?",sender:_e.AI,timestamp:new Date};t([he]),console.log(`${O} Added welcome back message:`,he)}else{console.warn(`${O} Failed to initialize Gemini client with stored key. Clearing stored key.`),localStorage.removeItem("geminiApiKey");const he={id:"initial-ai-prompt-key-error-load",text:"There was an issue with your saved API Key. "+n,sender:_e.AI,timestamp:new Date};t([he]),console.log(`${O} Added key error message:`,he)}else{console.log(`${O} No stored API Key found. Prompting user for key.`);const j={id:"initial-ai-prompt-key",text:n,sender:_e.AI,timestamp:new Date};t([j]),console.log(`${O} Added initial prompt for API key message:`,j)}},[]),re.useEffect(()=>{localStorage.setItem("chatAiName",C),console.log(`${O} AI Name updated in localStorage: "${C}"`)},[C]),re.useEffect(()=>{localStorage.setItem("chatUserName",x),console.log(`${O} User Name updated in localStorage: "${x}"`)},[x]),re.useEffect(()=>{console.log(`${O} isLoading state changed to: ${o}`)},[o]),re.useEffect(()=>{r?console.error(`${O} Error state updated: ${r}`):console.log(`${O} Error state cleared.`)},[r]);const I=()=>{console.log(`${O} handleClearChat called.`),a(null);let U="Chat cleared.";d?U+=" How can I help you now?":U=n;const q={id:`ai-cleared-${Date.now()}`,text:U,sender:_e.AI,timestamp:new Date};t([q]),console.log(`${O} Chat cleared. Added message:`,q)},M=async U=>{if(console.log(`${O} handleSendMessage called with text: "${U}"`),a(null),!d){console.log(`${O} API Key not set. User tried to send message: "${U}". Prompting to set key.`);const W={id:`ai-prompt-set-key-${Date.now()}`,text:"Please set your API Key in the 'Chat Details' sidebar on the right before sending messages.",sender:_e.AI,timestamp:new Date};t(j=>[...j,W]),i(!1);return}const q={id:`user-${Date.now()}`,text:U,sender:_e.User,timestamp:new Date};console.log(`${O} Adding user message:`,q),t(W=>[...W,q]),i(!0),console.log(`${O} API Key is set. Sending prompt to Gemini.`);try{const W=await ax(U);console.log(`${O} Received AI response text: "${W}"`);const j={id:`ai-response-${Date.now()}`,text:W,sender:_e.AI,timestamp:new Date};console.log(`${O} Adding AI response message:`,j),t(he=>[...he,j])}catch(W){const j=W instanceof Error?W.message:"An unknown error occurred.";console.error(`${O} Error getting response from AI: ${j}`,W),a(`Failed to get response from AI: ${j}`);const he={id:`error-ai-response-${Date.now()}`,text:`Sorry, I encountered an error: ${j}`,sender:_e.AI,timestamp:new Date};console.log(`${O} Adding AI error message:`,he),t(vt=>[...vt,he])}finally{i(!1)}},L=U=>{const q=U.trim();if(console.log(`${O} handleApiKeyUpdate called with new key (length: ${q.length}).`),!q){console.warn(`${O} API Key update attempt with empty key ignored.`);const vt={id:`ai-key-update-empty-${Date.now()}`,text:"API Key cannot be empty. Please enter a valid API Key.",sender:_e.AI,timestamp:new Date};t(R=>[...R,vt]);return}const W=Cs(q);let j;W?(f(q),p(!0),localStorage.setItem("geminiApiKey",q),j="API Key set successfully! How can I help you today?",console.log(`${O} API Key updated and saved.`)):(j="Failed to initialize with the provided API Key. Please check the key and try again. Ensure it's a valid Gemini API Key.",console.warn(`${O} Failed to update/initialize API Key with new key.`));const he={id:`ai-key-update-feedback-${Date.now()}`,text:j,sender:_e.AI,timestamp:new Date};t(vt=>[...vt,he]),console.log(`${O} Added API key update feedback message:`,he)},N=()=>{console.log(`${O} handleClearApiKey called.`),localStorage.removeItem("geminiApiKey"),f(null),p(!1),Cs(""),console.log(`${O} API Key cleared from localStorage and state. Gemini client de-initialized.`);const U={id:`ai-key-cleared-feedback-${Date.now()}`,text:"API Key has been cleared. "+n,sender:_e.AI,timestamp:new Date};t([U]),console.log(`${O} Added API key cleared feedback message:`,U)},Y=()=>{const U=h.trim()||"AI",q=_.trim()||"User";console.log(`${O} handleUpdateCustomNames called. Setting AI: "${U}", User: "${q}"`),T(U),y(q),v(U),S(q);const W={id:`ai-names-updated-${Date.now()}`,text:`Display names updated! AI is now "${U}", and you are "${q}". These names will be used in chat displays and exports.`,sender:_e.AI,timestamp:new Date};t(j=>[...j,W]),console.log(`${O} Custom names updated. Feedback message added to chat.`)};return k.jsxs("div",{className:"flex flex-col h-screen",children:[k.jsx("div",{style:{backgroundColor:"#1C2333",height:"20px"},className:"w-full shrink-0"}),k.jsxs("div",{className:"flex flex-grow overflow-hidden bg-slate-900 text-slate-100",children:[k.jsx("div",{className:"w-[0px] bg-[#1C2333] p-0 shadow-lg shrink-0"}),k.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden relative",children:[k.jsx("button",{onClick:()=>{console.log(`${O} Toggling right sidebar. Current visibility: ${m}`),g(!m)},className:"absolute top-3 right-3 z-20 p-2 bg-slate-700 hover:bg-slate-600 rounded-full text-slate-300 hover:text-slate-100 transition-colors","aria-label":m?"Hide chat details":"Show chat details",title:m?"Hide chat details":"Show chat details",children:m?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})}),r&&k.jsxs("div",{className:"p-3 bg-red-700 text-red-100 border-b border-red-600 text-sm",role:"alert",children:[k.jsx("strong",{children:"Error:"})," ",r]}),k.jsxs("main",{className:"flex-grow p-6 overflow-y-auto space-y-6 bg-slate-900",children:[e.map(U=>k.jsx(kg,{message:U,aiName:C,userName:x},U.id)),k.jsx("div",{ref:u})]}),k.jsx("div",{className:"bg-slate-800 px-2 pt-2 pb-1 border-t border-slate-700",children:k.jsx(Ng,{onSendMessage:M,isLoading:o,messages:e,aiName:C,userName:x,placeholder:d?"Type your message to Gemini...":"Set API Key in the sidebar to chat ->"})})]}),k.jsx("div",{className:`bg-slate-800 flex flex-col shadow-lg border-l border-slate-700 transition-all duration-300 ease-in-out overflow-y-auto shrink-0 ${m?"w-72 pt-6 pb-6 px-[5px]":"w-0 p-0"}`,style:{scrollbarWidth:"thin",scrollbarColor:"#334155 #1e293b"},children:m&&k.jsxs(k.Fragment,{children:[k.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-4 whitespace-nowrap",children:"Chat Details"}),k.jsxs("div",{className:"space-y-3 text-sm text-slate-300 mb-6 whitespace-nowrap",children:[k.jsxs("p",{children:["Messages: ",k.jsx("span",{className:"font-medium text-slate-100",children:e.length})]}),k.jsxs("p",{children:["API Key Status: ",d?k.jsx("span",{className:"text-green-400 font-medium",children:"Set"}):k.jsx("span",{className:"text-yellow-400 font-medium",children:"Not Set"})]}),d&&c&&k.jsx("div",{className:"mt-2 text-xs",children:k.jsxs("p",{className:"text-slate-400",children:["Current Key: ",k.jsxs("span",{className:"text-slate-500 font-mono",children:[c.substring(0,4),"...",c.substring(c.length-4)]})]})})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:"apiKeyInputSidebar",className:"block text-xs font-medium text-slate-400 mb-1",children:"Update API Key:"}),k.jsx("input",{id:"apiKeyInputSidebar",type:"password",placeholder:"Enter API key",onKeyDown:U=>{if(U.key==="Enter"){U.preventDefault();const q=U.target;q.value.trim()&&(console.log(`${O} API Key update submitted from sidebar input via Enter key.`),L(q.value.trim()),q.value="")}},className:"w-full p-2 bg-slate-700 border border-slate-600 rounded-md text-sm placeholder-slate-500 focus:ring-blue-500 focus:border-blue-500"}),k.jsx("button",{onClick:()=>{const U=document.getElementById("apiKeyInputSidebar");if(U&&U.value.trim())console.log(`${O} API Key update submitted from sidebar button.`),L(U.value.trim()),U.value="";else{console.log(`${O} API Key update button clicked, but input was empty.`);const q={id:`ai-key-update-input-empty-${Date.now()}`,text:"Please enter an API Key in the field above before clicking 'Update Key'.",sender:_e.AI,timestamp:new Date};t(W=>[...W,q])}},className:"mt-2 w-full px-3 py-1.5 bg-sky-600 text-white rounded-md hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50 text-xs",children:"Update Key"}),d&&k.jsx("button",{onClick:N,className:"mt-2 w-full px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-xs",children:"Clear Saved API Key"})]}),k.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[k.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-2 whitespace-nowrap",children:"Customize Export Names"}),k.jsxs("div",{className:"mb-2",children:[k.jsx("label",{htmlFor:"aiNameInputSidebar",className:"block text-xs font-medium text-slate-400 mb-1",children:"AI Name:"}),k.jsx("input",{id:"aiNameInputSidebar",type:"text",placeholder:"e.g., Assistant",value:h,onChange:U=>v(U.target.value),onKeyDown:U=>{U.key==="Enter"&&(U.preventDefault(),console.log(`${O} AI Name update submitted via Enter key.`),Y())},className:"w-full p-1.5 bg-slate-700 border border-slate-600 rounded-md text-sm placeholder-slate-500 focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{className:"mb-3",children:[k.jsx("label",{htmlFor:"userNameInputSidebar",className:"block text-xs font-medium text-slate-400 mb-1",children:"Your Name:"}),k.jsx("input",{id:"userNameInputSidebar",type:"text",placeholder:"e.g., Explorer",value:_,onChange:U=>S(U.target.value),onKeyDown:U=>{U.key==="Enter"&&(U.preventDefault(),console.log(`${O} User Name update submitted via Enter key.`),Y())},className:"w-full p-1.5 bg-slate-700 border border-slate-600 rounded-md text-sm placeholder-slate-500 focus:ring-blue-500 focus:border-blue-500"})]}),k.jsx("button",{onClick:Y,className:"w-full px-3 py-1.5 bg-sky-600 text-white rounded-md hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50 text-xs",children:"Save Names"})]}),k.jsxs("button",{onClick:I,"aria-label":"Clear current chat messages",className:"mt-auto mx-auto max-w-[80%] px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:bg-slate-600 disabled:cursor-not-allowed transition-colors duration-150 ease-in-out flex items-center justify-center text-sm font-medium whitespace-nowrap",children:[k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"50px",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-2",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75L14.25 12m0 0L12 14.25m2.25-2.25L14.25 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Clear Chat"]}),k.jsx("div",{className:"mt-4 text-xs text-slate-500 text-center whitespace-nowrap",children:"Chat history is local to this session."})]})})]})]})},jp=document.getElementById("root");if(!jp)throw new Error("Could not find root element to mount to");const cx=Ts.createRoot(jp);cx.render(k.jsx(gm.StrictMode,{children:k.jsx(ux,{})}));
